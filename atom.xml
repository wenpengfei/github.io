<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å¤œè‰²é•‡æ­Œ</title>
  
  <subtitle>åšå®¢</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://catwen.cn/"/>
  <updated>2021-12-18T15:50:15.704Z</updated>
  <id>https://catwen.cn/</id>
  
  <author>
    <name>æ–‡é¹é£</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>13 è¡Œ JavaScript ä»£ç è®©ä½ çœ‹èµ·æ¥åƒæ˜¯é«˜æ‰‹</title>
    <link href="https://catwen.cn/2021/12/18/13-javascript-one-liners-thatll-make-you-look-like-a-pro/"/>
    <id>https://catwen.cn/2021/12/18/13-javascript-one-liners-thatll-make-you-look-like-a-pro/</id>
    <published>2021-12-18T22:11:14.000Z</published>
    <updated>2021-12-18T15:50:15.704Z</updated>
    
    <content type="html"><![CDATA[<p><code>Javascript</code> å¯ä»¥åšè®¸å¤šç¥å¥‡çš„äº‹æƒ…ï¼Œä¹Ÿæœ‰å¾ˆå¤šä¸œè¥¿éœ€è¦å­¦ä¹ ï¼Œä»Šå¤©æˆ‘ä»¬ä»‹ç»å‡ ä¸ªçŸ­å°ç²¾æ‚çš„ä»£ç æ®µã€‚</p><h2 id="è·å–éšæœºå¸ƒå°”å€¼ï¼ˆTrue-Falseï¼‰"><a href="#è·å–éšæœºå¸ƒå°”å€¼ï¼ˆTrue-Falseï¼‰" class="headerlink" title="è·å–éšæœºå¸ƒå°”å€¼ï¼ˆTrue/Falseï¼‰"></a>è·å–éšæœºå¸ƒå°”å€¼ï¼ˆTrue/Falseï¼‰</h2><p>ä½¿ç”¨ <code>Math.random()</code> ä¼šè¿”å› 0 åˆ° 1 çš„éšæœºæ•°ï¼Œä¹‹ååˆ¤æ–­å®ƒæ˜¯å¦å¤§äº 0.5ï¼Œå°†ä¼šå¾—åˆ°ä¸€ä¸ª 50% æ¦‚ç‡ä¸º <code>True</code> æˆ– <code>False</code> çš„å€¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> randomBoolean = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">Math</span>.random() &gt;= <span class="number">0.5</span>;</span><br><span class="line"><span class="built_in">console</span>.log(randomBoolean());</span><br></pre></td></tr></table></figure><h2 id="åˆ¤æ–­ä¸€ä¸ªæ—¥æœŸæ˜¯å¦æ˜¯å·¥ä½œæ—¥"><a href="#åˆ¤æ–­ä¸€ä¸ªæ—¥æœŸæ˜¯å¦æ˜¯å·¥ä½œæ—¥" class="headerlink" title="åˆ¤æ–­ä¸€ä¸ªæ—¥æœŸæ˜¯å¦æ˜¯å·¥ä½œæ—¥"></a>åˆ¤æ–­ä¸€ä¸ªæ—¥æœŸæ˜¯å¦æ˜¯å·¥ä½œæ—¥</h2><p>åˆ¤æ–­ç»™å®šçš„æ—¥æœŸæ˜¯å¦æ˜¯å·¥ä½œæ—¥</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isWeekday = <span class="function">(<span class="params">date</span>) =&gt;</span> date.getDay() % <span class="number">6</span> !== <span class="number">0</span>;</span><br><span class="line"><span class="built_in">console</span>.log(isWeekday(<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2021</span>, <span class="number">0</span>, <span class="number">11</span>)));</span><br><span class="line"><span class="comment">// Result: true (å‘¨ä¸€)</span></span><br><span class="line"><span class="built_in">console</span>.log(isWeekday(<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2021</span>, <span class="number">0</span>, <span class="number">10</span>)));</span><br><span class="line"><span class="comment">// Result: false (å‘¨æ—¥)</span></span><br></pre></td></tr></table></figure><h2 id="åè½¬å­—ç¬¦ä¸²"><a href="#åè½¬å­—ç¬¦ä¸²" class="headerlink" title="åè½¬å­—ç¬¦ä¸²"></a>åè½¬å­—ç¬¦ä¸²</h2><p>æœ‰è®¸å¤šåè½¬å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œè¿™é‡Œä½¿ç”¨ä¸€ç§æœ€ç®€å•çš„ï¼Œä½¿ç”¨äº† <code>split()</code>ï¼Œ<code>reverse()</code> å’Œ <code>join()</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reverse = <span class="function"><span class="params">str</span> =&gt;</span> str.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>);</span><br><span class="line">reverse(<span class="string">'hello world'</span>);     </span><br><span class="line"><span class="comment">// Result: 'dlrow olleh'</span></span><br></pre></td></tr></table></figure><h2 id="åˆ¤æ–­å½“å‰æ ‡ç­¾é¡µæ˜¯å¦ä¸ºå¯è§†çŠ¶æ€"><a href="#åˆ¤æ–­å½“å‰æ ‡ç­¾é¡µæ˜¯å¦ä¸ºå¯è§†çŠ¶æ€" class="headerlink" title="åˆ¤æ–­å½“å‰æ ‡ç­¾é¡µæ˜¯å¦ä¸ºå¯è§†çŠ¶æ€"></a>åˆ¤æ–­å½“å‰æ ‡ç­¾é¡µæ˜¯å¦ä¸ºå¯è§†çŠ¶æ€</h2><p>æµè§ˆå™¨å¯ä»¥æ‰“å¼€å¾ˆå¤šæ ‡ç­¾é¡µï¼Œä¸‹é¢ ğŸ‘‡ğŸ» çš„ä»£ç æ®µå°±æ˜¯åˆ¤æ–­å½“å‰æ ‡ç­¾é¡µæ˜¯å¦æ˜¯æ¿€æ´»çš„æ ‡ç­¾é¡µ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isBrowserTabInView = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">document</span>.hidden;</span><br><span class="line">isBrowserTabInView();</span><br></pre></td></tr></table></figure><h2 id="åˆ¤æ–­æ•°å­—ä¸ºå¥‡æ•°æˆ–è€…å¶æ•°"><a href="#åˆ¤æ–­æ•°å­—ä¸ºå¥‡æ•°æˆ–è€…å¶æ•°" class="headerlink" title="åˆ¤æ–­æ•°å­—ä¸ºå¥‡æ•°æˆ–è€…å¶æ•°"></a>åˆ¤æ–­æ•°å­—ä¸ºå¥‡æ•°æˆ–è€…å¶æ•°</h2><p>å–æ¨¡è¿ç®—ç¬¦ <code>%</code> å¯ä»¥å¾ˆå¥½åœ°å®Œæˆè¿™ä¸ªä»»åŠ¡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isEven = <span class="function"><span class="params">num</span> =&gt;</span> num % <span class="number">2</span> === <span class="number">0</span>;</span><br><span class="line"><span class="built_in">console</span>.log(isEven(<span class="number">2</span>));</span><br><span class="line"><span class="comment">// Result: true</span></span><br><span class="line"><span class="built_in">console</span>.log(isEven(<span class="number">3</span>));</span><br><span class="line"><span class="comment">// Result: false</span></span><br></pre></td></tr></table></figure><h2 id="ä»-Date-å¯¹è±¡ä¸­è·å–æ—¶é—´"><a href="#ä»-Date-å¯¹è±¡ä¸­è·å–æ—¶é—´" class="headerlink" title="ä» Date å¯¹è±¡ä¸­è·å–æ—¶é—´"></a>ä» Date å¯¹è±¡ä¸­è·å–æ—¶é—´</h2><p>ä½¿ç”¨ <code>Date</code> å¯¹è±¡çš„ <code>.toTimeString()</code> æ–¹æ³•è½¬æ¢ä¸ºæ—¶é—´å­—ç¬¦ä¸²ï¼Œä¹‹åæˆªå–å­—ç¬¦ä¸²å³å¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> timeFromDate = <span class="function"><span class="params">date</span> =&gt;</span> date.toTimeString().slice(<span class="number">0</span>, <span class="number">8</span>);</span><br><span class="line"><span class="built_in">console</span>.log(timeFromDate(<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2021</span>, <span class="number">0</span>, <span class="number">10</span>, <span class="number">17</span>, <span class="number">30</span>, <span class="number">0</span>))); </span><br><span class="line"><span class="comment">// Result: "17:30:00"</span></span><br><span class="line"><span class="built_in">console</span>.log(timeFromDate(<span class="keyword">new</span> <span class="built_in">Date</span>()));</span><br><span class="line"><span class="comment">// Result: è¿”å›å½“å‰æ—¶é—´</span></span><br></pre></td></tr></table></figure><h2 id="ä¿ç•™æŒ‡å®šçš„å°æ•°ä½"><a href="#ä¿ç•™æŒ‡å®šçš„å°æ•°ä½" class="headerlink" title="ä¿ç•™æŒ‡å®šçš„å°æ•°ä½"></a>ä¿ç•™æŒ‡å®šçš„å°æ•°ä½</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> toFixed = <span class="function">(<span class="params">n, fixed</span>) =&gt;</span> ~~(<span class="built_in">Math</span>.pow(<span class="number">10</span>, fixed) * n) / <span class="built_in">Math</span>.pow(<span class="number">10</span>, fixed);</span><br><span class="line"><span class="comment">// Examples</span></span><br><span class="line">toFixed(<span class="number">25.198726354</span>, <span class="number">1</span>);       <span class="comment">// 25.1</span></span><br><span class="line">toFixed(<span class="number">25.198726354</span>, <span class="number">2</span>);       <span class="comment">// 25.19</span></span><br><span class="line">toFixed(<span class="number">25.198726354</span>, <span class="number">3</span>);       <span class="comment">// 25.198</span></span><br><span class="line">toFixed(<span class="number">25.198726354</span>, <span class="number">4</span>);       <span class="comment">// 25.1987</span></span><br><span class="line">toFixed(<span class="number">25.198726354</span>, <span class="number">5</span>);       <span class="comment">// 25.19872</span></span><br><span class="line">toFixed(<span class="number">25.198726354</span>, <span class="number">6</span>);       <span class="comment">// 25.198726</span></span><br></pre></td></tr></table></figure><h2 id="æ£€æŸ¥æŒ‡å®šå…ƒç´ æ˜¯å¦å¤„äºèšç„¦çŠ¶æ€"><a href="#æ£€æŸ¥æŒ‡å®šå…ƒç´ æ˜¯å¦å¤„äºèšç„¦çŠ¶æ€" class="headerlink" title="æ£€æŸ¥æŒ‡å®šå…ƒç´ æ˜¯å¦å¤„äºèšç„¦çŠ¶æ€"></a>æ£€æŸ¥æŒ‡å®šå…ƒç´ æ˜¯å¦å¤„äºèšç„¦çŠ¶æ€</h2><p>å¯ä»¥ä½¿ç”¨ <code>document.activeElement</code> æ¥åˆ¤æ–­å…ƒç´ æ˜¯å¦å¤„äºèšç„¦çŠ¶æ€</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> elementIsInFocus = <span class="function">(<span class="params">el</span>) =&gt;</span> (el === <span class="built_in">document</span>.activeElement);</span><br><span class="line">elementIsInFocus(anyElement)</span><br><span class="line"><span class="comment">// Result: å¦‚æœå¤„äºç„¦ç‚¹çŠ¶æ€ä¼šè¿”å› True å¦åˆ™è¿”å› False</span></span><br></pre></td></tr></table></figure><h2 id="æ£€æŸ¥å½“å‰ç”¨æˆ·æ˜¯å¦æ”¯æŒè§¦æ‘¸äº‹ä»¶"><a href="#æ£€æŸ¥å½“å‰ç”¨æˆ·æ˜¯å¦æ”¯æŒè§¦æ‘¸äº‹ä»¶" class="headerlink" title="æ£€æŸ¥å½“å‰ç”¨æˆ·æ˜¯å¦æ”¯æŒè§¦æ‘¸äº‹ä»¶"></a>æ£€æŸ¥å½“å‰ç”¨æˆ·æ˜¯å¦æ”¯æŒè§¦æ‘¸äº‹ä»¶</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> touchSupported = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  (<span class="string">'ontouchstart'</span> <span class="keyword">in</span> <span class="built_in">window</span> || <span class="built_in">window</span>.DocumentTouch &amp;&amp; <span class="built_in">document</span> <span class="keyword">instanceof</span> <span class="built_in">window</span>.DocumentTouch);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(touchSupported());</span><br><span class="line"><span class="comment">// Result: å¦‚æœæ”¯æŒè§¦æ‘¸äº‹ä»¶ä¼šè¿”å› True å¦åˆ™è¿”å› False</span></span><br></pre></td></tr></table></figure><h2 id="æ£€æŸ¥å½“å‰ç”¨æˆ·æ˜¯å¦æ˜¯è‹¹æœè®¾å¤‡"><a href="#æ£€æŸ¥å½“å‰ç”¨æˆ·æ˜¯å¦æ˜¯è‹¹æœè®¾å¤‡" class="headerlink" title="æ£€æŸ¥å½“å‰ç”¨æˆ·æ˜¯å¦æ˜¯è‹¹æœè®¾å¤‡"></a>æ£€æŸ¥å½“å‰ç”¨æˆ·æ˜¯å¦æ˜¯è‹¹æœè®¾å¤‡</h2><p>å¯ä»¥ä½¿ç”¨ <code>navigator.platform</code> åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦æ˜¯è‹¹æœè®¾å¤‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isAppleDevice = <span class="regexp">/Mac|iPod|iPhone|iPad/</span>.test(navigator.platform);</span><br><span class="line"><span class="built_in">console</span>.log(isAppleDevice);</span><br><span class="line"><span class="comment">// Result: æ˜¯è‹¹æœè®¾å¤‡ä¼šè¿”å› True</span></span><br></pre></td></tr></table></figure><h2 id="æ»šåŠ¨è‡³é¡µé¢é¡¶éƒ¨"><a href="#æ»šåŠ¨è‡³é¡µé¢é¡¶éƒ¨" class="headerlink" title="æ»šåŠ¨è‡³é¡µé¢é¡¶éƒ¨"></a>æ»šåŠ¨è‡³é¡µé¢é¡¶éƒ¨</h2><p><code>window.scrollTo()</code> ä¼šæ»šåŠ¨è‡³æŒ‡å®šçš„åæ ‡ï¼Œå¦‚æœè®¾ç½®åæ ‡ä¸ºï¼ˆ0ï¼Œ0ï¼‰ï¼Œå°±ä¼šå›åˆ°é¡µé¢é¡¶éƒ¨</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> goToTop = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">window</span>.scrollTo(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">goToTop();</span><br><span class="line"><span class="comment">// Result: å°†ä¼šæ»šåŠ¨è‡³é¡¶éƒ¨</span></span><br></pre></td></tr></table></figure><h2 id="è·å–æ‰€æœ‰å‚æ•°çš„å¹³å‡å€¼"><a href="#è·å–æ‰€æœ‰å‚æ•°çš„å¹³å‡å€¼" class="headerlink" title="è·å–æ‰€æœ‰å‚æ•°çš„å¹³å‡å€¼"></a>è·å–æ‰€æœ‰å‚æ•°çš„å¹³å‡å€¼</h2><p>å¯ä»¥ä½¿ç”¨ <code>reduce()</code> å‡½æ•°æ¥è®¡ç®—æ‰€æœ‰å‚æ•°çš„å¹³å‡å€¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> average = <span class="function">(<span class="params">...args</span>) =&gt;</span> args.reduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b) / args.length;</span><br><span class="line">average(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line"><span class="comment">// Result: 2.5</span></span><br></pre></td></tr></table></figure><h2 id="è½¬æ¢åæ°-æ‘„æ°"><a href="#è½¬æ¢åæ°-æ‘„æ°" class="headerlink" title="è½¬æ¢åæ°/æ‘„æ°"></a>è½¬æ¢åæ°/æ‘„æ°</h2><p>å†ä¹Ÿä¸æ€•å¤„ç†æ¸©åº¦å•ä½äº†ï¼Œä¸‹é¢ä¸¤ä¸ªå‡½æ•°æ˜¯ä¸¤ä¸ªæ¸©åº¦å•ä½çš„ç›¸äº’è½¬æ¢ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> celsiusToFahrenheit = <span class="function">(<span class="params">celsius</span>) =&gt;</span> celsius * <span class="number">9</span>/<span class="number">5</span> + <span class="number">32</span>;</span><br><span class="line"><span class="keyword">const</span> fahrenheitToCelsius = <span class="function">(<span class="params">fahrenheit</span>) =&gt;</span> (fahrenheit - <span class="number">32</span>) * <span class="number">5</span>/<span class="number">9</span>;</span><br><span class="line"><span class="comment">// Examples</span></span><br><span class="line">celsiusToFahrenheit(<span class="number">15</span>);    <span class="comment">// 59</span></span><br><span class="line">celsiusToFahrenheit(<span class="number">0</span>);     <span class="comment">// 32</span></span><br><span class="line">celsiusToFahrenheit(<span class="number">-20</span>);   <span class="comment">// -4</span></span><br><span class="line">fahrenheitToCelsius(<span class="number">59</span>);    <span class="comment">// 15</span></span><br><span class="line">fahrenheitToCelsius(<span class="number">32</span>);    <span class="comment">// 0</span></span><br></pre></td></tr></table></figure><p>æ„Ÿè°¢é˜…è¯»ï¼Œå¸Œæœ›ä½ ä¼šæœ‰æ‰€æ”¶è·ğŸ˜„</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;code&gt;Javascript&lt;/code&gt; å¯ä»¥åšè®¸å¤šç¥å¥‡çš„äº‹æƒ…ï¼Œä¹Ÿæœ‰å¾ˆå¤šä¸œè¥¿éœ€è¦å­¦ä¹ ï¼Œä»Šå¤©æˆ‘ä»¬ä»‹ç»å‡ ä¸ªçŸ­å°ç²¾æ‚çš„ä»£ç æ®µã€‚&lt;/p&gt;
&lt;h2 id=&quot;è·å–éšæœºå¸ƒå°”å€¼ï¼ˆTrue-Falseï¼‰&quot;&gt;&lt;a href=&quot;#è·å–éšæœºå¸ƒå°”å€¼ï¼ˆTrue-Falseï¼‰&quot; class=&quot;he
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>å®¶åº­ç½‘ç»œå’ŒæœåŠ¡æ­å»º</title>
    <link href="https://catwen.cn/2021/12/12/home-networking-and-service/"/>
    <id>https://catwen.cn/2021/12/12/home-networking-and-service/</id>
    <published>2021-12-12T21:34:45.000Z</published>
    <updated>2021-12-18T15:50:15.704Z</updated>
    
    <content type="html"><![CDATA[<p>é¦–å…ˆå‘ä¸€ä¸‹ç¬”è€…å®¶åº­ç½‘ç»œçš„æ‹“æ‰‘å›¾</p><p><img src="/images/home-networking-and-service/1.jpg" alt></p><h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>ç¬”è€…å¯¹å®¶åº­ç½‘ç»œå’ŒæœåŠ¡çš„éœ€æ±‚å¦‚ä¸‹ï¼š</p><ol><li>å®¶é‡Œæ‰€æœ‰è®¾å¤‡éƒ½å¯ä»¥å‡ºå›½ç•™å­¦ï¼Œå¹¶ä¸”å¯ä»¥æµç•…è§‚çœ‹ <code>Netflix</code> å’Œ <code>Youtube</code></li><li>ä¸‹è½½æ–‡ä»¶æ—¶ä¸å½±å“åœ¨çº¿æµåª’ä½“ï¼Œæœ€å¥½å¯ä»¥ä½åŠŸè€—ç¦»çº¿ä¸‹è½½</li><li>ä¸€ä¸ªå¯é çš„æ•°æ®ä¸­å¿ƒå­˜å‚¨ç›¸æœºæ‹çš„å¤§å°ºå¯¸çš„ç…§ç‰‡å’Œè§†é¢‘ï¼Œå¹¶ä¸”å®¶é‡Œçš„è®¾å¤‡éƒ½å¯ä»¥è®¿é—®</li><li>å½±éŸ³æœåŠ¡å™¨ï¼Œå¯ä»¥ä½¿å…¨å®¶çš„ç”µè§†ã€ç§»åŠ¨è®¾å¤‡ç­‰è®¿é—®ä¸‹è½½çš„ç”µå½±ã€ç”µè§†å‰§ã€ç…§ç‰‡ï¼Œæœ€å¥½å¯ä»¥ä¸²æµ</li><li>è‡ªå»ºç½‘ç›˜å¹¶ä¸”å¯ä»¥åœ¨å®¶åº­ç½‘ç»œä¹‹å¤–è®¿é—®</li><li>å±€åŸŸç½‘ä¸‡å…†ç½‘ç»œ</li></ol><h2 id="å®æ–½"><a href="#å®æ–½" class="headerlink" title="å®æ–½"></a>å®æ–½</h2><p>è™½è¯´ä¹°ä¸€ä¸ªå¯ä»¥åˆ·<code>æ¢…æ—</code>çš„è·¯ç”±å™¨å°±å¯ä»¥å®ç°æ‰€æœ‰è®¾å¤‡å‡ºå›½ï¼Œä½†æ˜¯çœ‹å¥ˆé£å‹åŠ›è¿˜æ˜¯å¤ªå¤§ï¼Œæ‰€ä»¥è¿˜æ˜¯é€‰æ‹©äº†è½¯è·¯ç”±ï¼Œå¹¶ä¸”è½¯è·¯ç”±æœ€å¥½è¿˜å¯ä»¥æ”¯æŒè™šæ‹Ÿæœºï¼Œè¿™æ ·å¯ç©æ€§ä¹Ÿæ›´é«˜ä¸€äº›ï¼Œç»è¿‡ä¸€ç³»åˆ—çš„å¯¹æ¯”é€‰æ‹©äº† <code>3865U</code>ï¼Œè½»åº¦çš„è™šæ‹Ÿæœºéœ€æ±‚å®ƒä¹Ÿæ˜¯å¯ä»¥èƒœä»»çš„ï¼Œä½†æ˜¯å®ƒçš„ <code>NAT</code> æ€§èƒ½æ˜¯è¿‡å‰©çš„ã€‚å¦‚æœæ²¡æœ‰è™šæ‹Ÿæœºçš„éœ€æ±‚ï¼Œå¹¶ä¸”å®¶é‡Œå®½å¸¦åœ¨ <code>1000M ä»¥ä¸‹</code>ä¹°ä¸ª <code>J1900</code> æˆ–è€… <code>R2S</code> è·‘æ»¡å¸¦å®½æ˜¯å®Œå…¨æ²¡æœ‰é—®é¢˜çš„ã€‚</p><p>ç¬¬äºŒä¸ªéœ€æ±‚æ˜¯éœ€è¦ä¸€ä¸ªä¼˜ç§€çš„æµé‡æ§åˆ¶å·¥å…·ï¼Œç»è¿‡ä¸€ç•ªç ”ç©¶ï¼Œæˆ‘çš„å›ºä»¶é€‰æ‹©äº†<code>çˆ±å¿«</code>ï¼Œå¹¶ä¸”åœ¨çˆ±å¿«çš„è™šæ‹Ÿæœºé‡Œè£…äº† <code>Openwrt</code>ã€‚çˆ±å¿«åšæµé‡æ§åˆ¶ï¼Œ<code>Openwrt</code> å‡ºå›½çœ‹ <code>Netflix</code> å’Œ <code>Youtube</code>ï¼Œå„å¸å…¶èŒï¼Œç›¸å¤„èæ´½ã€‚</p><p>ç¬¬ä¸‰ä¸ªéœ€æ±‚æ˜¾ç„¶æ˜¯éœ€è¦ä¸€ä¸ª <code>NAS</code> äº†ï¼Œå…³äº NAS å¯ä»¥ä¹°æˆå“çš„ç¾¤è¾‰ã€å¨è”é€šç­‰ç­‰ï¼ŒåŠ¨æ‰‹èƒ½åŠ›å¼ºçš„ä¹Ÿå¯ä»¥æ·˜ä¸€äº›ç¡¬ä»¶è‡ªå·±ç»„è£…ï¼Œç¬”è€…æ˜¯è‡ªå·±ç»„è£…ï¼ŒæŸæµ·äº§å“å¹³å°æ·˜äº†ä¸€äº›ç¡¬ä»¶åˆåœ¨æŸå®ä¹°äº†æ–°çš„æœºç®±ä¸å«ç¡¬ç›˜èŠ±äº†å¤§æ¦‚ 2000 å·¦å³å§ï¼Œå…‰æ˜¯æœºç®±å°±èŠ±äº† 1000 å¤§æ´‹ï¼Œè‚‰ç–¼ã€‚</p><p>NAS ç»„è£…å¥½åä½¿ç”¨èµ·æ¥è¿˜æ˜¯å¾ˆçˆ½çš„ï¼Œç³»ç»Ÿé€‰æ‹©äº† <code>unraid</code>ï¼Œè£…äº† <code>transmission</code> ä¸‹è½½ pt ï¼Œä¸‹è½½å¥½çš„ç”µå½±ã€ç”µè§†å‰§é€šè¿‡ <code>Plex</code> ä¸²æµåˆ°ç”µè§†æˆ–è€…ç§»åŠ¨è®¾å¤‡ä¸Šï¼Œä¹Ÿå¯ä»¥ç”¨ <code>Kodi</code> å±€åŸŸç½‘ç›´è¿ï¼Œç¬”è€…åœ¨ä¸‰æ¥¼ï¼Œæ²¡æœ‰ç”µè§†ï¼Œä¹°äº†ä¸ªæŠ•å½±ä»ªçœ‹ç”µå½±ï¼Œé…åˆ 5.1 çš„éŸ³å“è§‚å½±æ•ˆæœè¿˜æ˜¯æŒºéœ‡æ’¼çš„ã€‚çˆ¶æ¯åœ¨äºŒæ¥¼ï¼Œç”µè§†æ˜¯æ˜¾ç¤ºæ•ˆæœå‡ºè‰²çš„ 65 å¯¸ç´¢å°¼ç”µè§†ï¼Œè£…äº† <code>Netflix</code> å’Œ <code>SmartYoutubeTV</code>ï¼Œå¥ˆé£å¾ˆå¤š <code>4K</code> å’Œ<code>æœæ¯”è§†ç•Œ</code>çš„ç‰‡æºï¼Œè§‚æ„Ÿçˆ†æ£šã€‚ä¹‹ååˆåœ¨ NAS ä¸Šè£…äº† <code>NextCloud</code>ã€‚</p><p>å› ä¸ºç»å¸¸æœ‰å¤§æ–‡ä»¶åœ¨ç”µè„‘å’Œ NAS ä¹‹é—´äº’ä¼ çš„éœ€æ±‚ï¼Œåƒå…†çš„ç½‘çº¿é€Ÿåº¦æœ€å¤§åªèƒ½è¾¾åˆ° <code>113M</code> å·¦å³ï¼Œå‡ ç™¾ G çš„ä¼ è¾“è¦ç­‰å¥½ä¹…ï¼Œæ‰€ä»¥åˆä¹°äº†ä¸¤ä¸ªå…‰å£<code>ä¸‡å…†ç½‘å¡</code>è£…åœ¨äº† NAS å’Œå°å¼æœºä¸Šï¼Œè¿™æ ·ä»–ä»¬äº’è”é€Ÿåº¦èƒ½åˆ° <code>1G</code>ï¼Œè¿™ä¸ªé€Ÿåº¦è°ç”¨è°çŸ¥é“ï¼Œè‡³æ­¤å°±æ»¡è¶³äº†æ‰€æœ‰çš„éœ€æ±‚ã€‚</p><h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>å®‰è£…å®½å¸¦çš„æ—¶å€™è®°å¾—è®©å¸ˆå‚…æŠŠå…‰çŒ«è°ƒä¸ºæ¡¥æ¥æ¨¡å¼ï¼Œè¿™æ ·å¯ä»¥ä¸€åŠ³æ°¸é€¸ï¼Œå› ä¸ºå…‰çŒ«æ˜¯è¿è¥å•†çš„ï¼Œè·¯ç”±å™¨æ˜¯æˆ‘ä»¬è‡ªå·±çš„ï¼Œä»¥åä½¿ç”¨èµ·æ¥ä¹Ÿæ¯”è¾ƒæ–¹ä¾¿ï¼Œæƒ³è®©å®¶é‡Œæ‰€æœ‰çš„è®¾å¤‡éƒ½åœ¨ä¸€ä¸ªå±€åŸŸç½‘åªéœ€è¦æŠŠä¸»è·¯ç”±çš„ <code>DHCP</code> æœåŠ¡æ‰“å¼€ï¼Œå…¶ä½™çš„è·¯ç”±å™¨éƒ½å…³é—­æˆ–è€…æ”¹ä¸º <code>AP æ¨¡å¼</code>ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;é¦–å…ˆå‘ä¸€ä¸‹ç¬”è€…å®¶åº­ç½‘ç»œçš„æ‹“æ‰‘å›¾&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/home-networking-and-service/1.jpg&quot; alt&gt;&lt;/p&gt;
&lt;h2 id=&quot;éœ€æ±‚&quot;&gt;&lt;a href=&quot;#éœ€æ±‚&quot; class=&quot;headerlink&quot; title=&quot;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>å†™å‡ºæ•´æ´çš„ JavaScript ä»£ç  ES6 ç‰ˆ</title>
    <link href="https://catwen.cn/2021/12/05/writing-clean-code-es6/"/>
    <id>https://catwen.cn/2021/12/05/writing-clean-code-es6/</id>
    <published>2021-12-05T12:16:04.000Z</published>
    <updated>2021-12-18T15:50:15.704Z</updated>
    
    <content type="html"><![CDATA[<p>å¥½çš„ä»£ç ä¸ä»…ä»…æ˜¯å¯ä»¥è·‘èµ·æ¥çš„ä»£ç ï¼Œæ›´æ˜¯å¯ä»¥è¢«å…¶ä»–äººè½»æ¾é˜…è¯»ã€é‡ç”¨å’Œé‡æ„çš„ä»£ç ï¼Œå› ä¸ºä»£ç é™¤äº†å®ç°åŠŸèƒ½å¤–ï¼Œå¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½æ˜¯è¦è¢«ä½ æˆ–æ˜¯å›¢é˜Ÿå…¶ä»–æˆå‘˜ç»´æŠ¤çš„ã€‚</p><p><img src="/images/writing-clean-code-es6/1.png" style="width:80%"></p><p>è™½ç„¶æœ¬æ–‡ä¸»è¦ä¸“æ³¨äºç¼–å†™å¹²å‡€æ•´æ´çš„ <a href="https://262.ecma-international.org/6.0/" target="_blank" rel="noopener">JavaScript ES6</a> ä»£ç ï¼Œå¹¶ä¸”ä¸ä¸ä»»ä½•æ¡†æ¶ç›¸å…³ï¼Œä½†æ˜¯ä¸‹é¢å°†è¦æåˆ°çš„ç»å¤§å¤šæ•°ç¤ºä¾‹ä¹Ÿé€‚ç”¨äºå…¶ä»–è¯­è¨€ï¼Œå¦å¤–ï¼Œä¸‹é¢çš„ç¤ºä¾‹ä¹Ÿä¸»è¦æ˜¯ä» Robert C. Martin çš„ä¹¦ <a href="https://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882" target="_blank" rel="noopener">Clean Code</a> ä¸­æ‰€é‡‡çº³çš„å»ºè®®ï¼Œä¹Ÿä¸æ„å‘³ç€è¦ä¸¥æ ¼éµå®ˆã€‚</p><h1 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h1><h2 id="ä½¿ç”¨æœ‰æ„ä¹‰çš„åå­—"><a href="#ä½¿ç”¨æœ‰æ„ä¹‰çš„åå­—" class="headerlink" title="ä½¿ç”¨æœ‰æ„ä¹‰çš„åå­—"></a>ä½¿ç”¨æœ‰æ„ä¹‰çš„åå­—</h2><p>å˜é‡çš„å‘½ååº”è¯¥æ˜¯æè¿°æ€§å¹¶ä¸”åº”è¯¥æ˜¯æœ‰æ„ä¹‰çš„ï¼Œç»éªŒæ³•åˆ™æ˜¯å¤§å¤šæ•° JavaScript å˜é‡åº”è¯¥ä½¿ç”¨<code>é©¼å³°å‘½åæ³•</code>ï¼ˆcamelCaseï¼‰ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ âŒ</span></span><br><span class="line"><span class="keyword">const</span> foo = <span class="string">"JDoe@example.com"</span>;</span><br><span class="line"><span class="keyword">const</span> bar = <span class="string">"John"</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">23</span>;</span><br><span class="line"><span class="keyword">const</span> qux = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡® âœ…</span></span><br><span class="line"><span class="keyword">const</span> email = <span class="string">"John@example.com"</span>;</span><br><span class="line"><span class="keyword">const</span> firstName = <span class="string">"John"</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">23</span>;</span><br><span class="line"><span class="keyword">const</span> isActive = <span class="literal">true</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼Œå¸ƒå°”ç±»å‹çš„å˜é‡åé€šå¸¸åƒæ˜¯åœ¨å›ç­”é—®é¢˜ï¼Œä¾‹å¦‚ï¼š</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">isActive</span><br><span class="line">didSubscribe</span><br><span class="line">hasLinkedAccount</span><br></pre></td></tr></table></figure><h2 id="é¿å…æ·»åŠ ä¸å¿…è¦çš„ä¸Šä¸‹æ–‡"><a href="#é¿å…æ·»åŠ ä¸å¿…è¦çš„ä¸Šä¸‹æ–‡" class="headerlink" title="é¿å…æ·»åŠ ä¸å¿…è¦çš„ä¸Šä¸‹æ–‡"></a>é¿å…æ·»åŠ ä¸å¿…è¦çš„ä¸Šä¸‹æ–‡</h2><p>åœ¨ç‰¹å®šçš„å¯¹è±¡æˆ–ç±»ä¸­ä¸éœ€è¦åŠ å†—ä½™çš„ä¸Šä¸‹æ–‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ âŒ</span></span><br><span class="line"><span class="keyword">const</span> user = &#123;</span><br><span class="line">  userId: <span class="string">"296e2589-7b33-400a-b762-007b730c8e6d"</span>,</span><br><span class="line">  userEmail: <span class="string">"JDoe@example.com"</span>,</span><br><span class="line">  userFirstName: <span class="string">"John"</span>,</span><br><span class="line">  userLastName: <span class="string">"Doe"</span>,</span><br><span class="line">  userAge: <span class="number">23</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">user.userId;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡® âœ…</span></span><br><span class="line"><span class="keyword">const</span> user = &#123;</span><br><span class="line">  id: <span class="string">"296e2589-7b33-400a-b762-007b730c8e6d"</span>,</span><br><span class="line">  email: <span class="string">"JDoe@example.com"</span>,</span><br><span class="line">  firstName: <span class="string">"John"</span>,</span><br><span class="line">  lastName: <span class="string">"Doe"</span>,</span><br><span class="line">  age: <span class="number">23</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">user.id;</span><br></pre></td></tr></table></figure><h2 id="é¿å…ç¡¬ç¼–ç "><a href="#é¿å…ç¡¬ç¼–ç " class="headerlink" title="é¿å…ç¡¬ç¼–ç "></a>é¿å…ç¡¬ç¼–ç </h2><p>ç¡®ä¿å£°æ˜æœ‰æ„ä¹‰ä¸”å¯æœç´¢çš„å¸¸é‡ï¼Œè€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨ä¸€ä¸ªå¸¸é‡å€¼ï¼Œå…¨å±€å˜é‡å»ºè®®ä½¿ç”¨<code>è›‡å½¢å‘½åæ³•</code>ï¼ˆSCREAMING_SNAKE_CASEï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ âŒ</span></span><br><span class="line">setTimeout(clearSessionData, <span class="number">900000</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡® âœ…</span></span><br><span class="line"><span class="keyword">const</span> SESSION_DURATION_MS = <span class="number">15</span> * <span class="number">60</span> * <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line">setTimeout(clearSessionData, SESSION_DURATION_MS);</span><br></pre></td></tr></table></figure><h1 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h1><h2 id="ä½¿ç”¨æè¿°æ€§çš„å‘½å"><a href="#ä½¿ç”¨æè¿°æ€§çš„å‘½å" class="headerlink" title="ä½¿ç”¨æè¿°æ€§çš„å‘½å"></a>ä½¿ç”¨æè¿°æ€§çš„å‘½å</h2><p>å‡½æ•°åå¯ä»¥å¾ˆé•¿ï¼Œé•¿åˆ°è¶³ä»¥æè¿°å®ƒçš„ä½œç”¨ï¼Œä¸€èˆ¬å‡½æ•°ä¸­éƒ½å«æœ‰<code>åŠ¨è¯</code>æ¥æè¿°å®ƒæ‰€åšçš„äº‹æƒ…ï¼Œä½†æ˜¯è¿”å›å¸ƒå°”å€¼çš„å‡½æ•°æ˜¯ä¸ªä¾‹å¤–ï¼Œä¸€èˆ¬æ˜¯ä¸€ä¸ªå›ç­”â€œæ˜¯â€æˆ–è€…â€œå¦â€çš„é—®é¢˜å½¢å¼ï¼Œå¦å¤–å‡½æ•°å‘½åä¹Ÿåº”è¯¥æ˜¯é©¼å³°å‘½åæ³•ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ âŒ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toggle</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">agreed</span>(<span class="params">user</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡® âœ…</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toggleThemeSwitcher</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">didAgreeToAllTerms</span>(<span class="params">user</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨é»˜è®¤å‚æ•°"><a href="#ä½¿ç”¨é»˜è®¤å‚æ•°" class="headerlink" title="ä½¿ç”¨é»˜è®¤å‚æ•°"></a>ä½¿ç”¨é»˜è®¤å‚æ•°</h2><p>ç›´æ¥ä½¿ç”¨é»˜è®¤å€¼æ¯”çŸ­è·¯è¯­æ³•æˆ–è€…åœ¨å‡½æ•°ä¸­åŠ å…¥åˆ¤æ–­è¯­å¥æ›´åŠ ç®€æ´ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒçŸ­è·¯è¯­æ³•é€‚ç”¨äºæ‰€æœ‰è¢«è®¤ä¸ºæ˜¯ <code>false</code> çš„å€¼ï¼Œä¾‹å¦‚ <code>false</code>ã€<code>null</code>ã€<code>undefined</code>ã€<code>&#39;&#39;</code>ã€<code>&quot;&quot;</code>ã€<code>0</code> å’Œ <code>NaN</code>ï¼Œè€Œé»˜è®¤å‚æ•°ä»…æ›¿æ¢ <code>undefined</code>ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ âŒ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printAllFilesInDirectory</span>(<span class="params">dir</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> directory = dir || <span class="string">"./"</span>;</span><br><span class="line">  <span class="comment">//   ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡® âœ…</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printAllFilesInDirectory</span>(<span class="params">dir = <span class="string">"./"</span></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é™åˆ¶å‚æ•°ä¸ªæ•°"><a href="#é™åˆ¶å‚æ•°ä¸ªæ•°" class="headerlink" title="é™åˆ¶å‚æ•°ä¸ªæ•°"></a>é™åˆ¶å‚æ•°ä¸ªæ•°</h2><p>è¿™ä¸€æ¡æœ‰äº‰è®®ï¼Œå‡½æ•°çš„å‚æ•°åº”è¯¥<code>ä¸å¤šäº2ä¸ª</code>ï¼Œæ„æ€æ˜¯å‡½æ•°çš„å‚æ•°ä¸º 0 ä¸ª 1 ä¸ªæˆ–è€… 2 ä¸ªï¼Œå¦‚æœéœ€è¦ç¬¬ä¸‰ä¸ªå‚æ•°çš„è¯è¯´æ˜ï¼š</p><ul><li>å‡½æ•°éœ€è¦æ‹†åˆ†</li><li>å¯ä»¥æŠŠç›¸å…³å‚æ•°èšåˆæˆå¯¹è±¡ä¼ é€’</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ âŒ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sendPushNotification</span>(<span class="params">title, message, image, isSilent, delayMs</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sendPushNotification(<span class="string">"New Message"</span>, <span class="string">"..."</span>, <span class="string">"http://..."</span>, <span class="literal">false</span>, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡® âœ…</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sendPushNotification</span>(<span class="params">&#123; title, message, image, isSilent, delayMs &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> notificationConfig = &#123;</span><br><span class="line">  title: <span class="string">"New Message"</span>,</span><br><span class="line">  message: <span class="string">"..."</span>,</span><br><span class="line">  image: <span class="string">"http://..."</span>,</span><br><span class="line">  isSilent: <span class="literal">false</span>,</span><br><span class="line">  delayMs: <span class="number">1000</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">sendPushNotification(notificationConfig);</span><br></pre></td></tr></table></figure><h2 id="ä¸è¦åœ¨ä¸€ä¸ªå‡½æ•°ä¸­åšå¤ªå¤šäº‹æƒ…"><a href="#ä¸è¦åœ¨ä¸€ä¸ªå‡½æ•°ä¸­åšå¤ªå¤šäº‹æƒ…" class="headerlink" title="ä¸è¦åœ¨ä¸€ä¸ªå‡½æ•°ä¸­åšå¤ªå¤šäº‹æƒ…"></a>ä¸è¦åœ¨ä¸€ä¸ªå‡½æ•°ä¸­åšå¤ªå¤šäº‹æƒ…</h2><p>åŸåˆ™ä¸Šä¸€ä¸ªå‡½æ•°åªåšä¸€ä»¶äº‹ï¼Œè¿™ä¸€åŸåˆ™å¯ä»¥å¾ˆå¥½åœ°å¸®åŠ©æˆ‘ä»¬é™ä½å‡½æ•°çš„ä½“ç§¯å’Œå¤æ‚åº¦ï¼Œä¹Ÿèƒ½æ›´å¥½çš„æµ‹è¯•ã€è°ƒè¯•å’Œé‡æ„ï¼Œä¸€ä¸ªå‡½æ•°çš„ä»£ç è¡Œæ•°æ˜¯åˆ¤æ–­è¿™ä¸ªå‡½æ•°æ˜¯å¦åšå¤ªå¤šäº‹æƒ…çš„ä¸€ä¸ªæŒ‡æ ‡ï¼Œä¸€èˆ¬å»ºè®®ä¸€ä¸ªå‡½æ•°é•¿åº¦å°äº 20~30 è¡Œã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ âŒ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pingUsers</span>(<span class="params">users</span>) </span>&#123;</span><br><span class="line">  users.forEach(<span class="function">(<span class="params">user</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> userRecord = database.lookup(user);</span><br><span class="line">    <span class="keyword">if</span> (!userRecord.isActive()) &#123;</span><br><span class="line">      ping(user);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡® âœ…</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pingInactiveUsers</span>(<span class="params">users</span>) </span>&#123;</span><br><span class="line">  users.filter(!isUserActive).forEach(ping);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isUserActive</span>(<span class="params">user</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> userRecord = database.lookup(user);</span><br><span class="line">  <span class="keyword">return</span> userRecord.isActive();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é¿å…ä½¿ç”¨-flag-å˜é‡"><a href="#é¿å…ä½¿ç”¨-flag-å˜é‡" class="headerlink" title="é¿å…ä½¿ç”¨ flag å˜é‡"></a>é¿å…ä½¿ç”¨ flag å˜é‡</h2><p>flag å˜é‡æ„å‘³ç€å‡½æ•°å¯ä»¥è¢«è¿›ä¸€æ­¥ç®€åŒ–</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ âŒ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createFile</span>(<span class="params">name, isPublic</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (isPublic) &#123;</span><br><span class="line">    fs.create(<span class="string">`./public/<span class="subst">$&#123;name&#125;</span>`</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    fs.create(name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡® âœ…</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createFile</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  fs.create(name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPublicFile</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  createFile(<span class="string">`./public/<span class="subst">$&#123;name&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸è¦é‡å¤è‡ªå·±ï¼ˆDRYï¼‰"><a href="#ä¸è¦é‡å¤è‡ªå·±ï¼ˆDRYï¼‰" class="headerlink" title="ä¸è¦é‡å¤è‡ªå·±ï¼ˆDRYï¼‰"></a>ä¸è¦é‡å¤è‡ªå·±ï¼ˆDRYï¼‰</h2><p>é‡å¤çš„ä»£ç ä¸æ˜¯ä¸€ä¸ªå¥½çš„ä¿¡å·ï¼Œä½ å¤åˆ¶ç²˜è´´äº† N æ¬¡ï¼Œä¸‹æ¬¡è¿™éƒ¨åˆ†ä»£ç ä¿®æ”¹çš„æ—¶å€™ä½ å°±è¦å°±è¦åŒæ—¶ä¿®æ”¹ N ä¸ªåœ°æ–¹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ âŒ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderCarsList</span>(<span class="params">cars</span>) </span>&#123;</span><br><span class="line">  cars.forEach(<span class="function">(<span class="params">car</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> price = car.getPrice();</span><br><span class="line">    <span class="keyword">const</span> make = car.getMake();</span><br><span class="line">    <span class="keyword">const</span> brand = car.getBrand();</span><br><span class="line">    <span class="keyword">const</span> nbOfDoors = car.getNbOfDoors();</span><br><span class="line"></span><br><span class="line">    render(&#123; price, make, brand, nbOfDoors &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderMotorcyclesList</span>(<span class="params">motorcycles</span>) </span>&#123;</span><br><span class="line">  motorcycles.forEach(<span class="function">(<span class="params">motorcycle</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> price = motorcycle.getPrice();</span><br><span class="line">    <span class="keyword">const</span> make = motorcycle.getMake();</span><br><span class="line">    <span class="keyword">const</span> brand = motorcycle.getBrand();</span><br><span class="line">    <span class="keyword">const</span> seatHeight = motorcycle.getSeatHeight();</span><br><span class="line"></span><br><span class="line">    render(&#123; price, make, brand, seatHeight &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡® âœ…</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">renderVehiclesList</span>(<span class="params">vehicles</span>) </span>&#123;</span><br><span class="line">  vehicles.forEach(<span class="function">(<span class="params">vehicle</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> price = vehicle.getPrice();</span><br><span class="line">    <span class="keyword">const</span> make = vehicle.getMake();</span><br><span class="line">    <span class="keyword">const</span> brand = vehicle.getBrand();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> data = &#123; price, make, brand &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">switch</span> (vehicle.type) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">"car"</span>:</span><br><span class="line">        data.nbOfDoors = vehicle.getNbOfDoors();</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">"motorcycle"</span>:</span><br><span class="line">        data.seatHeight = vehicle.getSeatHeight();</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    render(data);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é¿å…å‰¯ä½œç”¨"><a href="#é¿å…å‰¯ä½œç”¨" class="headerlink" title="é¿å…å‰¯ä½œç”¨"></a>é¿å…å‰¯ä½œç”¨</h2><p>åœ¨ JavaScript ä¸­ï¼Œé¦–é€‰çš„æ¨¡å¼åº”è¯¥æ˜¯å‡½æ•°å¼è€Œä¸æ˜¯å‘½ä»¤å¼ï¼Œæ¢å¥è¯è¯´ï¼Œè¦ä¿è¯å‡½æ•°çš„çº¯ç²¹æ€§ï¼Œå‰¯ä½œç”¨å¯ä»¥ä¿®æ”¹å…±äº«çš„çŠ¶æ€å’Œèµ„æºï¼Œä¼šå¯¼è‡´ä»£ç çš„ä¸ç¨³å®šå’Œéš¾ä»¥æµ‹è¯•ï¼Œæ’æŸ¥é—®é¢˜ä¹Ÿä¼šç‰¹åˆ«æ£˜æ‰‹ï¼Œæ‰€æœ‰çš„å‰¯ä½œç”¨åº”è¯¥é›†ä¸­ç®¡ç†ã€‚å¦‚æœéœ€è¦ä¿®æ”¹å…¨å±€çŠ¶æ€å¯ä»¥å®šä¹‰ä¸€ä¸ªç»Ÿä¸€çš„æœåŠ¡å»ä¿®æ”¹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ âŒ</span></span><br><span class="line"><span class="keyword">let</span> date = <span class="string">"21-8-2021"</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">splitIntoDayMonthYear</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  date = date.split(<span class="string">"-"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">splitIntoDayMonthYear();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Another function could be expecting date as a string</span></span><br><span class="line"><span class="built_in">console</span>.log(date); <span class="comment">// ['21', '8', '2021'];</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡® âœ…</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">splitIntoDayMonthYear</span>(<span class="params">date</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> date.split(<span class="string">"-"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> date = <span class="string">"21-8-2021"</span>;</span><br><span class="line"><span class="keyword">const</span> newDate = splitIntoDayMonthYear(date);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Original vlaue is intact</span></span><br><span class="line"><span class="built_in">console</span>.log(date); <span class="comment">// '21-8-2021';</span></span><br><span class="line"><span class="built_in">console</span>.log(newDate); <span class="comment">// ['21', '8', '2021'];</span></span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œå¦‚æœä¸€ä¸ªå¯å˜çš„å¯¹è±¡ä½œä¸ºä¸€ä¸ªå‡½æ•°çš„å‚æ•°ä¼ é€’è¿›å»ï¼Œè¿”å›è¿™ä¸ªå‚æ•°çš„æ—¶å€™åº”è¯¥æ˜¯è¿™ä¸ªå‚æ•°çš„å…‹éš†å¯¹è±¡è€Œä¸æ˜¯ç›´æ¥æŠŠè¿™ä¸ªå¯¹è±¡ä¿®æ”¹åè¿”å›ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// é”™è¯¯ âŒ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">enrollStudentInCourse</span>(<span class="params">course, student</span>) </span>&#123;</span><br><span class="line">  course.push(&#123; student, <span class="attr">enrollmentDate</span>: <span class="built_in">Date</span>.now() &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡® âœ…</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">enrollStudentInCourse</span>(<span class="params">course, student</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [...course, &#123; student, <span class="attr">enrollmentDate</span>: <span class="built_in">Date</span>.now() &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å¹¶å‘"><a href="#å¹¶å‘" class="headerlink" title="å¹¶å‘"></a>å¹¶å‘</h1><h2 id="é¿å…ä½¿ç”¨å›è°ƒ"><a href="#é¿å…ä½¿ç”¨å›è°ƒ" class="headerlink" title="é¿å…ä½¿ç”¨å›è°ƒ"></a>é¿å…ä½¿ç”¨å›è°ƒ</h2><p><a href="https://developer.mozilla.org/en-US/docs/Glossary/Callback_function" target="_blank" rel="noopener">å›è°ƒå‡½æ•°</a> å¤ªä¹±äº†ï¼Œæ‰€ä»¥ ES6 ç»™æˆ‘ä»¬æä¾›äº† <a href="https://developer.mozilla.org/en-US/docs/Glossary/Callback_function" target="_blank" rel="noopener">Promise</a> å…è®¸æˆ‘ä»¬ä½¿ç”¨é“¾å¼çš„å›è°ƒï¼Œå½“ç„¶ <a href="https://developer.mozilla.org/en-US/docs/Glossary/Callback_function" target="_blank" rel="noopener">Async/Await</a> æä¾›äº†æ›´ç®€æ´çš„æ–¹æ¡ˆï¼Œå¯ä»¥è®©æˆ‘ä»¬å†™å‡ºæ›´åŠ çº¿æ€§çš„ä»£ç </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ âŒ</span></span><br><span class="line">getUser(<span class="function"><span class="keyword">function</span> (<span class="params">err, user</span>) </span>&#123;</span><br><span class="line">  getProfile(user, <span class="function"><span class="keyword">function</span> (<span class="params">err, profile</span>) </span>&#123;</span><br><span class="line">    getAccount(profile, <span class="function"><span class="keyword">function</span> (<span class="params">err, account</span>) </span>&#123;</span><br><span class="line">      getReports(account, <span class="function"><span class="keyword">function</span> (<span class="params">err, reports</span>) </span>&#123;</span><br><span class="line">        sendStatistics(reports, <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.error(err);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡® âœ…</span></span><br><span class="line">getUser()</span><br><span class="line">  .then(getProfile)</span><br><span class="line">  .then(getAccount)</span><br><span class="line">  .then(getReports)</span><br><span class="line">  .then(sendStatistics)</span><br><span class="line">  .catch(<span class="function">(<span class="params">err</span>) =&gt;</span> <span class="built_in">console</span>.error(err));</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡® âœ…âœ…</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">sendUserStatistics</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> user = <span class="keyword">await</span> getUser();</span><br><span class="line">    <span class="keyword">const</span> profile = <span class="keyword">await</span> getProfile(user);</span><br><span class="line">    <span class="keyword">const</span> account = <span class="keyword">await</span> getAccount(profile);</span><br><span class="line">    <span class="keyword">const</span> reports = <span class="keyword">await</span> getReports(account);</span><br><span class="line">    <span class="keyword">return</span> sendStatistics(reports);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(err);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h1><h2 id="å¤„ç†æŠ›å‡ºçš„å¼‚å¸¸å’Œ-rejected-çš„-Promise"><a href="#å¤„ç†æŠ›å‡ºçš„å¼‚å¸¸å’Œ-rejected-çš„-Promise" class="headerlink" title="å¤„ç†æŠ›å‡ºçš„å¼‚å¸¸å’Œ rejected çš„ Promise"></a>å¤„ç†æŠ›å‡ºçš„å¼‚å¸¸å’Œ rejected çš„ Promise</h2><p>æ­£ç¡®çš„å¤„ç†å¼‚å¸¸å¯ä»¥ä½¿æˆ‘ä»¬çš„ä»£ç æ›´åŠ çš„ç®€è£…ï¼Œä¹Ÿä¼šæ›´æ–¹ä¾¿çš„æ’æŸ¥é—®é¢˜ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ âŒ</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="comment">// å¯èƒ½å‡ºé”™çš„ä»£ç </span></span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡® âœ…</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="comment">// å¯èƒ½å‡ºé”™çš„ä»£ç </span></span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="comment">// æ¯” console.log æ›´åˆé€‚</span></span><br><span class="line">  <span class="built_in">console</span>.error(e);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é€šçŸ¥ç”¨æˆ·</span></span><br><span class="line">  alertUserOfError(e);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é€šçŸ¥æœåŠ¡å™¨</span></span><br><span class="line">  reportErrorToServer(e);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ä½¿ç”¨è‡ªå®šä¹‰çš„å¼‚å¸¸å¤„ç†</span></span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> CustomError(e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h1><h2 id="åªä¸ºå¤æ‚çš„é€»è¾‘æ·»åŠ æ³¨é‡Š"><a href="#åªä¸ºå¤æ‚çš„é€»è¾‘æ·»åŠ æ³¨é‡Š" class="headerlink" title="åªä¸ºå¤æ‚çš„é€»è¾‘æ·»åŠ æ³¨é‡Š"></a>åªä¸ºå¤æ‚çš„é€»è¾‘æ·»åŠ æ³¨é‡Š</h2><p>ä¸è¦è¿‡åº¦çš„æ·»åŠ æ³¨é‡Šï¼Œåªéœ€è¦ä¸ºå¤æ‚çš„é€»è¾‘æ·»åŠ å³å¯ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ âŒ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">generateHash</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// å“ˆå¸Œå˜é‡</span></span><br><span class="line">  <span class="keyword">let</span> hash = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è·å–å­—ç¬¦ä¸²çš„é•¿åº¦</span></span><br><span class="line">  <span class="keyword">let</span> length = str.length;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¦‚æœé•¿åº¦æ˜¯ç©ºçš„å°±è¿”å›</span></span><br><span class="line">  <span class="keyword">if</span> (!length) &#123;</span><br><span class="line">    <span class="keyword">return</span> hash;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// éå†å­—ç¬¦</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">    <span class="comment">// è·å–å­—ç¬¦ code</span></span><br><span class="line">    <span class="keyword">const</span> char = str.charCodeAt(i);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸º hash èµ‹å€¼</span></span><br><span class="line">    hash = (hash &lt;&lt; <span class="number">5</span>) - hash + char;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è½¬æ¢ä¸º 32 ä½çš„æ•´å‹</span></span><br><span class="line">    hash &amp;= hash;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡® âœ…</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">generateHash</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> hash = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> length = str.length;</span><br><span class="line">  <span class="keyword">if</span> (!length) &#123;</span><br><span class="line">    <span class="keyword">return</span> hash;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> char = str.charCodeAt(i);</span><br><span class="line">    hash = (hash &lt;&lt; <span class="number">5</span>) - hash + char;</span><br><span class="line">    hash = hash &amp; hash; <span class="comment">// è½¬æ¢ä¸º 32 ä½çš„æ•´å‹</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> hash;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç‰ˆæœ¬æ§åˆ¶"><a href="#ç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="ç‰ˆæœ¬æ§åˆ¶"></a>ç‰ˆæœ¬æ§åˆ¶</h2><p>å®Œå…¨æ²¡æœ‰å¿…è¦å†™ä»£ç çš„ä¿®æ”¹å†å²ï¼Œç‰ˆæœ¬ç®¡ç†ï¼ˆæ¯”å¦‚ git ï¼‰å·²ç»å¸®æˆ‘ä»¬åšäº†è¿™äº›äº‹æƒ…ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// é”™è¯¯ âŒ</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 2021-7-21: Fixed corner case</span></span><br><span class="line"><span class="comment"> * 2021-7-15: Improved performance</span></span><br><span class="line"><span class="comment"> * 2021-7-10: Handled mutliple user types</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">generateCanonicalLink</span>(<span class="params">user</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// const session = getUserSession(user)</span></span><br><span class="line">  <span class="keyword">const</span> session = user.getSession();</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡® âœ…</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">generateCanonicalLink</span>(<span class="params">user</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> session = user.getSession();</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ¬æ–‡ç®€çŸ­çš„è®¨è®ºäº†ä¸€äº›å¯ä»¥æé«˜ <a href="https://262.ecma-international.org/6.0/" target="_blank" rel="noopener">ES6</a> ä»£ç å¯è¯»æ€§çš„åŸåˆ™å’Œæ–¹æ³•ï¼Œç»å¤§å¤šæ•°åŸåˆ™å¯ä»¥åº”ç”¨åˆ°å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸Šï¼Œä½¿ç”¨è¿™äº›åŸåˆ™å¯èƒ½ä¼šæ¯”è¾ƒèŠ±æ—¶é—´ï¼Œä½†æ˜¯é•¿è¿œæ¥çœ‹å®ƒå¯ä»¥ä¿è¯ä½ ä»£ç çš„å¯è¯»æ€§å¯æ‰©å±•æ€§ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å¥½çš„ä»£ç ä¸ä»…ä»…æ˜¯å¯ä»¥è·‘èµ·æ¥çš„ä»£ç ï¼Œæ›´æ˜¯å¯ä»¥è¢«å…¶ä»–äººè½»æ¾é˜…è¯»ã€é‡ç”¨å’Œé‡æ„çš„ä»£ç ï¼Œå› ä¸ºä»£ç é™¤äº†å®ç°åŠŸèƒ½å¤–ï¼Œå¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½æ˜¯è¦è¢«ä½ æˆ–æ˜¯å›¢é˜Ÿå…¶ä»–æˆå‘˜ç»´æŠ¤çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/writing-clean-code-es6/1.png&quot; style=&quot;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Typescript çš„æœ€ä½³å®è·µ 2021 ç‰ˆ</title>
    <link href="https://catwen.cn/2021/11/27/typescript-best-practices-2021/"/>
    <id>https://catwen.cn/2021/11/27/typescript-best-practices-2021/</id>
    <published>2021-11-27T20:35:42.000Z</published>
    <updated>2021-12-18T15:50:15.704Z</updated>
    
    <content type="html"><![CDATA[<p>ç°åœ¨æˆ‘ä»¬è¶Šæ¥è¶Šå¤šçš„é¡¹ç›®éƒ½ç”¨ä¸Šäº† Typescriptï¼Œä¹Ÿäº«å—åˆ°äº†å®ƒå¸¦æ¥çš„å¥½å¤„ï¼Œä¸ºäº†æ›´é«˜æ•ˆçš„ä½¿ç”¨å®ƒï¼Œæˆ‘ä»¬å¯ä»¥éµå¾ªä¸€äº› <code>æœ€ä½³å®è·µ</code>  ï¼Œä»¥ä¸‹çš„åŸåˆ™æ˜¯æˆ‘åœ¨ä½¿ç”¨å¹¶ä¸”æ¨èçš„</p><h2 id="ä½¿ç”¨æ­£ç¡®çš„ç±»å‹å£°æ˜ï¼ˆé¿å…ä½¿ç”¨-any-ï¼‰"><a href="#ä½¿ç”¨æ­£ç¡®çš„ç±»å‹å£°æ˜ï¼ˆé¿å…ä½¿ç”¨-any-ï¼‰" class="headerlink" title="ä½¿ç”¨æ­£ç¡®çš„ç±»å‹å£°æ˜ï¼ˆé¿å…ä½¿ç”¨ any ï¼‰"></a>ä½¿ç”¨æ­£ç¡®çš„ç±»å‹å£°æ˜ï¼ˆé¿å…ä½¿ç”¨ any ï¼‰</h2><p>ç±»å‹å£°æ˜æ˜¯ Typescript çš„ä¸€å¤§ä¼˜åŠ¿ï¼Œå°¤å…¶æ˜¯ä½“ç°åœ¨ä»£ç ç¼–å†™é˜¶æ®µï¼Œå› ä¸º JavaScript æ˜¯åœ¨è¿è¡Œæ—¶å®šä¹‰ç±»å‹çš„ï¼ŒTypescript å¯ä»¥å¸®åŠ©ä½ åœ¨è¿è¡Œä¹‹å‰å°±è¿‡æ»¤æ‰ä¸€å¤§éƒ¨åˆ†ç±»å‹å¼•å‘çš„å¥‡æ€ªé—®é¢˜ï¼Œå½“ä½ çŸ¥é“ä½ å®šä¹‰çš„å˜é‡æ˜¯ä»€ä¹ˆç±»å‹çš„æ—¶å€™ä¸è¦ä½¿ç”¨ <code>any</code>ï¼Œå»ºè®®æ¯æ¬¡å®šä¹‰æ–°å˜é‡çš„æ—¶å€™åéƒ½åŠ ä¸Šæ•°æ®ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name: <span class="built_in">string</span> = <span class="string">"hello"</span>;</span><br><span class="line">value: <span class="built_in">number</span> = <span class="number">50</span>;</span><br><span class="line">isCorrect: <span class="built_in">boolean</span> = <span class="literal">false</span>;</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼"><a href="#ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼" class="headerlink" title="ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼"></a>ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼</h2><p><code>use strict</code> æ˜¯ JavaScript ES5 æ·»åŠ çš„åŠŸèƒ½ï¼Œå®ƒå°±æ˜¯å­—é¢çš„æ„æ€ï¼š<code>ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼</code>ï¼Œå¯ä»¥åœ¨ <code>tsconfig</code> æ–‡ä»¶ä¸­æ‰¾åˆ°ç›¸å…³çš„é…ç½®ã€‚</p><p><img src="/images/typescript-best-practices-2021/1.png" alt="Untitled"></p><p>è¿™æ ·å¯ä»¥é˜²æ­¢ä½ çŠ¯æ— æ„è¯†æˆ–ä½çº§çš„é”™è¯¯ï¼Œä¾‹å¦‚ä½¿ç”¨æœªå£°æ˜çš„å˜é‡ã€ä¸ä½¿ç”¨ç±»å‹æ³¨é‡Šæˆ–å°è¯•ä½¿ç”¨æœªæ¥çš„ä¿ç•™å…³é”®å­—ä½œä¸ºå˜é‡åç­‰ã€‚<code>use strict</code> é€šè¿‡<code>è¯­æ³•é”™è¯¯</code>çš„å½¢å¼å¸®åŠ©æ‚¨ç¼–å†™è‰¯å¥½ä¸”å®‰å…¨çš„ä»£ç ä¹ æƒ¯ã€‚</p><h2 id="ä½¿ç”¨-let-ä»£æ›¿-var"><a href="#ä½¿ç”¨-let-ä»£æ›¿-var" class="headerlink" title="ä½¿ç”¨ let ä»£æ›¿ var"></a>ä½¿ç”¨ let ä»£æ›¿ var</h2><p><em>var</em> æ˜¯ä¸€ä½å¾ˆå¥½çš„è€æœ‹å‹ï¼Œä½†æ˜¯ <em>let</em> å’Œ <em>const</em> åœ¨ <em>ES6</em> ä¸­å‡ºç°äº†ï¼Œä»–ä»¬çš„å‡ºç°æ˜¯ä¸ºäº†è§£å†³ <em>var</em> çš„ä¸€äº›é—®é¢˜ã€‚</p><p><em>var</em> æ—¢å¯ä»¥ä½œç”¨äº<code>å…¨å±€ä½œç”¨åŸŸ</code>åˆå¯ä»¥ä½œç”¨äº<code>å±€éƒ¨ä½œç”¨åŸŸ</code>ã€‚</p><ul><li>å½“ <em>var</em> ç±»å‹å˜é‡åœ¨å‡½æ•°/å—ä¹‹å¤–å®šä¹‰æ—¶ï¼Œå®ƒå°±æˆä¸ºå…¨å±€èŒƒå›´çš„å˜é‡ï¼Œè¯¥å˜é‡å¯ç”¨äºè„šæœ¬å†…çš„ä»»ä½•åœ°æ–¹</li><li>å½“ <em>var</em> åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰æ—¶å˜ä¸ºå±€éƒ¨ä½œç”¨åŸŸï¼Œå®ƒåªèƒ½åœ¨è¯¥å‡½æ•°å†…éƒ¨è®¿é—®</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name= <span class="string">"John Doe"</span>; <span class="comment">// å…¨å±€ä½œç”¨åŸŸ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAge</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> age= <span class="number">30</span>; <span class="comment">// å±€éƒ¨ä½œç”¨åŸŸ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em>var</em> å…³é”®å­—æœ‰å‡ ä¸ªç¼ºé™·ï¼šå¯ä»¥é‡å¤å£°æ˜ï¼Œä¸å£°æ˜ä¹Ÿå¯ä»¥è¢«è°ƒç”¨ï¼ŒTS ä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œä¼šå¯¼è‡´ä¸€äº›å¥‡æ€ªçš„é—®é¢˜ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">"John Doe"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">"Anne"</span>; <span class="comment">// ä¸ä¼šæŠ¥é”™</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ºé¿å…è¿™ç§æƒ…å†µï¼Œåº”è¯¥æ”¹ç”¨ <em>let</em> ã€‚ <em>let</em> å£°æ˜çš„æ˜¯ä¸€ä¸ªå—çº§ä½œç”¨åŸŸå˜é‡ï¼Œå¹¶ä¸”ä¸èƒ½é‡æ–°å£°æ˜ã€‚ä½†æ˜¯ä½ å¯ä»¥åœ¨ä¸åŒçš„ä½œç”¨åŸŸä¸­å£°æ˜ç›¸åŒçš„å˜é‡åï¼Œæ¯ä¸€ä¸ªéƒ½è¢«è§†ä¸ºä¸åŒå˜é‡ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">"John"</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> name = <span class="string">"Anne"</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(name); <span class="comment">// "Anne"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(name); <span class="comment">// "John"</span></span><br></pre></td></tr></table></figure><h2 id="å¸¸é‡ä½¿ç”¨-const-å£°æ˜"><a href="#å¸¸é‡ä½¿ç”¨-const-å£°æ˜" class="headerlink" title="å¸¸é‡ä½¿ç”¨ const å£°æ˜"></a>å¸¸é‡ä½¿ç”¨ <strong>const å£°æ˜</strong></h2><p><em>const</em> å’Œ <em>let æ˜¯ä¸€èµ·æ–°å¢çš„å˜é‡å£°æ˜</em>ã€‚ <em>const</em> ä¹Ÿæ˜¯å—çº§ä½œç”¨åŸŸç±»å‹ï¼ŒåŒæ ·çš„ï¼Œä¹Ÿä¸èƒ½è¢«é‡æ–°å£°æ˜ã€‚è¿™äº›æ˜¯ <em>let</em> å’Œ <em>const</em> ä¹‹é—´çš„ç›¸ä¼¼ä¹‹å¤„ã€‚ä¸åŒä¹‹å¤„æ˜¯ <em>const</em> ä¸èƒ½è¢«é‡æ–°èµ‹å€¼ã€‚æ‰€ä»¥å½“ä½ å£°æ˜ä¸€ä¸ªå¸¸é‡æ—¶ä½¿ç”¨ <em>const</em>ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> name = <span class="string">"John"</span>;</span><br><span class="line">name = <span class="string">"Anne"</span>; <span class="comment">// error</span></span><br><span class="line"><span class="keyword">const</span> age = <span class="number">30</span>;</span><br><span class="line"><span class="keyword">const</span> age = <span class="number">31</span>; <span class="comment">//error</span></span><br></pre></td></tr></table></figure><blockquote><p>PSï¼šå£°æ˜ä¸€ä¸ª <em>const</em> å¯¹è±¡æ—¶ï¼Œä¸èƒ½é‡æ–°å¯¹å®ƒèµ‹å€¼ï¼Œä½†æ˜¯å¯ä»¥ä¿®æ”¹å®ƒçš„çš„å±æ€§</p></blockquote><h2 id="å›ºå®šé•¿åº¦çš„æ•°ç»„ä½¿ç”¨å…ƒç»„ç±»å‹"><a href="#å›ºå®šé•¿åº¦çš„æ•°ç»„ä½¿ç”¨å…ƒç»„ç±»å‹" class="headerlink" title="å›ºå®šé•¿åº¦çš„æ•°ç»„ä½¿ç”¨å…ƒç»„ç±»å‹"></a>å›ºå®šé•¿åº¦çš„æ•°ç»„ä½¿ç”¨å…ƒç»„ç±»å‹</h2><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> marks: <span class="built_in">number</span>[] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br></pre></td></tr></table></figure><p>ä½ å¯ä»¥å¯¹ <code>marks</code> æ•°ç»„æ·»åŠ ä»»æ„æ•°é‡çš„å…ƒç´ ï¼Œåªè¦éƒ½æ˜¯ <code>number</code> ç±»å‹ï¼ŒTS ä¸ä¼šé™åˆ¶ä½ ã€‚</p><p>ä½†æ˜¯ï¼Œåœ¨æ•°ç»„é•¿åº¦ä¸ºå¸¸é‡çš„æƒ…å†µä¸‹å¯èƒ½ä¼šå¯¼è‡´ä¸¥é‡çš„é€»è¾‘é”™è¯¯ã€‚ä¸ºäº†é¿å…è¿™ç§é”™è¯¯ï¼Œä½ å¯ä»¥ä½¿ç”¨å…ƒç»„ç±»å‹æ¥é™åˆ¶æ•°ç»„çš„é•¿åº¦å’Œæ¯ä¸€é¡¹çš„æ•°æ®ç±»å‹</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> marks:[<span class="built_in">number</span>, <span class="built_in">number</span>] = [<span class="number">1</span>, <span class="number">2</span>]; <span class="comment">// å«æœ‰ 2 ä¸ª number ç±»å‹å…ƒç´ çš„æ•°ç»„ç±»å‹</span></span><br><span class="line">marks = [<span class="number">10</span>, <span class="number">20</span>]; <span class="comment">// æˆåŠŸ</span></span><br><span class="line">marks = [<span class="number">1</span>]; <span class="comment">// è¯­æ³•é”™è¯¯</span></span><br><span class="line">marks = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>] <span class="comment">// è¯­æ³•é”™è¯¯</span></span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨ç±»å‹åˆ«å"><a href="#ä½¿ç”¨ç±»å‹åˆ«å" class="headerlink" title="ä½¿ç”¨ç±»å‹åˆ«å"></a>ä½¿ç”¨ç±»å‹åˆ«å</h2><p>å‡è®¾æœ‰å¤šä¸ªå˜é‡æˆ–å¯¹è±¡æ‹¥æœ‰ç›¸åŒçš„æ•°æ®ç»“æ„ç±»å‹</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> man: &#123;name: <span class="built_in">string</span>, age: <span class="built_in">number</span>&#125; = &#123;name = <span class="string">"john"</span>, age=<span class="number">30</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> woman: &#123;name: <span class="built_in">string</span>, age: <span class="built_in">number</span>&#125; = &#123;name = <span class="string">"Anne"</span>, age=<span class="number">32</span>&#125;;</span><br></pre></td></tr></table></figure><p>ä¸ºäº†é¿å…è¿™ç§å†—ä½™çš„ç±»å‹å®šä¹‰ä½ å¯ä»¥ä½¿ç”¨<code>ç±»å‹åˆ«å</code></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Details = &#123;name: <span class="built_in">string</span>, age: <span class="built_in">number</span>&#125;; <span class="comment">// å®šä¹‰ç±»å‹åˆ«å</span></span><br><span class="line"><span class="keyword">let</span> man: Details = &#123;name = <span class="string">"john"</span>, age=<span class="number">30</span>&#125;; <span class="comment">// ä½¿ç”¨ç±»å‹åˆ«å</span></span><br><span class="line"><span class="keyword">let</span> woman: Details = &#123;name = <span class="string">"Anne"</span>, age=<span class="number">32</span>&#125;;</span><br></pre></td></tr></table></figure><p>å¸¦æ¥çš„é¢å¤–å¥½å¤„å°±æ˜¯ä»£ç çš„å¯è¯»æ€§æ›´å¼ºï¼Œçœ‹èµ·æ¥æ›´æ¸…æ™°</p><h2 id="any-å’Œ-unknown"><a href="#any-å’Œ-unknown" class="headerlink" title="any å’Œ unknown"></a>any å’Œ unknown</h2><p>è¡¨é¢ä¸Šçœ‹æ¥ <em>any</em>  å’Œ <em>unknow</em> æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œéƒ½æ˜¯åœ¨æˆ‘ä»¬ä¸èƒ½ç¡®å®šæ•°æ®ç±»å‹çš„æ—¶å€™æ‰€ä½¿ç”¨çš„å¸®åŠ©ç±»å‹ï¼Œå¦‚æœæˆ‘ä»¬æƒ³å¿«é€Ÿçš„æŠŠ js é‡æ„ä¸º tsï¼Œä¸¤è€…å‡å¯ï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›åŒºåˆ«</p><p>ä»»ä½•å€¼éƒ½å¯ä»¥æ ‡è®°ä¸º <em>any</em>  æˆ–è€… <em>unknown</em></p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> anyExample: <span class="built_in">any</span>; <span class="comment">// å®šä¹‰ä¸€ä¸ª any ç±»å‹</span></span><br><span class="line"><span class="keyword">let</span> unknownExample: unknown; <span class="comment">// å®šä¹‰ä¸€ä¸ª unknown ç±»å‹</span></span><br><span class="line">anyExample = <span class="number">123</span>; </span><br><span class="line">anyExample = <span class="string">"Hey"</span></span><br><span class="line">unknownExample = <span class="literal">false</span>;</span><br><span class="line">unknownExample = <span class="number">23.22</span>;</span><br></pre></td></tr></table></figure><p>å¯¹äºæ ‡è®° any çš„å€¼ï¼Œä½ å¯ä»¥å¯¹å®ƒåšä»»ä½•äº‹</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">anyExample.you.made.this.code.chain(); <span class="comment">// success</span></span><br></pre></td></tr></table></figure><p>unknow åˆ™ä¸è¡Œï¼Œå®ƒæ˜¯ä¸€ç§æ›´å®‰å…¨çš„ç±»å‹</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unknownExample.trim(); <span class="comment">// è¯­æ³•é”™è¯¯</span></span><br></pre></td></tr></table></figure><p>å¦‚æœè¦ä½¿ç”¨ <em>unknow</em> ç±»å‹ï¼Œä½ å¾—æŠŠä»–æ”¾åœ¨ä¸€ä¸ªæ¡ä»¶åˆ¤æ–­è¯­å¥ä¸­</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> exampleUnkown == <span class="string">"string"</span>) &#123; <span class="comment">// ç¬¬ä¸€æ­¥ï¼Œæ£€æŸ¥ç±»å‹</span></span><br><span class="line">  exampleUnkown.trim(); <span class="comment">// ä¸ä¼šæŠ¥é”™</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¯¹ç±»æˆå‘˜ä½¿ç”¨è®¿é—®ä¿®é¥°ç¬¦"><a href="#å¯¹ç±»æˆå‘˜ä½¿ç”¨è®¿é—®ä¿®é¥°ç¬¦" class="headerlink" title="å¯¹ç±»æˆå‘˜ä½¿ç”¨è®¿é—®ä¿®é¥°ç¬¦"></a>å¯¹ç±»æˆå‘˜ä½¿ç”¨è®¿é—®ä¿®é¥°ç¬¦</h2><p>TS ä¸º <em>class</em> æˆå‘˜æä¾›äº†<code>è®¿é—®ä¿®é¥°ç¬¦</code>ï¼Œå¯ä»¥è®¾ç½® <em>public</em>ã€<em>protected</em> æˆ–è€… <em>private</em> å±æ€§ï¼Œä½† <em>class</em> æ°¸è¿œæ˜¯ <code>public</code> ç±»å‹</p><ul><li>privateï¼šä»…å¯ä»¥åœ¨å†…éƒ¨è®¿é—®</li><li>protectedï¼šå†…éƒ¨æˆ–è€…å­ç±»å¯ä»¥è®¿é—®</li><li>publicï¼šéƒ½å¯ä»¥è®¿é—®</li></ul><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Employee &#123;</span><br><span class="line">  <span class="keyword">protected</span> name: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">private</span> salary: <span class="built_in">number</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">name: <span class="built_in">string</span>, salary: <span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.salary = salary</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> getSalary()&#123;</span><br><span class="line">    <span class="keyword">return</span> salary</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœè¦è®¿é—® <code>salary</code> å±æ€§ï¼Œä½ å¿…é¡»è°ƒç”¨ <code>getSalary</code> æ–¹æ³•</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Developer <span class="keyword">extends</span> Employee&#123;</span><br><span class="line">  viewDetails()&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.salary); <span class="comment">// é”™è¯¯: å±æ€§ 'salary' æ˜¯ç§æœ‰å±æ€§</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.getSalary()); <span class="comment">// success</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡å­ç±»è®¿é—® <code>name</code> å±æ€§</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Developer <span class="keyword">extends</span> Employee&#123;</span><br><span class="line">  viewDetails()&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨-Lint-å·¥å…·"><a href="#ä½¿ç”¨-Lint-å·¥å…·" class="headerlink" title="ä½¿ç”¨ Lint å·¥å…·"></a>ä½¿ç”¨ Lint å·¥å…·</h2><p>æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„å¼€å‘é£æ ¼å’Œä¹ æƒ¯ï¼Œåœ¨å›¢é˜Ÿé¡¹ç›®ä¸­ï¼Œå¤šç§ä»£ç é£æ ¼æ˜¯ç¾éš¾æ€§çš„ï¼Œå¦‚æœä¸æƒ³æ±¡æŸ“ä»£ç åº“ï¼Œè¿˜æ˜¯éœ€è¦é€‰æ‹©ä¸€ä¸ª Lint å·¥å…·ï¼Œé¦–é€‰ <code>ESLint</code>ï¼Œå®ƒä¸ JavaScript å’Œ Typescript éƒ½å…¼å®¹</p><h2 id="æ ¼å¼åŒ–ä»£ç "><a href="#æ ¼å¼åŒ–ä»£ç " class="headerlink" title="æ ¼å¼åŒ–ä»£ç "></a>æ ¼å¼åŒ–ä»£ç </h2><p>ä½¿ç”¨å¥½çš„ä»£ç æ ¼å¼åŒ–ç¨‹åºå¯ä»¥ä½¿æ‚¨çš„ç¼–ç æ›´é«˜æ•ˆã€æ›´ç®€æ´ã€‚æ ¹æ®æˆ‘çš„ä¸ªäººç»éªŒï¼Œæˆ‘æ›´å–œæ¬¢åœ¨ VS ä»£ç ä¸­ä½¿ç”¨ <code>Prettier</code>ã€‚ä½†æ˜¯æœ‰å¾ˆå¤šä»£ç æ ¼å¼åŒ–ç¨‹åºï¼Œé€‰æ‹©å–å†³äºä½ ä½¿ç”¨çš„ç¼–è¾‘å™¨</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ç°åœ¨æˆ‘ä»¬è¶Šæ¥è¶Šå¤šçš„é¡¹ç›®éƒ½ç”¨ä¸Šäº† Typescriptï¼Œä¹Ÿäº«å—åˆ°äº†å®ƒå¸¦æ¥çš„å¥½å¤„ï¼Œä¸ºäº†æ›´é«˜æ•ˆçš„ä½¿ç”¨å®ƒï¼Œæˆ‘ä»¬å¯ä»¥éµå¾ªä¸€äº› &lt;code&gt;æœ€ä½³å®è·µ&lt;/code&gt;  ï¼Œä»¥ä¸‹çš„åŸåˆ™æ˜¯æˆ‘åœ¨ä½¿ç”¨å¹¶ä¸”æ¨èçš„&lt;/p&gt;
&lt;h2 id=&quot;ä½¿ç”¨æ­£ç¡®çš„ç±»å‹å£°æ˜ï¼ˆé¿å…ä½¿ç”¨-any-ï¼‰&quot;&gt;&lt;a href=&quot;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ä¸»æ¿ã€CPUã€æ˜¾å¡ä¸­å­—æ¯çš„å«ä¹‰</title>
    <link href="https://catwen.cn/2021/11/21/computer-hardware/"/>
    <id>https://catwen.cn/2021/11/21/computer-hardware/</id>
    <published>2021-11-21T17:05:11.000Z</published>
    <updated>2021-12-18T15:50:15.704Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä¸»æ¿"><a href="#ä¸»æ¿" class="headerlink" title="ä¸»æ¿"></a>ä¸»æ¿</h1><p>ä¸»æ¿æ˜¯å½±å“ç”µè„‘å¥½åçš„å…³é”®ç¡¬ä»¶ä¹‹ä¸€ï¼Œç›®å‰å¸‚åœºä¸Šä¸»æ¿çš„å‹å·äº§å“ä¼—å¤šï¼Œä¸»æ¿ä¸€èˆ¬è€ƒè™‘ä¸‰å¤§æ–¹é¢ï¼š<code>ä¸»æ¿èŠ¯ç‰‡ç­‰çº§</code>å†³å®šå…¶æ€§èƒ½çš„é«˜ä½ï¼Œ<code>ä¸»æ¿æ¿å‹</code>å†³å®šå…¶é€‚ç”¨çš„æœºç®±ï¼Œè€Œ<code>ä¸»æ¿æ¥å£</code>åˆ™å…³ä¹å…¼å®¹æ€§ä¸æ‰©å±•æ€§ã€‚</p><h2 id="Intel-ä¸»æ¿"><a href="#Intel-ä¸»æ¿" class="headerlink" title="Intel ä¸»æ¿"></a>Intel ä¸»æ¿</h2><p>Intel ä¸»æ¿èŠ¯ç‰‡é€‚ç”¨äº Intel å¤„ç†å™¨ï¼Œå…¶CPUæ’æ§½æœ‰é‡‘å±é˜µè„šï¼ŒæŒ‰æ€§èƒ½ä¸»è¦åˆ†ä¸º X/Z/B/H å››ä¸ªç­‰çº§ï¼š</p><ul><li>H ç³»åˆ—ï¼šå…¥é—¨çº§ï¼Œä¸æ”¯æŒè¶…é¢‘ï¼Œä»·æ ¼æ¯”è¾ƒä¾¿å®œï¼Œé€‚åˆä¸€èˆ¬å®¶ç”¨ç”µè„‘ï¼›</li><li>B ç³»åˆ—ï¼šä¸»æµçº§ï¼Œä¸æ”¯æŒè¶…é¢‘ï¼Œå¯æ‰©å±•èƒ½åŠ›å¼ºå¤§ï¼Œæ€§ä»·æ¯”å¾ˆé«˜ï¼›</li><li>Z ç³»åˆ—ï¼šä¸­é«˜ç«¯ï¼Œæ”¯æŒè¶…é¢‘ï¼Œæ­é…çš„ CPU ä¸€èˆ¬å¸¦æœ‰ â€œKâ€ å­—æ¯åç¼€ï¼›</li><li>X ç³»åˆ—ï¼šæœ€é«˜çº§ï¼Œç”¨æ¥æ­é…é«˜ç«¯ CPUï¼ŒCPU å‹å·åç¼€æœ‰ â€œXâ€ å­—æ¯ã€‚</li></ul><h2 id="AMDä¸»æ¿"><a href="#AMDä¸»æ¿" class="headerlink" title="AMDä¸»æ¿"></a>AMDä¸»æ¿</h2><p>AMD ä¸»æ¿èŠ¯ç‰‡é€‚ç”¨äº AMD å¤„ç†å™¨ï¼Œå…¶ CPU æ’æ§½åˆ™æ˜¯ä¸€å †å°å­”ï¼ŒæŒ‰æ€§èƒ½ä¸»è¦åˆ†ä¸º X/B/A ä¸‰ä¸ªç­‰çº§ï¼š</p><ul><li>A ç³»åˆ—ï¼šå…¥é—¨çº§ï¼Œä¸æ”¯æŒè¶…é¢‘ï¼Œæ™®é€šåŠå…¬ç”¨æˆ·ä½¿ç”¨ï¼Œä»·æ ¼éå¸¸ä¾¿å®œï¼›</li><li>B ç³»åˆ—ï¼šä¸»æµçº§ï¼Œå¯ä»¥è¶…é¢‘ï¼Œæ€§ä»·æ¯”é«˜ï¼Œä¸€èˆ¬ä¸æ”¯æŒåŠ¨æ€æ‰©é¢‘è¶…é¢‘ï¼›</li><li>X ç³»åˆ—ï¼šæœ€é«˜çº§ï¼Œæ”¯æŒè‡ªé€‚åº”åŠ¨æ€æ‰©é¢‘è¶…é¢‘ï¼Œä¸»è¦æ­é…é«˜ç«¯ CPUã€‚</li></ul><h2 id="ä¸»æ¿æ¿å‹"><a href="#ä¸»æ¿æ¿å‹" class="headerlink" title="ä¸»æ¿æ¿å‹"></a>ä¸»æ¿æ¿å‹</h2><ul><li>E-ATX åŠ å¼ºå‹ï¼šé«˜æ€§èƒ½ä¸»æ¿ï¼Œä¸€èˆ¬ä¼šæœ‰ 8 ä¸ªå†…å­˜æ’æ§½ï¼ŒèŠ¯ç‰‡ç»„éƒ½æ˜¯ X ç³»åˆ—ç­‰çº§çš„ï¼Œé€‚åˆä½¿ç”¨å¸¦ X åç¼€çš„å¤„ç†å™¨ï¼Œä½†æ˜¯ä»·æ ¼å¾ˆé«˜ï¼Œä¸æ¨èæ™®é€šç”¨æˆ·ä½¿ç”¨ã€‚</li><li>ATX æ ‡å‡†å‹ï¼šä¿—ç§°â€œå¤§æ¿â€ï¼Œä½“å‹ç¨å¤§ï¼Œæ‰©å±•æ€§å¥½ï¼Œæ¥å£å…¨ï¼Œä¸€èˆ¬å†…å­˜éƒ½æ˜¯å››æ’æ§½èµ·ï¼Œ2 æˆ– 3 ä¸ª PCIe æ¥å£å’Œ M.2 æ¥å£ï¼Œæ˜¯ç°åœ¨ç”¨çš„æœ€å¤šçš„ä¸»æ¿ç±»å‹ã€‚</li><li>M-ATX ç´§å‡‘å‹ï¼šä¿—ç§°â€œå°æ¿â€ï¼Œä½“å‹æ¥è¿‘æ­£æ–¹å½¢ï¼Œå†…å­˜æ’æ§½ä¸€èˆ¬æ˜¯ä¸¤ä¸ªæˆ–è€…å››ä¸ªï¼Œä¼šæœ‰ä¸€ä¸ª M.2 æ¥å£ï¼Œæ‰©å±•æ€§è™½ç„¶ä¸é«˜ï¼Œä½†æ˜¯å¯ä»¥æ»¡è¶³å¤§å¤šæ•°ç”¨æˆ·çš„éœ€æ±‚ã€‚</li><li>mini-ITX è¿·ä½ å‹ï¼šè¿·ä½ ä¸»æ¿ï¼Œæ¥å£æ•°é‡å±äºæ—¥å¸¸åˆšå¥½å¤Ÿç”¨çš„æ°´å¹³ï¼Œé€‚åˆ ITX è¿·ä½ æœºç®±ï¼Œä¸€èˆ¬ç”¨æ¥åŠå…¬æˆ–è€…å®¶ç”¨ï¼Œä¸é€‚åˆåšæ¸¸æˆä¸»æœºã€‚</li></ul><h2 id="ä¸»æ¿æ¥å£"><a href="#ä¸»æ¿æ¥å£" class="headerlink" title="ä¸»æ¿æ¥å£"></a>ä¸»æ¿æ¥å£</h2><p>CPU æ¥å£ï¼šå…³ä¹ä¸»æ¿ä¸ CPU å…¼å®¹é—®é¢˜ï¼Œå¯¹äºç”µè„‘å°ç™½æ¥è¯´ï¼Œæœ€å¥½çš„åŠæ³•æ˜¯è´­ä¹° CPU ä¸»æ¿å¥—é¤ï¼Œå•†å®¶æ­é…å¥½çš„ï¼Œå…¼å®¹æ€§è‚¯å®šæ²¡é—®é¢˜ï¼Œå¹¶ä¸”è¿™ç§ç»„åˆè´­ä¹°æ–¹å¼ï¼Œç›¸æ¯”å•ç‹¬ä¹° CPUã€ä¸»æ¿ï¼Œä»·æ ¼æ›´å®æƒ ã€‚<br>å†…å­˜æ’æ§½ï¼šæ’æ§½çš„ç§ç±»å’Œæ•°é‡çš„å¤šå°‘æ˜¯å†³å®šä¸€å—ä¸»æ¿å¥½åçš„é‡è¦æŒ‡æ ‡ï¼Œæœ‰å¤šç§ç±»å‹å’Œè¶³å¤Ÿæ•°é‡çš„æ‰©å±•æ’æ§½å°±æ„å‘³ç€ä»Šåæœ‰è¶³å¤Ÿçš„å¯å‡çº§æ€§å’Œè®¾å¤‡æ‰©å±•æ€§ã€‚<br>M.2 æ¥å£ï¼šè¿™ä¸ªæ¥å£æœ€å¥½æ˜¯å…¨é€Ÿçš„ï¼Œéå…¨é€Ÿçš„æ¥å£ï¼Œæ— æ³•æ»¡è¶³ M.2 NVME é«˜é€Ÿå›ºæ€ç¡¬ç›˜éœ€æ±‚ï¼Œä¸æ™®é€š SATA å›ºæ€é€Ÿåº¦æ— å¼‚ï¼Œå¦å¤– Intel å¹³å° M.2 æ¥å£è¿˜å¯ä»¥å®‰è£…å‚²è…¾å†…å­˜ã€‚</p><h1 id="CPU"><a href="#CPU" class="headerlink" title="CPU"></a>CPU</h1><h2 id="Intel-å¤„ç†å™¨"><a href="#Intel-å¤„ç†å™¨" class="headerlink" title="Intel å¤„ç†å™¨"></a>Intel å¤„ç†å™¨</h2><p>æ‹¿ <code>Intel é…·ç¿ i5 9400F</code> ä¸¾ä¾‹ï¼š</p><p>é…·ç¿ï¼šç³»åˆ—åç§°ï¼Œæœ‰è‡³å¼ºã€é…·ç¿ã€èµ›æ‰¬ã€å¥”è…¾ã€å‡ŒåŠ¨â€¦â€¦</p><p>i5ï¼šCPUå®šä½ï¼Œåˆ†ä¸º i3ï¼Œi5ï¼Œi7 å’Œ i9 åˆ†åˆ«æ˜¯ä½ç«¯ï¼Œä¸­ç«¯ï¼Œä¸­é«˜ç«¯ï¼Œé«˜ç«¯ã€‚ï¼ˆä¸èƒ½ä»…é€šè¿‡ i å‡ åˆ¤æ–­ CPU çš„æ€§èƒ½ï¼Œè¦çœ‹å…·ä½“å‹å·ï¼Œä¾‹å¦‚ i5 7500 ä¸å¦‚ i3 8100ï¼‰</p><p>9ï¼šä»£è¡¨ç¬¬å‡ ä»£ï¼Œè¿™é‡Œå°±æ˜¯ç¬¬ä¹ä»£ï¼ˆä¸æ„å‘³ç€ç»å¯¹æ€§èƒ½çš„å¼ºå¼±ï¼‰</p><p>400ï¼šä»£è¡¨çº§åˆ«ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œå…¶ä»–éƒ½ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œæ•°å­—è¶Šå¤§ï¼Œæ€§èƒ½è¶Šå¼º</p><p>Fï¼šä»£è¡¨ç‰¹æ€§åç¼€ï¼Œåˆ†ä¸ºç¬”è®°æœ¬å’Œå°å¼æœº</p><p>å°å¼æœº:</p><ul><li>X/XEï¼šä»£è¡¨é¡¶çº§è‡³å°Šçš‡å¸ç‰ˆCPU</li><li>Kï¼šä»£è¡¨å¼€æ”¾å€é¢‘ä»¥ä¾›ç”¨æˆ·è¶…é¢‘ï¼Œå³ä¸é”é¢‘ï¼Œå¯è¶…é¢‘</li><li>S/Tï¼šä»£è¡¨èŠ‚èƒ½ç‰ˆCPUï¼ŒåŠŸç‡ç›¸è¾ƒäºä¸å¸¦åç¼€çš„ç•¥ä½ï¼Œç›¸åº”çš„é¢‘ç‡ä¹Ÿé™ä½</li><li>Rï¼šä»£è¡¨è¯¥CPUé‡‡ç”¨äº†å½“ä»£æ€§èƒ½æœ€é«˜æ ¸æ˜¾ï¼Œå¸¸å‡ºç°åœ¨ä¸€ä½“æœºå’Œè¿·ä½ ä¸»æœºä¸Šï¼Œæ— æ³•æ›´æ¢å’Œå‡çº§</li><li>Cï¼šåªå‡ºç°åœ¨5ä»£CPUä¸­ï¼ŒCPUæ€§èƒ½æœ‰æ‰€é€€æ­¥ï¼Œä½†æœ‰æœ€å¼ºé›†æ˜¾CPUæ€§èƒ½</li><li>Fï¼šä»£è¡¨æ— æ ¸æ˜¾çš„CPUï¼Œéœ€æ­é…ç‹¬ç«‹æ˜¾å¡ï¼Œè¿™ç§CPUåŠŸè€—å°ï¼Œå‘çƒ­ä½ï¼Œä»·æ ¼ä¹Ÿç¨ä½</li></ul><p>ç¬”è®°æœ¬ï¼š</p><ul><li>Lï¼šä»£è¡¨ä½ç”µå‹ç‰ˆCPUï¼Œå‘çƒ­é‡ä¸æ ‡å‡†ç‰ˆç›¸æ¯”å¤§çº¦åªæœ‰ä¸€åŠ</li><li>Uï¼šä»£è¡¨è¶…ä½ç”µå‹ç‰ˆCPUï¼Œå‘çƒ­é‡å’ŒåŠŸè€—æ¯”Lç³»åˆ—è¿˜è¦ä½</li><li>Yï¼šä»£è¡¨è¶…ä½åŠŸè€—ç‰ˆCPUï¼Œå‘çƒ­é‡å’ŒåŠŸè€—æ¯”Uç³»åˆ—è¿˜è¦ä½</li><li>Hï¼šä»£è¡¨CPUæ— æ³•æ›´æ¢å’Œå‡çº§ï¼Œç¬”è®°æœ¬ä¸Šå¸¸è§</li><li>Mï¼šä»£è¡¨æ ‡å‡†ç”µå‹CPU</li><li>Qï¼šä¸€èˆ¬ä¸ºå››æ ¸CPU</li><li>Xï¼šä¸€èˆ¬ä¸º4æ ¸å¿ƒ8çº¿ç¨‹çš„æ——èˆ°æœºCPU</li><li>HQï¼šä¸€èˆ¬ä¸ºå››æ ¸CPUä¸”CPUæ— æ³•æ›´æ¢å’Œå‡çº§</li><li>MQï¼šä»£è¡¨ç§»åŠ¨å››æ ¸ï¼ŒCPUå¯æ›´æ¢</li><li>XMï¼šä»£è¡¨å››æ ¸å¿ƒå…«çº¿ç¨‹ï¼Œå±äºé¡¶çº§CPUï¼Œå¤„ç†å™¨å¯è¶…é¢‘</li></ul><h2 id="AMD-å¤„ç†å™¨"><a href="#AMD-å¤„ç†å™¨" class="headerlink" title="AMD å¤„ç†å™¨"></a>AMD å¤„ç†å™¨</h2><p>æ‹¿ <code>AMD Ryzen 5 3600XT</code> ä¸¾ä¾‹ï¼š</p><p>Ryzenï¼šç³»åˆ—åç§°ï¼Œæœ‰ Ryzenï¼ˆé”é¾™ï¼‰ã€Epycï¼ˆéœ„é¾™ï¼‰â€¦â€¦</p><p>5ï¼šä»£è¡¨R5ï¼ˆRyzen 5ï¼‰ä»£è¡¨ç¬¬å‡ ä»£ï¼Œè¿™é‡Œå°±æ˜¯ç¬¬äº”ä»£ï¼Œä¸»è¦æœ‰ 3ã€5ã€7ã€9ã€Threadripperã€‚é™¤äº†æœ‰ Ryzenï¼Œè¿˜æœ‰ Ryzen proã€Ryzen Threadripper Proï¼Œå®ƒä»¬ä¸»è¦é¢å‘å•†ä¸šç”¨é€”ï¼Œè€Œä¸æ˜¯å¤§ä¼—æ¶ˆè´¹è€…ã€‚</p><p>3600ï¼šä»£è¡¨çº§åˆ«ï¼ŒåŒä¸€ä¸ªç³»åˆ—ä¸‹ï¼ŒRyzen åé¢çš„ç¬¬ä¸€ä¸ªæ•°å­—è¶Šå¤§ï¼Œæ€§èƒ½é€šå¸¸è¶Šå¼ºï¼Œæœ€å¼ºçš„æ˜¯ Threadripperã€‚å¦‚æœç³»åˆ—ä¸åŒï¼Œåˆ™ä¸ä¸€å®šã€‚æ¯”å¦‚ Ryzen 7 5800X çš„æ€§èƒ½æ¯” Ryzen 9 3900XT å¼ºï¼Œè™½ç„¶å‰è€…æ˜¯ Ryzen 7ï¼Œåè€…æ˜¯ Ryzen 9ï¼Œä¼¼ä¹ 9 å¼ºäº 7ï¼Œä½†å‰è€…æ˜¯ 5000 ç³»åˆ—ï¼Œåè€…æ˜¯ 3000 ç³»åˆ—ã€‚ä¸åŒçš„ç³»åˆ—ä»£è¡¨ä¸åŒçš„æ¶æ„ï¼Œå‰è€…æ˜¯ Zen3 æ¶æ„ï¼Œåè€…æ˜¯ Zen2 æ¶æ„ã€‚</p><p>XTï¼šä»£è¡¨ç‰¹æ€§åç¼€ï¼Œåˆ†ä¸ºç¬”è®°æœ¬å’Œå°å¼æœº</p><p>å°å¼æœºï¼š</p><ul><li>æ— ï¼šæ ‡å‡†</li><li>Xï¼šé«˜æ€§èƒ½ï¼ŒX è¡¨ç¤º XFR</li><li>XTï¼šMatisse Refreshï¼Œé¢‘ç‡é€šå¸¸æ¯” X çš„é«˜</li><li>WXï¼šå·¥ä½œç«™</li><li>Eï¼šä½ TDP</li></ul><p>ç¬”è®°æœ¬ï¼š</p><ul><li>Uï¼šæ ‡å‡†</li><li>Mï¼šä½ TDP</li><li>Hï¼šé«˜æ€§èƒ½</li><li>Sï¼šslim</li><li>HSï¼šé«˜æ€§èƒ½çš„ Slim</li></ul><h1 id="æ˜¾å¡"><a href="#æ˜¾å¡" class="headerlink" title="æ˜¾å¡"></a>æ˜¾å¡</h1><h2 id="NVIDIA-æ˜¾å¡"><a href="#NVIDIA-æ˜¾å¡" class="headerlink" title="NVIDIA æ˜¾å¡"></a>NVIDIA æ˜¾å¡</h2><p>æ‹¿ <code>NVIDIA GeForce GTX 1080 TI</code> ä¸¾ä¾‹ï¼š</p><p>GeForceï¼šæ˜¾å¡ç³»åˆ—åç§°ï¼Œæœ‰ GeForceï¼ŒQuadroï¼ŒTITANâ€¦â€¦</p><p>GTXï¼šä»£è¡¨æ˜¾å¡å®šä½ï¼ŒGTX ä»£è¡¨é«˜ç«¯ï¼ŒGTS ä»£è¡¨ä¸­ç«¯ï¼ŒGT ä»£è¡¨ä½ç«¯ï¼ŒRTX ä»£è¡¨æ–°ä¸€ä»£é«˜ç«¯ï¼ˆæ­è½½å…‰çº¿è¿½è¸ªæŠ€æœ¯ï¼‰</p><p>10ï¼šä»£è¡¨çš„æ˜¯ç¬¬å‡ ä»£,è¿™å¼ æ˜¾å¡å°±æ˜¯ç¬¬åä»£æ˜¾å¡ï¼Œè¶Šé«˜æ€§èƒ½è¶Šå¼ºã€‚</p><p>8ï¼šåˆ™æ˜¯æ˜¾å¡æ€§èƒ½æ¡£æ¬¡çš„å®šä½ï¼Œæ•°å­—è¶Šé«˜åœ¨è¿™ä¸€ä»£é‡Œæ€§èƒ½å°±è¶Šå¼ºã€‚</p><p>0ï¼šä¸ç”¨ç®¡è¿™ä½æ•°å­—ï¼Œä¸€èˆ¬éƒ½æ˜¯ 0ï¼Œéƒ¨åˆ†æ˜¾å¡æ²¡æœ‰è¿™ä¸€ä½</p><p>TIï¼šä»£è¡¨ç‰¹æ®Šç‰ˆæœ¬ï¼ŒTIæ˜¯å¢å¼ºç‰ˆï¼ŒSuper ä»£è¡¨å°å¹…å¢å¼ºç‰ˆï¼ŒSE å‰Šå¼±ç‰ˆï¼ŒM æ˜¯ç§»åŠ¨ç‰ˆï¼ˆç¬”è®°æœ¬ï¼‰å¦‚ MXï¼ŒMax-Qï¼Œæ²¡æœ‰åç¼€åˆ™ä»£è¡¨æ™®é€šç‰ˆ</p><h2 id="AMD-æ˜¾å¡"><a href="#AMD-æ˜¾å¡" class="headerlink" title="AMD æ˜¾å¡"></a>AMD æ˜¾å¡</h2><p>æ‹¿ <code>AMD Radeon RX 5700 XT</code> ä¸¾ä¾‹ï¼š</p><p>Radeonï¼šæ˜¾å¡ç³»åˆ—åç§°ï¼Œæœ‰ Radeonï¼ŒRadeon Proâ€¦â€¦</p><p>RXï¼šä»£è¡¨æ˜¾å¡ç³»åˆ—ç»†åˆ†åç§°ï¼Œæœ‰ RXï¼ŒHDï¼ŒR(1~9)ï¼ŒWï¼ŒWXï¼ŒSSGï¼ŒDuoâ€¦â€¦</p><p>5ï¼šä»£è¡¨ç³»åˆ—å·ï¼Œè¿™å¼ ä»£è¡¨ç¬¬äº”ç³»åˆ—ï¼ˆä¹Ÿå¯ä»¥è¯´ç¬¬äº”ä»£ï¼‰ï¼ŒåŸºæœ¬ä¸Šè¶Šå¤§è¶Šå¥½ã€‚</p><p>70ï¼šåˆ™æ˜¯æ˜¾å¡æ€§èƒ½æ¡£æ¬¡çš„å®šä½ï¼Œæ•°å­—è¶Šé«˜åœ¨è¿™ä¸€ç³»åˆ—é‡Œæ€§èƒ½å°±è¶Šå¼ºã€‚</p><p>0ï¼šä¸ç”¨ç®¡è¿™ä½æ•°å­—ï¼Œä¸€èˆ¬éƒ½æ˜¯ 0ï¼Œéƒ¨åˆ†æ˜¾å¡æ²¡æœ‰è¿™ä¸€ä½ï¼Œå¦‚ RX 470ï¼ŒRX 480ç­‰ã€‚</p><p>XTï¼šä»£è¡¨ç‰¹æ®Šç‰ˆæœ¬ï¼Œå¤§è‡´ï¼ˆä¸ç»å¯¹ï¼‰æ€§èƒ½æ’åº XTX &gt; XT &gt; XL/GTO &gt; Pro/gt &gt; SEï¼Œæ²¡æœ‰åç¼€åˆ™ä»£è¡¨æ™®é€šç‰ˆã€‚</p><p>PSï¼šAMD çš„æ˜¾å¡ç§ç±»ç¹å¤šï¼Œå‘½åçº·ç¹å¤æ‚ï¼Œå¾ˆå¤šéƒ½ä¸ç»å¯¹ï¼Œä¹Ÿä¸æŒ‰å¥—è·¯å‡ºç‰Œï¼Œä¸å¯é¿å…æœ‰é”™æ¼çš„åœ°æ–¹ï¼Œæ¬¢è¿æŒ‡æ­£è¡¥å……ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ä¸»æ¿&quot;&gt;&lt;a href=&quot;#ä¸»æ¿&quot; class=&quot;headerlink&quot; title=&quot;ä¸»æ¿&quot;&gt;&lt;/a&gt;ä¸»æ¿&lt;/h1&gt;&lt;p&gt;ä¸»æ¿æ˜¯å½±å“ç”µè„‘å¥½åçš„å…³é”®ç¡¬ä»¶ä¹‹ä¸€ï¼Œç›®å‰å¸‚åœºä¸Šä¸»æ¿çš„å‹å·äº§å“ä¼—å¤šï¼Œä¸»æ¿ä¸€èˆ¬è€ƒè™‘ä¸‰å¤§æ–¹é¢ï¼š&lt;code&gt;ä¸»æ¿èŠ¯ç‰‡ç­‰çº§&lt;/code&gt;å†³å®šå…¶æ€§èƒ½çš„é«˜ä½
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>å¸¸ç”¨å·¥å…·åˆ—è¡¨</title>
    <link href="https://catwen.cn/2021/09/30/awesome-tools/"/>
    <id>https://catwen.cn/2021/09/30/awesome-tools/</id>
    <published>2021-09-30T08:59:08.000Z</published>
    <updated>2021-12-18T15:50:15.704Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸Šç½‘"><a href="#ä¸Šç½‘" class="headerlink" title="ä¸Šç½‘"></a>ä¸Šç½‘</h2><p>ä¸»<a href="https://admin.91zfdao.com/auth/register?code=B5pg" target="_blank" rel="noopener">è¿½é£å²›</a>ï¼Œå¤‡è°·æ­Œäº‘</p><ul><li>è½¯ä»¶æ–¹é¢ï¼ŒMac ä¸‹ç”¨ <code>V2rayU</code>ï¼ŒiPhone ä¸‹ç”¨ <code>ShadowRocket</code>ï¼ˆåˆ‡ç¾åŒºä¸‹è½½ï¼‰</li><li>é€šè¿‡ <a href="https://www.proxifier.com/" target="_blank" rel="noopener">Proxifier</a> å®ç° terminal ç§‘å­¦ä¸Šç½‘</li><li>å®¶é‡Œæ˜¯è½¯è·¯ç”±ï¼Œå›ºä»¶é€‰æ‹© çˆ±å¿« + openwrt</li><li>ç”µè§†ç›’å­æœ‰ <code>FireTV</code> å’Œ <code>Google TV</code> çœ‹ Youtube å’Œ Netflix</li></ul><h2 id="ç¼–è¾‘å™¨å’Œå¼€å‘è¾…åŠ©"><a href="#ç¼–è¾‘å™¨å’Œå¼€å‘è¾…åŠ©" class="headerlink" title="ç¼–è¾‘å™¨å’Œå¼€å‘è¾…åŠ©"></a>ç¼–è¾‘å™¨å’Œå¼€å‘è¾…åŠ©</h2><ul><li><a href="https://code.visualstudio.com/" target="_blank" rel="noopener">VSCode</a></li><li>Terminal ç”¨ <a href="https://iterm2.com/" target="_blank" rel="noopener">iTerm2</a> + zsh + <a href="https://ohmyz.sh/" target="_blank" rel="noopener">oh-my-zsh</a> çš„ç»„åˆ</li><li><a href="https://docker.io/" target="_blank" rel="noopener">Docker</a>ï¼Œè¿™ä¸ªä¸ç”¨è§£é‡Šäº†å§</li><li><a href="https://k3s.io/" target="_blank" rel="noopener">k3s</a>ï¼Œè½»é‡åŒ–çš„ k8s</li><li><a href="https://colorsnapper.com/" target="_blank" rel="noopener">ColorSnapper2</a>ï¼Œå–è‰²å·¥å…·</li><li><a href="https://www.charlesproxy.com/" target="_blank" rel="noopener">Charles</a>ï¼ŒæŠ“åŒ…ç”¨</li><li><a href="https://github.com/wting/autojump" target="_blank" rel="noopener">autojump</a>ï¼Œç›®å½•è·³è½¬</li><li><a href="https://github.com/jonas/tig" target="_blank" rel="noopener">tig</a>ï¼Œgit æ‰©å±•</li><li><a href="https://github.com/sharkdp/bat" target="_blank" rel="noopener">bat</a>ï¼Œå¸¦è¡Œå·çš„ catï¼Œå¯ä»¥é… alias cat=â€batâ€</li><li><a href="https://www.navicat.com.cn/" target="_blank" rel="noopener">Navicat</a>ï¼Œæ•°æ®åº“å®¢æˆ·ç«¯å·¥å…·</li><li>BestTraceï¼Œè·¯ç”±è·Ÿè¸ªæµ‹è¯•</li><li><a href="https://www.sourcetreeapp.com/" target="_blank" rel="noopener">Sourcetree</a>ï¼ŒGit å‘½ä»¤å¤ªå¤šï¼Œæœ‰æ—¶å€™å€ŸåŠ©ä¸€ä¸‹å›¾å½¢ç•Œé¢</li></ul><h2 id="ç¡¬ä»¶"><a href="#ç¡¬ä»¶" class="headerlink" title="ç¡¬ä»¶"></a>ç¡¬ä»¶</h2><ul><li>ç½‘ç»œï¼š3865U è½¯è·¯ç”± + ç½‘ä»¶ R7000</li><li>ä¸»åŠ›ç”µè„‘ï¼šMacBook Pro 2015 i7 16Gï¼Œæ„Ÿè§‰è¿˜å¯ä»¥å†ç”¨å‡ å¹´</li><li>é”®ç›˜ï¼šHHKB Professional2 Type-Sï¼Œè‡ªå·±ä¹°äº†ä¸ªè“ç‰™æ¨¡å—è£…äº†ä¸Šå»</li><li>é¼ æ ‡ï¼šç½—æŠ€ MX Master 3</li><li>æ˜¾ç¤ºå™¨ï¼šDELL U2718Q + DELL U2720QM</li><li>è€³æœºï¼šç´¢å°¼ WH-1000XM3 é™å™ªæ¯” BOSE QC35 å¼º</li><li>éŸ³å“ï¼šå“ˆæ›¼å¡é¡¿ Aura Studio 3 ç‰ç’ƒ 3 ä»£ï¼Œæ”¾åœ¨å®¶é‡Œå¶å°”å¬å¬æ­Œï¼Œä½éŸ³æ•ˆæœä¸é”™</li><li>ä¹æ­Œå‡é™æ¡Œ + äººä½“å·¥å­¦æ¤…</li><li>æ˜åŸº ScreenBar Plus</li><li>iPad Air åš HomeKit å®¶åº­ä¸­æ¢</li><li>kindleï¼Œçœ‹ä¹¦</li><li>ç´¢å°¼ A7M3 + é€‚é©¬ 35 1.4 ART</li><li><del>ä½³èƒ½ 6D + 70-200 F4 + 17-40 F4 + 50 F1.8</del> è½¬ç´¢å°¼ï¼Œéƒ½å–æ‰äº†</li><li><del>å¤§ç–† Mavic Pro</del> ä¸€ç›´åƒç°ï¼Œä¹Ÿå–æ‰äº†</li></ul><h2 id="è½¯ä»¶"><a href="#è½¯ä»¶" class="headerlink" title="è½¯ä»¶"></a>è½¯ä»¶</h2><ul><li><a href="https://www.notion.so/" target="_blank" rel="noopener">Notion</a>ï¼Œä¸»åŠ›ç¬”è®°</li><li><a href="https://obsidian.md/" target="_blank" rel="noopener">Obsidian</a>ï¼Œä¸²è”ç¬”è®°</li><li><a href="https://app.milanote.com/" target="_blank" rel="noopener">milanote</a>ï¼Œå¤´è„‘é£æš´ç¬”è®°</li><li><a href="https://pasteapp.io/" target="_blank" rel="noopener">Paste</a>ï¼Œç²˜è´´æ¿ç®¡ç†</li><li><a href="https://github.com/ripperhe/Bob" target="_blank" rel="noopener">Bob</a>ï¼ŒMac ç«¯ç¿»è¯‘è½¯ä»¶ï¼Œæ”¯æŒåˆ’è¯ç¿»è¯‘ã€æˆªå›¾ç¿»è¯‘ç­‰</li><li><a href="https://iina.io/" target="_blank" rel="noopener">IINA</a>ï¼Œè§†é¢‘æ’­æ”¾</li><li><a href="https://www.spotify.com/" target="_blank" rel="noopener">Spotify</a>ï¼Œæ›²åº“æŒºå…¨ï¼Œå®¶åº­è®¡åˆ’ä¹Ÿå¾ˆä¾¿å®œ</li><li><a href="https://motrix.app/" target="_blank" rel="noopener">Motrix</a>ï¼Œå¼€æºçš„ä¸‹è½½å·¥å…·</li><li><a href="https://github.com/Caldis/Mos" target="_blank" rel="noopener">Mos</a>ï¼Œä¸èˆ¬é¡ºæ»‘çš„æ»šåŠ¨æ•ˆæœ</li><li><a href="https://lemon.qq.com/" target="_blank" rel="noopener">è…¾è®¯æŸ æª¬</a>ï¼Œåƒåœ¾æ¸…ç†</li><li><a href="https://www.xmind.cn/" target="_blank" rel="noopener">XMind</a>ï¼Œè„‘å›¾</li></ul><h2 id="åœ¨çº¿æœåŠ¡"><a href="#åœ¨çº¿æœåŠ¡" class="headerlink" title="åœ¨çº¿æœåŠ¡"></a>åœ¨çº¿æœåŠ¡</h2><ul><li><a href="https://carbon.now.sh/" target="_blank" rel="noopener">carbon</a>ï¼Œæ ¹æ®æºç ç”Ÿæˆå›¾ç‰‡</li><li><a href="https://regex101.com/" target="_blank" rel="noopener">regex101</a>ï¼Œè°ƒæ­£åˆ™è¡¨è¾¾å¼</li><li><a href="https://regexr.com/" target="_blank" rel="noopener">regexr</a>ï¼Œå­¦ä¹ æ­£åˆ™è¡¨è¾¾å¼</li><li><a href="https://30secondsofcode.org/" target="_blank" rel="noopener">30 seconds of code</a>ï¼Œå„ç§ä»£ç ç‰‡æ®µ</li><li><a href="https://astexplorer.net/" target="_blank" rel="noopener">astexplorer</a>ï¼Œè°ƒ ast</li><li><a href="https://globster.xyz/" target="_blank" rel="noopener">globtester</a>ï¼Œè°ƒ glob</li><li><a href="https://caniuse.com/" target="_blank" rel="noopener">Can I use</a>ï¼ŒæŸ¥è¯¢æµè§ˆå™¨çš„ç‰¹æ€§æ”¯æŒæƒ…å†µ</li><li><a href="https://react-svgr.com/" target="_blank" rel="noopener">SVGR</a>ï¼ŒSVG è½¬ React ç»„ä»¶</li><li><a href="https://createapp.dev/webpack/no-library--babel" target="_blank" rel="noopener">create app</a>ï¼Œwebpack é…ç½®å·¥å…·</li><li><a href="https://diff.intrinsic.com/" target="_blank" rel="noopener">Package Diff</a>ï¼Œæ¯”è¾ƒ npm åŒ…ä¸¤ä¸ªç‰ˆæœ¬ç›´æ¥çš„åŒºåˆ«</li><li><a href="https://www.instapaper.com/u" target="_blank" rel="noopener">instapaper</a>ï¼Œç¨åé˜…è¯»</li><li><a href="http://www.webpagefx.com/tools/emoji-cheat-sheet/" target="_blank" rel="noopener">emoji</a>ï¼Œemoji æŸ¥è¯¢</li><li><a href="https://cssgradient.io/" target="_blank" rel="noopener">cssgradient</a>ï¼Œæ¸å˜è‰² css ç”Ÿæˆ</li><li><a href="https://bestof.js.org/" target="_blank" rel="noopener">Best JavaScript</a>ï¼Œå¯¹ github åšäº†ä¸€å±‚ç­›é€‰</li><li><a href="https://unbug.github.io/codelf/" target="_blank" rel="noopener">CODEIF</a>ï¼Œå˜é‡å‘½åç¥å™¨</li><li><a href="https://docschina.org/" target="_blank" rel="noopener">docschina</a>ï¼Œä¼˜è´¨çš„ä¸­æ–‡æ–‡æ¡£</li><li><a href="https://tool.lu/" target="_blank" rel="noopener">tools.lu</a>ï¼Œå·¥å…·åˆé›†</li><li><a href="https://tinypng.com/" target="_blank" rel="noopener">TinyPNG</a>ï¼ŒPNG/JPG å›¾ç‰‡åœ¨çº¿å‹ç¼©åˆ©å™¨</li><li><a href="https://github.com/FrontEndGitHub/FrontEndGitHub" target="_blank" rel="noopener">FrontEndGitHub</a>ï¼Œå‰ç«¯èµ„æºæ±‡æ€»</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ä¸Šç½‘&quot;&gt;&lt;a href=&quot;#ä¸Šç½‘&quot; class=&quot;headerlink&quot; title=&quot;ä¸Šç½‘&quot;&gt;&lt;/a&gt;ä¸Šç½‘&lt;/h2&gt;&lt;p&gt;ä¸»&lt;a href=&quot;https://admin.91zfdao.com/auth/register?code=B5pg&quot; target=&quot;_
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ç¼–å†™ React ç»„ä»¶çš„ 10 ä¸ªå»ºè®®</title>
    <link href="https://catwen.cn/2019/07/05/the-10-component-commandments/"/>
    <id>https://catwen.cn/2019/07/05/the-10-component-commandments/</id>
    <published>2019-07-05T18:25:04.000Z</published>
    <updated>2021-12-18T15:50:15.704Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/the-10-component-commandments/1.jpg" alt="img"></p><p>å†™ä¸€ä¸ªå…¬ç”¨çš„ç»„ä»¶å¾ˆéš¾ï¼Œä½ å¿…é¡»ç»†å¿ƒåœ°è€ƒè™‘å¾ˆå¤šé—®é¢˜ï¼Œæ¯”å¦‚åº”è¯¥æš´éœ²å‡ºå“ªäº› <code>props</code>ã€‚</p><p>æœ¬æ–‡å°†ç®€è¦çš„ä»‹ç» API è®¾è®¡ä¸­çš„ä¸€äº›æœ€ä½³å®è·µï¼Œä»¥åŠç¼–å†™ React ç»„ä»¶çš„ 10 æ¡å‚è€ƒè§„åˆ™ã€‚</p><h2 id="ä»€ä¹ˆæ˜¯-API-ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-API-ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ API ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ API ï¼Ÿ</h2><p>API ï¼ˆApplication Programming Interfaceï¼‰æ˜¯ä¸¤æ®µä»£ç æˆ–è€…ä¸¤ä¸ªåº”ç”¨å¦‚ä½•äº¤äº’çš„ä¸€ä¸ªå®šä¹‰æˆ–è€…æ¥å£ã€‚</p><ul><li>åç«¯å’Œå‰ç«¯äº¤äº’ä½¿ç”¨çš„æ˜¯å°±æ˜¯ APIï¼Œå¯ä»¥é€šè¿‡æ­¤ API è·å–æˆ–è€…æ“ä½œä¸€ç»„æ•°æ®</li><li>ç±»å’Œè°ƒç”¨è¯¥ç±»çš„ä»£ç ä¹‹é—´çš„æ¥å£ä¹Ÿæ˜¯ APIï¼Œä½ å¯ä»¥è°ƒç”¨ç±»é‡Œé¢çš„æ–¹æ³•</li></ul><p>åŒç†ï¼Œç»„ä»¶å®šä¹‰çš„ <code>props</code> ä¹Ÿæ˜¯ APIï¼Œè¿™æ˜¯ç”¨æˆ·ä¸ç»„ä»¶äº¤äº’çš„æ–¹å¼ã€‚</p><h2 id="API-è®¾è®¡ä¸­çš„ä¸€äº›æœ€ä½³å®è·µ"><a href="#API-è®¾è®¡ä¸­çš„ä¸€äº›æœ€ä½³å®è·µ" class="headerlink" title="API è®¾è®¡ä¸­çš„ä¸€äº›æœ€ä½³å®è·µ"></a>API è®¾è®¡ä¸­çš„ä¸€äº›æœ€ä½³å®è·µ</h2><p>æ‰€ä»¥ï¼Œè®¾è®¡ä¸€ä¸ª API çš„æ—¶å€™åº”è¯¥æœ‰å“ªäº›è§„åˆ™å’Œæ³¨æ„äº‹é¡¹ï¼Ÿæˆ‘ä»¬åšäº†å¾ˆå¤šç ”ç©¶å¹¶ç»“åˆå®è·µç»™å‡ºäº† 4 æ¡ API è®¾è®¡çš„æœ€ä½³å®è·µï¼š</p><h4 id="ç¨³å®šçš„ç‰ˆæœ¬"><a href="#ç¨³å®šçš„ç‰ˆæœ¬" class="headerlink" title="ç¨³å®šçš„ç‰ˆæœ¬"></a>ç¨³å®šçš„ç‰ˆæœ¬</h4><p>æœ€é‡è¦çš„è§„åˆ™ä¹‹ä¸€å°±æ˜¯è¦ä¿æŒç¨³å®šï¼Œæ„æ€å°±æ˜¯è¦æœ€å¤§é™åº¦çš„å‡å°‘ç ´åæ€§çš„å‡çº§ï¼Œå¦‚æœä½ åšäº†ç ´åæ€§çš„å‡çº§ï¼Œä¸€å®šè¦å†™ä¸€ä¸ªå®Œæ•´çš„å‡çº§æŒ‡å—ï¼Œå¦‚æœå¯èƒ½çš„è¯ï¼Œå†æä¾›ä¸€äº› API è®©ç”¨æˆ·æ¶ˆåŒ–å‡çº§çš„è¿‡ç¨‹ï¼Œä½¿ç”¨æˆ·å‡çº§ç‰ˆæœ¬çš„æˆæœ¬é™ä½ã€‚</p><p>å¦‚æœä½ è¦å‘å¸ƒ APIï¼Œè¯·ä½¿ç”¨ <a href="https://semver.org/lang/zh-CN/" target="_blank" rel="noopener">è¯­ä¹‰åŒ–ç‰ˆæœ¬</a>ï¼Œä»¥ä¾¿ç”¨æˆ·å¯ä»¥è‡ªç”±çš„é€‰æ‹©ä»–ä»¬éœ€è¦çš„ç‰ˆæœ¬ã€‚</p><h4 id="æä¾›é”™è¯¯æè¿°ä¿¡æ¯"><a href="#æä¾›é”™è¯¯æè¿°ä¿¡æ¯" class="headerlink" title="æä¾›é”™è¯¯æè¿°ä¿¡æ¯"></a>æä¾›é”™è¯¯æè¿°ä¿¡æ¯</h4><p>è°ƒç”¨ API å‡ºé”™çš„æ—¶å€™ï¼Œè¿”å›ç»™å®¢æˆ·ç«¯ä¸€ä¸ªè¯¦ç»†çš„é”™è¯¯è¯´æ˜ï¼Œå¹¶ä¸”å‘Šè¯‰å®¢æˆ·ç«¯åº”è¯¥å¦‚ä½•è§£å†³ã€‚åœ¨æ²¡æœ‰ä»»ä½•ä¸Šä¸‹æ–‡çš„æƒ…å†µä¸‹è¿”å›ä¸€ä¸ª â€œè°ƒç”¨å‡ºé”™â€ çš„é”™è¯¯ä¿¡æ¯ç»™å®¢æˆ·ç«¯å¹¶ä¸æ˜¯ä¸€ä¸ªå‹å¥½çš„ä½“éªŒã€‚</p><h4 id="ä¸è¦è®©å¼€å‘äººå‘˜è¿·æƒ‘"><a href="#ä¸è¦è®©å¼€å‘äººå‘˜è¿·æƒ‘" class="headerlink" title="ä¸è¦è®©å¼€å‘äººå‘˜è¿·æƒ‘"></a>ä¸è¦è®©å¼€å‘äººå‘˜è¿·æƒ‘</h4><p>å¼€å‘äººå‘˜éƒ½æ˜¯å¾ˆå‚²å¨‡çš„ï¼Œå¹¶ä¸æƒ³åœ¨ä½¿ç”¨ä½  API çš„æ—¶å€™æ„Ÿåˆ°è¿·æƒ‘ï¼Œæ¢å¥è¯è¯´ï¼Œä½¿ä½ çš„ API å°½å¯èƒ½çš„ç›´è§‚ï¼Œè§„èŒƒã€‚å¯ä»¥é€šè¿‡éµå¾ªä¸€äº›åŸåˆ™å’Œå‘½åè§„èŒƒå»å®ç°ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œä½ çš„ API æä¾›äº† boolean ç±»å‹çš„å‚æ•°ï¼Œå‚æ•°å‘½åçš„æ—¶å€™ä½ åœ¨ä¸€ä¸ªåœ°æ–¹ç”¨ is åšå‰ç¼€ï¼Œå¦å¤–ä¸€ä¸ªåœ°æ–¹åˆç”¨äº† has åšå‰ç¼€ï¼Œç„¶åå…¶ä»–åœ°æ–¹åˆç”¨äº†å¦å¤–ä¸€ä¸ªå‰ç¼€ï¼Œè¿™ä¼šè®©å¼€å‘äººå‘˜æ¯”è¾ƒè¿·æƒ‘ã€‚</p><h4 id="æš´éœ²å‡ºæ¥çš„-API-å°½å¯èƒ½çš„å°‘"><a href="#æš´éœ²å‡ºæ¥çš„-API-å°½å¯èƒ½çš„å°‘" class="headerlink" title="æš´éœ²å‡ºæ¥çš„ API å°½å¯èƒ½çš„å°‘"></a>æš´éœ²å‡ºæ¥çš„ API å°½å¯èƒ½çš„å°‘</h4><p>å½“ç„¶ä¸æ˜¯è¯´åŠŸèƒ½å¤šäº†ä¸å¥½ï¼Œåªæ˜¯è¦å–„ç”¨å¤–è§‚æ¨¡å¼æˆ–è€…å‘½ä»¤æ¨¡å¼ç­‰å»å°è£…ä¸€äº›æ“ä½œï¼Œåšåˆ°é«˜å†…èšï¼ŒAPI è¿‡å¤šä¼šå¢åŠ å­¦ä¹ æˆæœ¬ï¼Œä¸€ä¸ªé«˜å†…èšçš„ API ä¼šè¢«è®¤åšæ˜¯ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„ APIã€‚</p><h2 id="ç»„ä»¶è®¾è®¡çš„-10-ä¸ªå»ºè®®"><a href="#ç»„ä»¶è®¾è®¡çš„-10-ä¸ªå»ºè®®" class="headerlink" title="ç»„ä»¶è®¾è®¡çš„ 10 ä¸ªå»ºè®®"></a>ç»„ä»¶è®¾è®¡çš„ 10 ä¸ªå»ºè®®</h2><p>ä¸Šé¢ 4 æ¡è§„åˆ™åœ¨ REST APIs ä¸­åº”ç”¨çš„å¾ˆå¥½ï¼Œä¹‹å‰æè¿‡çš„ï¼Œæˆ‘ä»¬çš„ç»„ä»¶ä¹Ÿæœ‰å®ƒçš„ APIï¼Œå°±æ˜¯ <code>props</code>ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•å®šä¹‰ <code>props</code> ä½¿å®ƒä¸è¿åä¸Šé¢çš„è§„åˆ™å‘¢ï¼Ÿä¸‹é¢åˆ—å‡º 10 æ¡å»ºè®®ï¼š</p><h4 id="å†™æ–‡æ¡£"><a href="#å†™æ–‡æ¡£" class="headerlink" title="å†™æ–‡æ¡£"></a>å†™æ–‡æ¡£</h4><p>å¦‚æœä½ æ²¡æœ‰å†™ä¸ªç»„ä»¶çš„ä½¿ç”¨æ–‡æ¡£ï¼Œå¥½å§ï¼Œä½¿ç”¨è€…å¯ä»¥çœ‹ä½ çš„ä»£ç ï¼Œä½†è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½çš„ä½“éªŒã€‚</p><p>æœ‰å¾ˆå¤šå†™æ–‡æ¡£çš„å·¥å…·ï¼Œè¿™é‡Œæ¨èä¸‰ä¸ªï¼š</p><ul><li><a href="https://storybook.js.org/" target="_blank" rel="noopener">Storybook</a></li><li><a href="https://react-styleguidist.js.org/" target="_blank" rel="noopener">Styleguidist</a></li><li><a href="https://www.docz.site/" target="_blank" rel="noopener">Docz</a></li></ul><p>ä¸ç®¡é€‰ç”¨å“ªä¸ªï¼Œä¸€å®šè¦æŠŠæ‰€æœ‰çš„ API ä½¿ç”¨è¯´æ˜éƒ½å†™å‡ºæ¥ã€‚</p><h4 id="å…è®¸ä¸Šä¸‹æ–‡è¯­ä¹‰"><a href="#å…è®¸ä¸Šä¸‹æ–‡è¯­ä¹‰" class="headerlink" title="å…è®¸ä¸Šä¸‹æ–‡è¯­ä¹‰"></a>å…è®¸ä¸Šä¸‹æ–‡è¯­ä¹‰</h4><p>HTMLæ˜¯ä¸€ç§ä»¥è¯­ä¹‰æ–¹å¼ç»“æ„åŒ–ä¿¡æ¯çš„è¯­è¨€ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬çš„å¤§å¤šæ•°ç»„ä»¶éƒ½æ˜¯ç”± <code>&lt;div /&gt;</code> æ ‡ç­¾ç»„æˆçš„ã€‚å®ƒåœ¨æŸç§ç¨‹åº¦ä¸Šæ˜¯æ²¡é—®é¢˜çš„ï¼Œå› ä¸ºé€šç”¨ç»„ä»¶ä¸çŸ¥é“æˆ‘ä»¬æƒ³è¦çš„æ˜¯ <code>&lt;article /&gt;</code> æˆ– <code>&lt;section /&gt;</code> è¿˜æ˜¯ <code>&lt;aside /&gt;</code>ï¼Œä½†æ˜¯è¿™æ ·å¹¶ä¸ä¼˜é›…ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å»ºè®®å…è®¸ç»„ä»¶æ¥å—ä¸€ä¸ª <code>prop</code>ï¼Œå®ƒå°†è¦†ç›–æ­£åœ¨å‘ˆç°çš„ DOM å…ƒç´ ã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•å®ç°å®ƒçš„ç¤ºä¾‹ï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Grid</span>(<span class="params">&#123; as: Element, ...props &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &lt;Element className="grid" &#123;...props&#125; /&gt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Grid.defaultProps = &#123;</span><br><span class="line">  <span class="keyword">as</span>: <span class="string">'div'</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åœ¨ jsx ä¸­æŠŠ <code>as</code> prop é‡å‘½åæ–‡æœ¬åœ°å˜é‡ <code>Element</code>ï¼Œå¹¶ä¸”æŠŠé»˜è®¤å€¼è®¾ä¸º <code>div</code>ã€‚</p><p>ä½¿ç”¨ <code>&lt;Grid /&gt;</code> çš„æ—¶å€™ä¼ é€’ä½ æƒ³è¦çš„æ ‡ç­¾åå°±å¥½äº†ã€‚</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;Grid <span class="keyword">as</span>=<span class="string">"main"</span>&gt;</span><br><span class="line">      &lt;MoreContent /&gt;</span><br><span class="line">    &lt;<span class="regexp">/Grid&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·åœ¨ React ä¸­ä½¿ç”¨æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œå¦å¤–ä¸€ä¸ªç»å…¸çš„ä¾‹å­å°±æ˜¯ä½ æœ‰ä¸€ä¸ª <code>&lt;Button /&gt;</code> ç»„ä»¶ï¼Œæƒ³æŠŠå®ƒæ¸²æŸ“æˆ React Router çš„ <code>&lt;Link /&gt;</code></p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button <span class="keyword">as</span>=&#123;Link&#125; to=<span class="string">"/profile"</span>&gt;</span><br><span class="line">  Go to Profile</span><br><span class="line">&lt;<span class="regexp">/Button&gt;</span></span><br></pre></td></tr></table></figure><h4 id="é¿å…ä½¿ç”¨-boolean-props"><a href="#é¿å…ä½¿ç”¨-boolean-props" class="headerlink" title="é¿å…ä½¿ç”¨ boolean props"></a>é¿å…ä½¿ç”¨ boolean props</h4><p>Boolean props å¬èµ·æ¥æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œå› ä¸ºä½ å¯ä»¥ä¸ç”¨æŒ‡å®šå€¼ï¼Œçœ‹èµ·æ¥éå¸¸ä¼˜é›…ã€‚</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button large&gt;BUY NOW!&lt;<span class="regexp">/Button&gt;</span></span><br></pre></td></tr></table></figure><p>å°½ç®¡ Boolean props çœ‹èµ·æ¥éå¸¸ä¼˜é›…ï¼Œä½†æ˜¯å®ƒåªèƒ½æ”¯æŒä¸¤ä¸ªå€¼ <code>true</code> or <code>false</code></p><p>å¦‚æœä½ çš„ç»„ä»¶è®¾è®¡äº†å¾ˆå¤šç§ boolean ç±»å‹çš„ props çœ‹èµ·æ¥å°±æ¯”è¾ƒç´¯èµ˜äº†ï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button large small primary disabled secondary&gt;</span><br><span class="line">  WHAT AM I??</span><br><span class="line">&lt;<span class="regexp">/Button&gt;</span></span><br></pre></td></tr></table></figure><p>æ¢å¥è¯è¯´ï¼Œboolean é€šå¸¸å¾ˆéš¾æ ¹æ®éœ€æ±‚å»æ‰©å±•ã€‚æ¢æˆå­—ç¬¦ä¸²æšä¸¾æ˜¯ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©ï¼Œå®ƒå¯ä»¥æ‰©å±•ä¸ºäºŒå…ƒå€¼ä¹‹å¤–çš„ä»»æ„å€¼ã€‚</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button variant=<span class="string">"primary"</span> size=<span class="string">"large"</span>&gt;</span><br><span class="line">  I am primarily a large button</span><br><span class="line">&lt;<span class="regexp">/Button&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸æ˜¯è¯´ boolean props ä¸€æ— æ˜¯å¤„ï¼Œä¸€äº›ä¸å¯èƒ½æ‰©å±•å¹¶ä¸”åªæœ‰ä¸¤ä¸ªå€¼çš„ prop æ¯”å¦‚ disabled è¿˜æ˜¯ç”¨ boolean ç±»å‹ã€‚</p><h4 id="ä½¿ç”¨-props-children"><a href="#ä½¿ç”¨-props-children" class="headerlink" title="ä½¿ç”¨ props.children"></a>ä½¿ç”¨ props.children</h4><p>React æœ‰å‡ ä¸ªç‰¹æ®Šçš„ propï¼Œæ¯”å¦‚ <code>key</code>ï¼Œä»–ä»¬æœ‰ç‰¹æ®Šçš„å¤„ç†æœºåˆ¶ï¼Œè¿˜æœ‰ä¸€ä¸ªå°±æ˜¯ <code>children</code>ã€‚</p><p>åœ¨å¼€å§‹æ ‡ç­¾å’Œç»“æŸæ ‡ç­¾ä¸­é—´çš„å†…å®¹éƒ½ä¼šè¢«å¡è¿› <code>props.children</code> propsï¼Œåº”è¯¥å°½å¯èƒ½å¤šçš„ä½¿ç”¨å®ƒï¼Œå› ä¸ºå®ƒæ¯”ä¸€ä¸ª <code>content</code> propï¼Œæˆ–è€…ä¸€äº›æ–‡æœ¬å†…å®¹éœ€è¦ä¼ é€’çš„æ—¶å€™æ›´æ˜“ä½¿ç”¨ã€‚</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;TableCell content=<span class="string">"Some text"</span> /&gt;</span><br><span class="line"><span class="comment">// vs</span></span><br><span class="line">&lt;TableCell&gt;Some text&lt;<span class="regexp">/TableCell&gt;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>props.children</code> æœ‰å‡ ä¸ªå¥½å¤„ã€‚é¦–å…ˆï¼Œå®ƒç±»ä¼¼äºå¸¸è§„ HTML çš„ä½¿ç”¨æ–¹å¼ã€‚å…¶æ¬¡ï¼Œä½ å¯ä»¥è‡ªç”±åœ°ä¼ é€’ä»»ä½•ä½ æƒ³è¦çš„ä¸œè¥¿ï¼Œè€Œä¸æ˜¯å°† <code>leftIcon</code> å’Œ <code>rightIcon</code> prop æ·»åŠ åˆ°ç»„ä»¶ä¸­ï¼Œåªéœ€å°†å®ƒä»¬ä½œä¸º <code>props.children</code> prop çš„ä¸€éƒ¨åˆ†ä¼ é€’ï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;TableCell&gt;</span><br><span class="line">  &lt;ImportantIcon /&gt; Some text</span><br><span class="line">&lt;<span class="regexp">/TableCell&gt;</span></span><br></pre></td></tr></table></figure><p>ä½ å¯èƒ½ä¼šè¯´ä½ çš„ç»„ä»¶åªä¼šæ¸²æŸ“çº¯æ–‡æœ¬ï¼Œä¸éœ€è¦å…¶ä»–ä¸œè¥¿ï¼Œç°åœ¨çœ‹æ¥å¯èƒ½æ²¡é—®é¢˜ï¼Œä½†æ˜¯ä»¥åéœ€æ±‚ä¸æ–­å˜åŒ–çš„æ—¶å€™ä½ å°±ä¼šå‘ç° <code>props.children</code> çš„å¥½å¤„ã€‚</p><h4 id="çˆ¶ç»„ä»¶é’©å­å‡½æ•°"><a href="#çˆ¶ç»„ä»¶é’©å­å‡½æ•°" class="headerlink" title="çˆ¶ç»„ä»¶é’©å­å‡½æ•°"></a>çˆ¶ç»„ä»¶é’©å­å‡½æ•°</h4><p>æœ‰æ—¶å€™æˆ‘ä»¬ä¼šå†™ä¸€äº›å†…éƒ¨é€»è¾‘å¾ˆå¤æ‚çš„ç»„ä»¶ï¼Œæ¯”å¦‚ <code>AutoComplete</code> æˆ–è€…ä¸€äº›å›¾è¡¨ã€‚</p><p>è¿™äº›ç±»å‹çš„ç»„ä»¶è¦æ¸²æŸ“çš„å†…å®¹é€šå¸¸ä¾èµ–å¤–éƒ¨çš„ APIï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œå¯èƒ½è¿˜è¦å®ç°ä¸€äº›ç‰¹æ®Šçš„éœ€æ±‚</p><p>æˆ‘ä»¬å¦‚ä½•æä¾›ä¸€ä¸ªå•ä¸€åˆæ ‡å‡†åŒ–çš„ prop è®©è°ƒç”¨è€…å»æ§åˆ¶æˆ–è€…è¦†ç›–ç»„ä»¶å†…éƒ¨çš„é»˜è®¤é€»è¾‘å‘¢ï¼Ÿ</p><p>è§£å†³æ–¹æ¡ˆæ˜¯ <code>state reducers</code> æ¨¡å¼ï¼Œè¿™é‡Œæœ‰ä¸€ç¯‡æ–‡ç«  <a href="https://kentcdodds.com/blog/the-state-reducer-pattern" target="_blank" rel="noopener">post about the concept itself</a></p><p>æ€»ç»“ä¸‹æ¥ï¼Œ<code>state reducer</code> æ¨¡å¼å°±æ˜¯è®©æ¶ˆè´¹è€…å¯ä»¥è®¿é—®åˆ°ç»„ä»¶å†…éƒ¨å‘ç”Ÿçš„ä¸€åˆ‡äº‹ä»¶ã€çŠ¶æ€ï¼Œä»è€Œè¿›è¡Œæ›´é«˜çº§çš„è‡ªå®šä¹‰é…ç½®</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyCustomDropdown</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> stateReducer = <span class="function">(<span class="params">state, action</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (action.type === Dropdown.actions.CLOSE) &#123;</span><br><span class="line">      buttonRef.current.focus();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;&gt;</span><br><span class="line">      &lt;Dropdown stateReducer=&#123;stateReducer&#125; &#123;...props&#125; /&gt;</span><br><span class="line">      &lt;Button ref=&#123;buttonRef&#125;&gt;Open&lt;<span class="regexp">/Button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ‰©æ•£å‰©ä½™çš„-props"><a href="#æ‰©æ•£å‰©ä½™çš„-props" class="headerlink" title="æ‰©æ•£å‰©ä½™çš„ props"></a>æ‰©æ•£å‰©ä½™çš„ props</h4><p>å½“ä½ åˆ›å»ºä¸€ä¸ªæ–°ç»„ä»¶çš„æ—¶å€™ï¼Œç¡®ä¿å‰©ä½™çš„ props è¢«ä¼ é€’åˆ°å¯ä»¥ç”Ÿæ•ˆçš„ element ä¸Šï¼Œä¸å¿…ä»…ä»…æ˜¯ä¸ºäº†å‘åº•å±‚ç»„ä»¶ä¼ é€’ props å°±é¢å¤–æ·»åŠ ä¸€ä¸ªã€‚å¯ä»¥ç”¨ <code>...rest</code> æ“ä½œç¬¦ï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ToolTip</span>(<span class="params">&#123; isVisible, ...rest &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> isVisible ? &lt;span role="tooltip" &#123;...rest&#125; /&gt; : <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç»™å‡ºè¶³å¤Ÿçš„é»˜è®¤å€¼"><a href="#ç»™å‡ºè¶³å¤Ÿçš„é»˜è®¤å€¼" class="headerlink" title="ç»™å‡ºè¶³å¤Ÿçš„é»˜è®¤å€¼"></a>ç»™å‡ºè¶³å¤Ÿçš„é»˜è®¤å€¼</h4><p>å°½é‡ä¸º props æä¾›é»˜è®¤å€¼ï¼Œè¿™æ ·ä¹Ÿå¯ä»¥å¤§å¤§å‡å°‘éœ€è¦ä¼ é€’ props çš„æ•°é‡ï¼Œä»¥ <code>onClick</code> ä¸ºä¾‹ï¼Œå¯ä»¥æä¾›ä¸€ä¸ªç©ºå‡½æ•°ä½œä¸ºé»˜è®¤å€¼ï¼Œå¦å¤–å¯ä»¥ä¸ºå­—ç¬¦ç±»å‹çš„ prop æä¾›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ä½œä¸ºé»˜è®¤å€¼ï¼Œè¿™æ ·å½“æ²¡æœ‰ä¼ é€’ prop çš„æ—¶å€™å°±å¯ä»¥ç¡®ä¿å¤„ç†çš„æ˜¯ç©ºå­—ç¬¦ä¸²è€Œä¸æ˜¯ undefined æˆ–è€… null ç­‰ä¸ç¡®å®šçš„å€¼ </p><h4 id="ä¸è¦é‡å‘½å-HTML-çš„å±æ€§"><a href="#ä¸è¦é‡å‘½å-HTML-çš„å±æ€§" class="headerlink" title="ä¸è¦é‡å‘½å HTML çš„å±æ€§"></a>ä¸è¦é‡å‘½å HTML çš„å±æ€§</h4><p>HTML æ ‡ç­¾æœ¬èº«å°±å«æœ‰è‡ªå·±çš„ä¸€äº›å±æ€§ï¼Œå°±æ˜¯ä»–è‡ªå·±çš„ APIï¼Œä¸ºä»€ä¹ˆä¸ç”¨å‘¢ï¼Ÿ</p><p>å°±åƒå‰é¢æåˆ°è¿‡çš„ï¼Œå‡å°‘æš´éœ²çš„ APIï¼Œä¸ºä»€ä¹ˆè¦æ·»åŠ ä¸€ä¸ª screenReaderLabel prop è€Œä¸ç”¨è‡ªèº«åŸæœ‰çš„ aria-label APIå‘¢ï¼Ÿ</p><p>æ‰€ä»¥ï¼Œè¯·ä¸è¦ä¸ºäº†â€œæ˜“ç”¨æ€§â€è€Œå»é‡å¤å®šä¹‰ï¼Œæ¯”å¦‚æ·»åŠ äº† screenReaderLabel propï¼Œç„¶ååˆä¼ é€’äº†ä¸€ä¸ª aria-label å±æ€§ï¼Œé‚£ä¹ˆæœ€ç»ˆæ˜¾ç¤ºåº”è¯¥æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å¦å¤–ï¼Œè¯·ä¸è¦è¦†ç›– HTML æ ‡ç­¾æœ¬èº«çš„å±æ€§ï¼Œæ¯”å¦‚ <code>&lt;button /&gt;</code> å…ƒç´ çš„ type å±æ€§ï¼Œå¯ä»¥æ˜¯ submitï¼ˆé»˜è®¤ï¼‰button æˆ–è€… resetï¼Œç„¶è€Œè®¸å¤šå¼€å‘è€…éƒ½å°†å®ƒé‡æ–°å®šä¹‰ä¸ºå…¶ä»–çš„å«ä¹‰çš„propsï¼ˆprimary warning info ç­‰ï¼‰ï¼Œè¿™æ ·å°±ä»¤ä½¿ç”¨è€…æ¯”è¾ƒè¿·æƒ‘ã€‚</p><h4 id="ç¼–å†™-prop-types"><a href="#ç¼–å†™-prop-types" class="headerlink" title="ç¼–å†™ prop types"></a>ç¼–å†™ prop types</h4><p>ä»£ç æ—¢æ–‡æ¡£ï¼Œç°åœ¨å·²ç»æœ‰ <code>prop-types</code> åŒ…å¯ç”¨ï¼Œå»ä½¿ç”¨å®ƒã€‚</p><p>å¦‚æœæ²¡æœ‰ä¼ é€’ä¸€äº›å¿…é¡»çš„ propsï¼Œæ§åˆ¶å°ä¼šæŠ¥é”™ï¼Œå¦‚æœç”¨çš„æ˜¯ TypeScript æˆ–è€… Flowï¼Œé‚£å¼€å‘ä½“éªŒå°±æ›´å¥½äº†ã€‚</p><h4 id="ä¸ºå¼€å‘è€…è®¾è®¡"><a href="#ä¸ºå¼€å‘è€…è®¾è®¡" class="headerlink" title="ä¸ºå¼€å‘è€…è®¾è®¡"></a>ä¸ºå¼€å‘è€…è®¾è®¡</h4><p>æœ€åï¼Œéµå¾ªæœ€é‡è¦çš„è§„åˆ™ã€‚ç¡®ä¿æ‚¨çš„ API å’Œ â€œç»„ä»¶ä½“éªŒâ€ é’ˆå¯¹å°†ä½¿ç”¨å®ƒçš„äººå‘˜æˆ–æ˜¯å¼€å‘åŒäº‹è¿›è¡Œäº†ä¼˜åŒ–ã€‚</p><p>æå‡å¼€å‘ä½“éªŒçš„ä¸€ä¸ªæ–¹æ³•å°±æ˜¯æä¾›è¯¦ç»†çš„æŠ¥é”™ä¿¡æ¯ï¼Œæˆ–è€…æ˜¯åœ¨å¼€å‘æ¨¡å¼ä¸‹åœ¨æ§åˆ¶å°å‘å‡ºè­¦å‘Šã€‚</p><p>åœ¨æ§åˆ¶å°æŠ¥é”™æˆ–è€…æŠ¥è­¦çš„æ—¶å€™ï¼Œå¦‚æœå¼€å‘äººå‘˜ä¹Ÿçœ‹åˆ°äº†å¯¹åº”é”™è¯¯æˆ–è€…è­¦å‘Šçš„æ–‡æ¡£é“¾æ¥ï¼Œä¼šå¤§å¤§æå‡ç»„ä»¶çš„ä½¿ç”¨ä½“éªŒã€‚</p><p>ä¸å¿…æ‹…å¿ƒè¿‡äºå†—é•¿çš„é”™è¯¯ä¿¡æ¯ä¼šå ç”¨å¤ªå¤§ç©ºé—´ï¼Œå†µä¸”æ„å»ºç”Ÿäº§ç¯å¢ƒçš„æ—¶å€™ä¹Ÿä¸ä¼šæŠŠè¿™äº›ä¿¡æ¯æ‰“åŒ…è¿›å»ã€‚</p><p>React æœ¬èº«å°±æ˜¯ä¸€ä¸ªéå¸¸ä¼˜ç§€çš„ç±»åº“ï¼Œå½“ä½ å¿˜è®°ä½¿ç”¨ key æˆ–è€…æ‹¼é”™äº†ç”Ÿå‘½å‘¨æœŸçš„åå­—ç­‰ç­‰ï¼Œéƒ½ä¼šåœ¨æ§åˆ¶å°æ”¶åˆ°å¤§é‡è¯¦ç»†çš„é”™è¯¯è­¦å‘Šä¿¡æ¯ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;/images/the-10-component-commandments/1.jpg&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;
&lt;p&gt;å†™ä¸€ä¸ªå…¬ç”¨çš„ç»„ä»¶å¾ˆéš¾ï¼Œä½ å¿…é¡»ç»†å¿ƒåœ°è€ƒè™‘å¾ˆå¤šé—®é¢˜ï¼Œæ¯”å¦‚åº”è¯¥æš´éœ²å‡ºå“ªäº› &lt;code&gt;props&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡å°†
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•ä½¿ç”¨ traefik ä½œä¸º docker å®¹å™¨çš„åå‘ä»£ç†</title>
    <link href="https://catwen.cn/2019/05/25/how-to-use-traefik-as-a-reverse-proxy-for-docker-containers-on-centos-7/"/>
    <id>https://catwen.cn/2019/05/25/how-to-use-traefik-as-a-reverse-proxy-for-docker-containers-on-centos-7/</id>
    <published>2019-05-25T17:19:00.000Z</published>
    <updated>2021-12-18T15:50:15.704Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åŸæ–‡åœ°å€ï¼š<a href="https://www.digitalocean.com/community/tutorials/how-to-use-traefik-as-a-reverse-proxy-for-docker-containers-on-centos-7" target="_blank" rel="noopener">How To Use Traefik as a Reverse Proxy for Docker Containers on CentOS 7</a><br>è¯‘æ–‡å‡ºè‡ªï¼š<a href="/2019/05/25/how-to-use-traefik-as-a-reverse-proxy-for-docker-containers-on-centos-7/" title="å¤œè‰²é•‡æ­Œçš„ä¸ªäººåšå®¢">å¤œè‰²é•‡æ­Œçš„ä¸ªäººåšå®¢</a></p></blockquote><p><img src="/images/how-to-use-traefik-as-a-reverse-proxy-for-docker-containers-on-centos-7/4.png" alt="img"></p><h1 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h1><p>Docker å·²ç»éå¸¸çš„æµè¡Œï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­è·‘åº”ç”¨ç¨‹åºéå¸¸ä¾¿æ·å’Œé«˜æ•ˆï¼Œå½“æˆ‘ä»¬åœ¨ä¸€å°æœºå™¨ä¸Šè·‘å¾ˆå¤šå®¹å™¨çš„æ—¶å€™ï¼Œå°±è¦é…ç½®ä¸€ä¸ªåå‘ä»£ç†ï¼Œå› ä¸ºé€šå¸¸æˆ‘ä»¬åªæƒ³æŠŠ <code>80</code> å’Œ <code>443</code> ç«¯å£æš´éœ²å‡ºå»ã€‚</p><p>Traefik æ˜¯ä¸€ä¸ªå¯ä»¥æ„ŸçŸ¥ Docker å®¹å™¨å¹¶ä¸”å†…ç½®ç›‘æ§é¢æ¿çš„åå‘ä»£ç†ï¼Œæœ¬æ–‡ä¸­ï¼Œä½ å°†ä¼šä½¿ç”¨ Traefik åå‘ä»£ç†ä¸¤ä¸ªéƒ½å’Œ <code>MySQL</code> é€šè®¯çš„å®¹å™¨ï¼š<code>Wordpress</code> å’Œ <code>Adminer</code>ï¼Œå¹¶ä¸”ä½¿ç”¨ <code>Let&#39;s Encrypt</code> é…ç½® Traefik çš„ <code>HTTPS</code></p><p>Traefik å¾ˆå¼ºå¤§ï¼Œå®ƒçš„ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p><p><img src="/images/how-to-use-traefik-as-a-reverse-proxy-for-docker-containers-on-centos-7/3.png" alt="img"></p><h1 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h1><ul><li>ä¸€å° <code>CentOS 7</code> æœåŠ¡å™¨</li><li>å®‰è£…äº† <code>Docker</code></li><li>å®‰è£…äº† <code>Docker Compose</code></li><li>ä¸€ä¸ªåŸŸåå’Œä¸‰æ¡åŸŸåè§£æ <code>A è®°å½•</code></li></ul><h1 id="ç¬¬ä¸€æ­¥ï¼šé…ç½®å¹¶ä¸”å¯åŠ¨-Traefik"><a href="#ç¬¬ä¸€æ­¥ï¼šé…ç½®å¹¶ä¸”å¯åŠ¨-Traefik" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šé…ç½®å¹¶ä¸”å¯åŠ¨ Traefik"></a>ç¬¬ä¸€æ­¥ï¼šé…ç½®å¹¶ä¸”å¯åŠ¨ Traefik</h1><p>æˆ‘ä»¬ä½¿ç”¨ Traefik çš„ <a href="https://hub.docker.com/_/traefik" target="_blank" rel="noopener">å®˜æ–¹é•œåƒ</a> æ¥å¯åŠ¨ã€‚</p><p>è¿è¡Œä¹‹å‰éœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶å¹¶ä¸”é…ç½®å¯†ç æ¥è®¿é—® Traefik çš„ç›‘æ§é¢æ¿ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨ <code>htpasswd</code> å·¥å…·æ¥ç”Ÿæˆå¯†ç ï¼Œ<code>htpasswd</code> åœ¨ <code>httpd-tools</code> åŒ…ä¸­ï¼Œå®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install -y httpd-tools</span><br></pre></td></tr></table></figure><p>ä¹‹åä½¿ç”¨ <code>htpasswd</code> æ¥ç”Ÿæˆå¯†ç ï¼Œ<code>secure_password</code> æ˜¯ç”¨æ¥è®¿é—® Traefik çš„ç®¡ç†å‘˜ç”¨æˆ· <code>admin</code> çš„å¯†ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">htpasswd -nb admin secure_password</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">admin:<span class="variable">$apr1</span><span class="variable">$kEG</span>/8JKj<span class="variable">$yEXj8vKO7HDvkUMI</span>/SbOO.</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¼šæŠŠè¿™ä¸ªç”¨ä½œ Traefik çš„ <code>HTTP Basic</code> éªŒè¯ã€‚</p><p>ä¹‹åå¼€å§‹é…ç½® Traefikï¼Œå…ˆåˆ›å»ºä¸€ä¸ª <code>traefik.toml</code> æ–‡ä»¶ï¼Œä½¿ç”¨ <code>TOML</code> æ ¼å¼ï¼Œ<a href="https://github.com/toml-lang/toml" target="_blank" rel="noopener">TOML</a> æ˜¯ä¸€ä¸ªç±»ä¼¼ <code>INI</code> çš„é…ç½®è¯­è¨€ï¼Œæˆ‘ä»¬ç”¨è¿™ä¸ªæ–‡ä»¶æ¥é…ç½® Traefik ä»¥åŠæˆ‘ä»¬å°†ä½¿ç”¨çš„å„ç§ä¸ä¹‹é›†æˆçš„åº”ç”¨ç¨‹åºï¼Œæœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä¼šç”¨åˆ°ä¸‰ä¸ª Traefik å¯ç”¨çš„ Providerï¼š<code>api</code>  <code>docker</code> å’Œ <code>acme</code></p><p>ä½¿ç”¨ <code>vi</code> æˆ–è€…å…¶ä»–ç¼–è¾‘å™¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi traefik.toml</span><br></pre></td></tr></table></figure><p>æŒ‰iè¿›å…¥æ’å…¥æ¨¡å¼ï¼Œç„¶åæ·»åŠ ä¸¤ä¸ªå‘½åçš„ <code>entryPoint</code>ï¼Œ<code>http</code> å’Œ <code>https</code>ï¼Œé»˜è®¤æƒ…å†µä¸‹æ‰€æœ‰åç«¯éƒ½å¯ä»¥è®¿é—®ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">defaultEntryPoints = [&quot;http&quot;, &quot;https&quot;]</span><br></pre></td></tr></table></figure><p>ç¨åæ¥é…ç½® <code>http</code> å’Œ <code>https</code> çš„ <code>entryPoint</code>ã€‚</p><p>ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬é…ç½® <code>api Provider</code>ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬è®¿é—®ç›‘æ§é¢æ¿ï¼Œè¿™ä¸ªåœ°æ–¹æŠŠä¸Šé¢ <code>htpasswd</code> ç”Ÿæˆçš„å¯†ç æ‹·è¿‡æ¥ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">[entryPoints]</span><br><span class="line">  [entryPoints.dashboard]</span><br><span class="line">    address = &quot;:8080&quot;</span><br><span class="line">    [entryPoints.dashboard.auth]</span><br><span class="line">      [entryPoints.dashboard.auth.basic]</span><br><span class="line">        users = [&quot;admin:your_encrypted_password&quot;]</span><br><span class="line"></span><br><span class="line">[api]</span><br><span class="line">entrypoint=&quot;dashboard&quot;</span><br></pre></td></tr></table></figure><p><code>dashboard</code> æ˜¯åœ¨ Traefik å®¹å™¨é‡Œå•ç‹¬è¿è¡Œçš„ web uiï¼Œç«¯å£æ˜¯ <code>8080</code></p><ul><li><code>entrypoints.dashboard</code> èŠ‚ç‚¹æ˜¯å‘Šè¯‰ Traefik æˆ‘ä»¬å¦‚ä½•ä¸ <code>api</code> é€šè®¯</li><li><code>entrypoints.dashboard.auth.basic</code> èŠ‚ç‚¹æ˜¯ä¸º <code>dashboard</code> é…ç½® <code>HTTP Basic</code> éªŒè¯</li></ul><p>å·²ç»é…ç½®å¥½äº† dashboard çš„ entryPointï¼Œè¿˜éœ€è¦é…ç½®å…¶ä»–æ ‡å‡†çš„ <code>HTTP</code> å’Œ <code>HTTPS</code> è¿æ¥çš„ entryPointã€‚</p><p><code>entryPoints</code> èŠ‚ç‚¹é…ç½®çš„æ˜¯ Traefik å¯ä»¥ç›‘å¬æˆ–è€…ä»£ç†çš„åœ°å€ï¼ŒæŠŠä¸‹é¢è¿™éƒ¨åˆ†æ·»åŠ è¿›å»ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">  [entryPoints.http]</span><br><span class="line">    address = &quot;:80&quot;</span><br><span class="line">      [entryPoints.http.redirect]</span><br><span class="line">        entryPoint = &quot;https&quot;</span><br><span class="line">  [entryPoints.https]</span><br><span class="line">    address = &quot;:443&quot;</span><br><span class="line">      [entryPoints.https.tls]</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p><code>HTTP</code> çš„é»˜è®¤ç«¯å£æ˜¯ 80ï¼Œ<code>HTTPS</code> çš„é»˜è®¤ç«¯å£æ˜¯ 443ï¼Œä¸Šé¢é…ç½®çš„æ„æ€æ˜¯å°† HTTP è¯·æ±‚é‡å®šå‘åˆ° HTTPSä¸­ã€‚</p><p>ä¸‹ä¸€æ­¥ï¼Œé…ç½® <code>Let&#39;s Encrypt</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">[acme]</span><br><span class="line">email = &quot;your_email@your_domain&quot;</span><br><span class="line">storage = &quot;acme.json&quot;</span><br><span class="line">entryPoint = &quot;https&quot;</span><br><span class="line">onHostRule = true</span><br><span class="line">  [acme.httpChallenge]</span><br><span class="line">  entryPoint = &quot;http&quot;</span><br></pre></td></tr></table></figure><p>æ­¤éƒ¨åˆ†ç§°ä¸º <code>acme</code>ï¼ŒACME æ˜¯ç”¨äºä¸ <code>Let&#39;s Encrypt</code> é€šä¿¡å¹¶ä¸”ç®¡ç†è¯ä¹¦çš„åè®®åç§°ã€‚ Letâ€™s Encrypt æœåŠ¡éœ€è¦ä½¿ç”¨æœ‰æ•ˆçš„ç”µå­é‚®ä»¶åœ°å€è¿›è¡Œæ³¨å†Œã€‚ç„¶åï¼Œæˆ‘ä»¬æŒ‡å®šå°†æŠŠæˆ‘ä»¬å°†ä» Letâ€™s Encrypt æ¥æ”¶çš„ä¿¡æ¯å­˜å‚¨åœ¨åä¸º <code>acme.json</code> çš„JSONæ–‡ä»¶ä¸­ã€‚ </p><ul><li><p><code>entryPoint</code> æ˜¯éœ€è¦æŒ‡è¦å¤„ç†çš„å…¥å£ç‚¹ç±»å‹ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯ httpsã€‚</p></li><li><p><code>onHostRule</code> æ˜¯è®© <code>Traefik</code> å†³å®šå¦‚ä½•ç”Ÿæˆè¯ä¹¦ï¼Œ<code>true</code> è¡¨ç¤ºå½“è®¾ç½®äº† <code>HostName</code> çš„å®¹å™¨ä¸€ç»åˆ›å»ºå°±ç”Ÿæˆã€‚</p></li></ul><p>æœ€åï¼ŒæŠŠä¸‹é¢çš„æ·»åŠ è¿›å»æ¥é…ç½® <code>Docker Provider</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">[docker]</span><br><span class="line">domain = &quot;your_domain&quot;</span><br><span class="line">watch = true</span><br><span class="line">network = &quot;web&quot;</span><br></pre></td></tr></table></figure><p><code>Docker Provider</code> å¯ä»¥è®© Traefik å……å½“ Docker å®¹å™¨å‰çš„åå‘ä»£ç†è§’è‰²ï¼Œä¸Šé¢é…ç½®çš„æ„æ€æ˜¯ç›‘å¬ <code>network</code> ä¸º <code>web</code> çš„å®¹å™¨</p><p>åˆ°æ­¤ä¸ºæ­¢ï¼Œ<code>traefik.toml</code> åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">defaultEntryPoints = [&quot;http&quot;, &quot;https&quot;]</span><br><span class="line"></span><br><span class="line">[entryPoints]</span><br><span class="line">  [entryPoints.dashboard]</span><br><span class="line">    address = &quot;:8080&quot;</span><br><span class="line">    [entryPoints.dashboard.auth]</span><br><span class="line">      [entryPoints.dashboard.auth.basic]</span><br><span class="line">        users = [&quot;admin:your_encrypted_password&quot;]</span><br><span class="line">  [entryPoints.http]</span><br><span class="line">    address = &quot;:80&quot;</span><br><span class="line">      [entryPoints.http.redirect]</span><br><span class="line">        entryPoint = &quot;https&quot;</span><br><span class="line">  [entryPoints.https]</span><br><span class="line">    address = &quot;:443&quot;</span><br><span class="line">      [entryPoints.https.tls]</span><br><span class="line"></span><br><span class="line">[api]</span><br><span class="line">entrypoint=&quot;dashboard&quot;</span><br><span class="line"></span><br><span class="line">[acme]</span><br><span class="line">email = &quot;your_email@your_domain&quot;</span><br><span class="line">storage = &quot;acme.json&quot;</span><br><span class="line">entryPoint = &quot;https&quot;</span><br><span class="line">onHostRule = true</span><br><span class="line">  [acme.httpChallenge]</span><br><span class="line">  entryPoint = &quot;http&quot;</span><br><span class="line"></span><br><span class="line">[docker]</span><br><span class="line">domain = &quot;your_domain&quot;</span><br><span class="line">watch = true</span><br><span class="line">network = &quot;web&quot;</span><br></pre></td></tr></table></figure><h1 id="ç¬¬äºŒæ­¥ï¼šå¯åŠ¨-Traefik-å®¹å™¨"><a href="#ç¬¬äºŒæ­¥ï¼šå¯åŠ¨-Traefik-å®¹å™¨" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šå¯åŠ¨ Traefik å®¹å™¨"></a>ç¬¬äºŒæ­¥ï¼šå¯åŠ¨ Traefik å®¹å™¨</h1><p>é¦–å…ˆï¼Œä¸º Docker åˆ›å»ºä¸€ä¸ª network: <code>web</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker network create web</span><br></pre></td></tr></table></figure><p>å½“ Traefik å®¹å™¨å¯åŠ¨æ—¶ï¼Œæˆ‘ä»¬ä¼šå°†å…¶æ·»åŠ åˆ°æ­¤ç½‘ç»œä¸­ã€‚ç¨ååœ¨æ­¤ç½‘ç»œä¸­æ·»åŠ å…¶ä»–å®¹å™¨ï¼Œä»¥ä¾¿ Traefik ç›‘å¬å’Œä»£ç†ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œåˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶ï¼Œå®ƒå°†ä¿å­˜æˆ‘ä»¬çš„ Letâ€™s Encrypt çš„åŠ å¯†ä¿¡æ¯ï¼Œå¹¶è®¾ç½®æƒé™ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch acme.json</span><br><span class="line">chmod 600 acme.json</span><br></pre></td></tr></table></figure><p>å¯åŠ¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">docker run -d \</span><br><span class="line">  -v /var/run/docker.sock:/var/run/docker.sock \</span><br><span class="line">  -v <span class="variable">$PWD</span>/traefik.toml:/traefik.toml \</span><br><span class="line">  -v <span class="variable">$PWD</span>/acme.json:/acme.json \</span><br><span class="line">  -p 80:80 \</span><br><span class="line">  -p 443:443 \</span><br><span class="line">  -l traefik.frontend.rule=Host:monitor.your_domain \</span><br><span class="line">  -l traefik.port=8080 \</span><br><span class="line">  --network web \</span><br><span class="line">  --name traefik \</span><br><span class="line">  traefik:1.7.6-alpine</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ä¸¤ä¸ªæ ‡ç­¾å‘Šè¯‰ Traefik å°† monitor.your_domain çš„æµé‡å¯¼å…¥åˆ°å®¹å™¨çš„ 8080 ç«¯å£ï¼Œä¹Ÿå°±æ˜¯ç›‘æ§ä»ªè¡¨ç›˜æš´éœ²çš„ç«¯å£å·ã€‚</p><p>å®¹å™¨å¯åŠ¨æˆåŠŸåï¼Œè®¿é—® <a href="https://monitor.your_domain" target="_blank" rel="noopener">https://monitor.your_domain</a> æ¥æŸ¥çœ‹æ§åˆ¶å°ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚</p><p><img src="/images/how-to-use-traefik-as-a-reverse-proxy-for-docker-containers-on-centos-7/1.png" alt="img"></p><h1 id="ç¬¬ä¸‰æ­¥ï¼šåœ¨-Traefik-ä¸­æ³¨å†Œå®¹å™¨"><a href="#ç¬¬ä¸‰æ­¥ï¼šåœ¨-Traefik-ä¸­æ³¨å†Œå®¹å™¨" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šåœ¨ Traefik ä¸­æ³¨å†Œå®¹å™¨"></a>ç¬¬ä¸‰æ­¥ï¼šåœ¨ Traefik ä¸­æ³¨å†Œå®¹å™¨</h1><p>è¿è¡Œ Traefik å®¹å™¨æˆåŠŸåï¼Œæ¥è·‘æˆ‘ä»¬è‡ªå·±çš„å®¹å™¨ï¼š</p><ul><li><a href="https://hub.docker.com/_/wordpress/" target="_blank" rel="noopener">wordpress</a></li><li><a href="https://hub.docker.com/_/adminer/" target="_blank" rel="noopener">adminer</a></li></ul><p>ä½¿ç”¨ <code>docker-compose</code>:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">version: &quot;3&quot;</span><br><span class="line"></span><br><span class="line">networks:</span><br><span class="line">  web:</span><br><span class="line">    external: true</span><br><span class="line">  internal:</span><br><span class="line">    external: false</span><br></pre></td></tr></table></figure><p>ä¸ºäº†è®© Traefik èƒ½å‘ç°ä»–ä»¬ï¼Œä»–ä»¬å¿…é¡»åœ¨ä¸€ä¸ªç½‘ç»œç¯å¢ƒä¸­ï¼Œå› æ­¤æˆ‘ä»¬æ‰‹åŠ¨åˆ›å»ºäº† <code>docker network</code> ï¼Œä¸‹é¢å¼€å§‹å®šä¹‰ <code>services</code>:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">version: &quot;3&quot;</span><br><span class="line"></span><br><span class="line">networks:</span><br><span class="line">  web:</span><br><span class="line">    external: true</span><br><span class="line">  internal:</span><br><span class="line">    external: false</span><br><span class="line"></span><br><span class="line">services:</span><br><span class="line">  blog:</span><br><span class="line">    image: wordpress:4.9.8-apache</span><br><span class="line">    environment:</span><br><span class="line">      WORDPRESS_DB_PASSWORD:</span><br><span class="line">    labels:</span><br><span class="line">      - traefik.backend=blog</span><br><span class="line">      - traefik.frontend.rule=Host:blog.your_domain</span><br><span class="line">      - traefik.docker.network=web</span><br><span class="line">      - traefik.port=80</span><br><span class="line">    networks:</span><br><span class="line">      - internal</span><br><span class="line">      - web</span><br><span class="line">    depends_on:</span><br><span class="line">      - mysql</span><br><span class="line">  mysql:</span><br><span class="line">    image: mysql:5.7</span><br><span class="line">    environment:</span><br><span class="line">      MYSQL_ROOT_PASSWORD:</span><br><span class="line">    networks:</span><br><span class="line">      - internal</span><br><span class="line">    labels:</span><br><span class="line">      - traefik.enable=false</span><br><span class="line">  adminer:</span><br><span class="line">    image: adminer:4.6.3-standalone</span><br><span class="line">    labels:</span><br><span class="line">      - traefik.backend=adminer</span><br><span class="line">      - traefik.frontend.rule=Host:db-admin.your_domain</span><br><span class="line">      - traefik.docker.network=web</span><br><span class="line">      - traefik.port=8080</span><br><span class="line">    networks:</span><br><span class="line">      - internal</span><br><span class="line">      - web</span><br><span class="line">    depends_on:</span><br><span class="line">      - mysql</span><br></pre></td></tr></table></figure><p>è®© traefik ç›‘å¬å’Œåå‘ä»£ç†çš„å…³é”®é…ç½®å°±æ˜¯ <code>traefik.backend</code> <code>traefik.frontend.rule</code> å’Œ <code>traefik.port</code></p><p>å¯åŠ¨ä¹‹å‰è®¾ç½®å¥½ç¯å¢ƒå˜é‡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> WORDPRESS_DB_PASSWORD=secure_database_password</span><br><span class="line"><span class="built_in">export</span> MYSQL_ROOT_PASSWORD=secure_database_password</span><br></pre></td></tr></table></figure><p>æ„‰å¿«çš„å¯åŠ¨å§ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure><p>å†å›åˆ°æ§åˆ¶å°ï¼š</p><p><img src="/images/how-to-use-traefik-as-a-reverse-proxy-for-docker-containers-on-centos-7/2.png" alt="img"></p><p>è®¿é—®é…ç½®çš„åŸŸå: <code>db-admin.your_domain</code> <code>blog.your_domain</code> å·²ç»è·‘èµ·æ¥äº†ï¼Œä¸è¦å¿˜äº†åœ¨åŸŸåæ§åˆ¶å°é…ç½®åŸŸåè§£æ</p><p>å®Œäº‹ï¼Œå†ä¹Ÿä¸ç”¨æ¯æ¬¡éƒ½å»ä¿®æ”¹ <code>nginx/caddy</code> çš„ <code>conf</code> äº†</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;åŸæ–‡åœ°å€ï¼š&lt;a href=&quot;https://www.digitalocean.com/community/tutorials/how-to-use-traefik-as-a-reverse-proxy-for-docker-containers-o
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•é¿å… await/async åœ°ç‹±</title>
    <link href="https://catwen.cn/2018/05/10/how-to-escape-async-await-hell/"/>
    <id>https://catwen.cn/2018/05/10/how-to-escape-async-await-hell/</id>
    <published>2018-05-10T08:33:38.000Z</published>
    <updated>2021-12-18T15:50:15.704Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/how-to-escape-async-await-hell/1.png" alt="img"></p><blockquote><p>åŸæ–‡åœ°å€ï¼š<a href="https://medium.freecodecamp.org/avoiding-the-async-await-hell-c77a0fb71c4c" target="_blank" rel="noopener">How to escape async/await hell</a><br>è¯‘æ–‡å‡ºè‡ªï¼š<a href="/2018/05/10/how-to-escape-async-await-hell/" title="å¤œè‰²é•‡æ­Œçš„ä¸ªäººåšå®¢">å¤œè‰²é•‡æ­Œçš„ä¸ªäººåšå®¢</a></p></blockquote><p>async/await æŠŠæˆ‘ä»¬ä»å›è°ƒåœ°ç‹±ä¸­è§£æ•‘äº†å‡ºæ¥ï¼Œä½†æ˜¯å¦‚æœæ»¥ç”¨å°±ä¼šæ‰è¿› async/await åœ°ç‹±ã€‚</p><p>æœ¬æ–‡ä¸­æˆ‘ä¼šè§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯ async/await åœ°ç‹±ï¼Œå¹¶ä¼šåˆ†äº«å‡ ä¸ªæŠ€å·§å»é¿å…ã€‚</p><h2 id="å•¥æ˜¯-await-async-åœ°ç‹±"><a href="#å•¥æ˜¯-await-async-åœ°ç‹±" class="headerlink" title="å•¥æ˜¯ await/async åœ°ç‹±"></a>å•¥æ˜¯ await/async åœ°ç‹±</h2><p>å¼‚æ­¥ Javascript ç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå†™è®¸å¤š async æ–¹æ³•ï¼Œå¹¶ä¸”ä½¿ç”¨ <code>await</code> å…³é”®å­—å»ç­‰å¾…å®ƒï¼Œæœ‰å¾ˆå¤šæ—¶å€™ä¸‹ä¸€è¡Œçš„æ‰§è¡Œå¹¶ä¸ä¾èµ–äºä¸Šä¸€è¡Œï¼Œä½†æ˜¯æˆ‘ä»¬ä»ç„¶ä½¿ç”¨äº† <code>await</code> å»ç­‰å¾…ï¼Œæ‰€ä»¥å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›æ€§èƒ½é—®é¢˜ã€‚</p><h2 id="ä¸€ä¸ª-await-async-åœ°ç‹±çš„ä¾‹å­"><a href="#ä¸€ä¸ª-await-async-åœ°ç‹±çš„ä¾‹å­" class="headerlink" title="ä¸€ä¸ª await/async åœ°ç‹±çš„ä¾‹å­"></a>ä¸€ä¸ª await/async åœ°ç‹±çš„ä¾‹å­</h2><p>å¦‚ä½•ç¼–å†™ä¸€ä¸ªè®¢è´­æŠ«è¨å’Œé¥®æ–™çš„ä»£ç ï¼Ÿå®ƒå¯èƒ½ä¼šåƒè¿™æ ·ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> pizzaData = <span class="keyword">await</span> getPizzaData()    <span class="comment">// async call</span></span><br><span class="line">  <span class="keyword">const</span> drinkData = <span class="keyword">await</span> getDrinkData()    <span class="comment">// async call</span></span><br><span class="line">  <span class="keyword">const</span> chosenPizza = choosePizza()    <span class="comment">// sync call</span></span><br><span class="line">  <span class="keyword">const</span> chosenDrink = chooseDrink()    <span class="comment">// sync call</span></span><br><span class="line">  <span class="keyword">await</span> addPizzaToCart(chosenPizza)    <span class="comment">// async call</span></span><br><span class="line">  <span class="keyword">await</span> addDrinkToCart(chosenDrink)    <span class="comment">// async call</span></span><br><span class="line">  orderItems()    <span class="comment">// async call</span></span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure><p>çœ‹èµ·æ¥æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä¹Ÿèƒ½æ­£å¸¸å·¥ä½œï¼Œä½†è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½çš„å®ç°ã€‚å…ˆæ¥çœ‹ä¸‹è¿™æ®µä»£ç éƒ½åšäº†ä»€ä¹ˆï¼Œä»¥ä¾¿å®šä½é—®é¢˜ã€‚</p><h2 id="è§£é‡Šä¸‹"><a href="#è§£é‡Šä¸‹" class="headerlink" title="è§£é‡Šä¸‹"></a>è§£é‡Šä¸‹</h2><p>æˆ‘ä»¬æŠŠä»£ç ç”¨ <code>async IIFE</code> åŒ…è£¹äº†èµ·æ¥ï¼Œç„¶åä¸‹é¢è¿™äº›ä¼šä¾æ¬¡æ‰§è¡Œã€‚</p><ol><li>è·å–æŠ«è¨èœå•</li><li>è·å–é¥®æ–™èœå•</li><li>ä»æŠ«è¨èœå•ä¸­é€‰æ‹©æŠ«è¨</li><li>ä»é¥®æ–™èœå•ä¸­é€‰æ‹©é¥®æ–™</li><li>æŠŠé€‰å¥½çš„æŠ«è¨åŠ åˆ°è´­ç‰©è½¦</li><li>æŠŠé€‰å¥½çš„é¥®æ–™åŠ åˆ°è´­ç‰©è½¦</li><li>ä¸‹å•</li></ol><h2 id="å“ªé‡Œé”™äº†ï¼Ÿ"><a href="#å“ªé‡Œé”™äº†ï¼Ÿ" class="headerlink" title="å“ªé‡Œé”™äº†ï¼Ÿ"></a>å“ªé‡Œé”™äº†ï¼Ÿ</h2><p>æ­£å¦‚æˆ‘åˆšå¼ºè°ƒçš„ï¼Œè¿™äº›è¯­å¥ä¼š<strong>ä¾æ¬¡æ‰§è¡Œï¼Œæ²¡æœ‰å¹¶å‘</strong>ã€‚ä»”ç»†æƒ³ä¸€ä¸‹ï¼Œä¸ºå•¥æˆ‘è·å–é¥®æ–™èœå•ä¹‹å‰å¾—å…ˆè·å–æŠ«è¨èœå•ï¼Ÿè¿™ä¸¤ä»½èœå•æˆ‘åº”è¯¥åŒæ—¶å»è·å–ã€‚å½“ç„¶ï¼Œé€‰æ‹©æŠ«è¨ä¹‹å‰å¾—å…ˆè·å–æŠ«è¨èœå•ï¼Œè¿™ä¸ªè§„åˆ™åŒæ ·é€‚ç”¨äºé¥®æ–™ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼ŒæŠ«è¨ç›¸å…³çš„å·¥ä½œå’Œé¥®æ–™ç›¸å…³çš„å·¥ä½œå¯ä»¥å¹¶è¡Œè¿›è¡Œï¼Œä½†æ¶‰åŠæŠ«è¨ç›¸å…³å·¥ä½œçš„å„ä¸ªæ­¥éª¤éœ€è¦æŒ‰é¡ºåºè¿›è¡Œï¼ˆä¸€æ­¥æ¥ç€ä¸€æ­¥ï¼‰ã€‚</p><h2 id="å¦ä¸€ä¸ªç³Ÿç³•çš„ä¾‹å­"><a href="#å¦ä¸€ä¸ªç³Ÿç³•çš„ä¾‹å­" class="headerlink" title="å¦ä¸€ä¸ªç³Ÿç³•çš„ä¾‹å­"></a>å¦ä¸€ä¸ªç³Ÿç³•çš„ä¾‹å­</h2><p>è¿™æ®µä»£ç ä¼šè·å–è´­ç‰©è½¦ä¸­çš„è´­ç‰©é¡¹å¹¶ä¸”å‘å‡ºè®¢è´­è¯·æ±‚ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">orderItems</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> items = <span class="keyword">await</span> getCartItems()    <span class="comment">// async call</span></span><br><span class="line">  <span class="keyword">const</span> noOfItems = items.length</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; noOfItems; i++) &#123;</span><br><span class="line">    <span class="keyword">await</span> sendRequest(items[i])    <span class="comment">// async call</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¾‹å­ä¸­ for å¾ªç¯åœ¨ä¸‹ä¸€æ¬¡è¿­ä»£ä¹‹å‰å¿…é¡»ç­‰å¾…ä¸Šä¸€ä¸ª <code>sendRequest()</code> æ‰§è¡Œå®Œæ¯•ï¼Œå¯æˆ‘ä»¬æ ¹æœ¬ä¸éœ€è¦ç­‰å¾…ï¼Œåªæƒ³å°½å¿«çš„æŠŠè¯·æ±‚éƒ½å‘é€å‡ºå»ç„¶åç­‰å¾…ä»–ä»¬éƒ½å®Œæˆã€‚</p><p>æƒ³å¿…ç°åœ¨ä½ å·²ç»äº†è§£äº†ä»€ä¹ˆæ˜¯ async/await åœ°ç‹±ï¼Œä»¥åŠå®ƒå¯¹æ€§èƒ½çš„å½±å“æ˜¯å¤šä¹ˆçš„ä¸¥é‡ã€‚ç°åœ¨æˆ‘æƒ³é—®ä½ ä¸ªé—®é¢˜ã€‚</p><h2 id="å¦‚æœå¿˜è®°äº†-await-å…³é”®å­—å‘¢ï¼Ÿ"><a href="#å¦‚æœå¿˜è®°äº†-await-å…³é”®å­—å‘¢ï¼Ÿ" class="headerlink" title="å¦‚æœå¿˜è®°äº† await å…³é”®å­—å‘¢ï¼Ÿ"></a>å¦‚æœå¿˜è®°äº† await å…³é”®å­—å‘¢ï¼Ÿ</h2><p>å¦‚æœå¿˜è®°ä½¿ç”¨ awaitï¼Œasync å‡½æ•°ä¼šæ‰§è¡Œå¹¶ä¸”è¿”å›ä¸€ä¸ª Promiseï¼Œä½ å¯ä»¥ç¨åå†å»resolveã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> value = doSomeAsyncTask()</span><br><span class="line">  <span class="built_in">console</span>.log(value) <span class="comment">// an unresolved promise</span></span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure><p>å¦ä¸€ä¸ªåæœæ˜¯ç¼–è¯‘å™¨ä¸çŸ¥é“ä½ æƒ³æŠŠå‡½æ•°å®Œå…¨æ‰§è¡Œï¼Œæ‰€ä»¥ç¼–è¯‘å™¨ä¼šé€€å‡ºç¨‹åºè€Œä¸å®Œæˆå¼‚æ­¥å‡½æ•°ï¼Œæ‰€ä»¥è¿˜æ˜¯éœ€è¦ä½¿ç”¨ await å…³é”®å­—</p><p>promises ä¸€ä¸ªæœ‰è¶£çš„ç‰¹æ€§å°±æ˜¯ä½ å¯ä»¥åœ¨ä¸€è¡Œä»£ç ä¸­å»å¾—åˆ° Promise ï¼Œè€Œåœ¨å¦å¤–ä¸€è¡Œä¸­å»ç­‰å¾…å¹¶ resolveï¼Œè¿™æ˜¯é¿å… async/await åœ°ç‹±çš„å…³é”®ä¹‹å¤„ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> promise = doSomeAsyncTask()</span><br><span class="line">  <span class="keyword">const</span> value = <span class="keyword">await</span> promise</span><br><span class="line">  <span class="built_in">console</span>.log(value) <span class="comment">// the actual value</span></span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure><p>æ­£å¦‚ä½ çœ‹åˆ°çš„ï¼Œ<code>doSomeAsyncTask()</code> æ–¹æ³•è¿”å›ä¸€ä¸ª Promiseï¼Œè°ƒç”¨çš„æ—¶å€™å®ƒå·²ç»å¼€å§‹æ‰§è¡Œäº†ï¼Œä¸ºäº†å¾—åˆ°ä»–çš„è§£æå€¼ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† await å…³é”®å­—ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨ç­‰å¾…è§£æå®Œæ¯•å†æ‰§è¡Œä¸‹ä¸€è¡Œã€‚</p><h2 id="å¦‚ä½•é¿å…-async-await-åœ°ç‹±"><a href="#å¦‚ä½•é¿å…-async-await-åœ°ç‹±" class="headerlink" title="å¦‚ä½•é¿å… async/await åœ°ç‹±"></a>å¦‚ä½•é¿å… async/await åœ°ç‹±</h2><p>ä½ åº”è¯¥æŒ‰ç…§è¿™äº›æ­¥éª¤æ¥é¿å… async/await åœ°ç‹±ï¼š</p><h4 id="æ‰¾åˆ°è¯­å¥çš„ä¾èµ–å…³ç³»"><a href="#æ‰¾åˆ°è¯­å¥çš„ä¾èµ–å…³ç³»" class="headerlink" title="æ‰¾åˆ°è¯­å¥çš„ä¾èµ–å…³ç³»"></a>æ‰¾åˆ°è¯­å¥çš„ä¾èµ–å…³ç³»</h4><p>ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©äº†ä¸€ä¸ªæŠ«è¨å’Œä¸€æ¯é¥®æ–™ã€‚æ€»ç»“ä¸€ä¸‹ï¼Œé€‰æ‹©æŠ«è¨ä¹‹å‰å¾—å…ˆè·å–æŠ«è¨èœå•ï¼ŒåŠ åˆ°è´­ç‰©è½¦ä¹‹å‰å¾—å…ˆé€‰å¥½ï¼Œè¿™ä¸‰ä¸ªæ­¥éª¤éƒ½æ˜¯ç›¸äº’ä¾èµ–çš„ï¼Œå¿…é¡»ç­‰å¾…ä¸Šä¸€ä¸ªæ­¥éª¤å®Œæˆåæ‰èƒ½è¿›è¡Œä¸‹ä¸€æ­¥ã€‚</p><p>æˆ‘ä»¬é€‰æ‹©é¥®æ–™çš„æ—¶å€™å¹¶ä¸ä¾èµ–äºé€‰æ‹©æŠ«è¨ï¼Œæ‰€ä»¥é€‰æ‹©æŠ«è¨å’Œé¥®æ–™æ˜¯å¯ä»¥å¹¶è¡Œæ‰§è¡Œçš„ã€‚è¿™ä¹Ÿæ˜¯æœºå™¨èƒ½æ¯”æˆ‘ä»¬åšçš„æ›´å¥½çš„ä¸€ä»¶äº‹ã€‚</p><h4 id="å°è£…ç›¸äº’ä¾èµ–çš„å¼‚æ­¥æ–¹æ³•"><a href="#å°è£…ç›¸äº’ä¾èµ–çš„å¼‚æ­¥æ–¹æ³•" class="headerlink" title="å°è£…ç›¸äº’ä¾èµ–çš„å¼‚æ­¥æ–¹æ³•"></a>å°è£…ç›¸äº’ä¾èµ–çš„å¼‚æ­¥æ–¹æ³•</h4><p>æ­£å¦‚ä½ çœ‹åˆ°çš„ï¼Œé€‰æ‹©æŠ«è¨çš„ä¾èµ–æœ‰è·å–æŠ«è¨èœå•ã€é€‰æ‹©ã€æ·»åŠ åˆ°è´­ç‰©è½¦ã€‚æ‰€ä»¥æˆ‘ä»¬æŠŠè¿™äº›ä¾èµ–æ”¾åœ¨ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•é‡Œï¼Œé¥®æ–™åŒç†ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¼šæœ‰ <code>selectPizza()</code> å’Œ <code>selectDrink()</code> ä¸¤ä¸ªå¼‚æ­¥æ–¹æ³•ã€‚</p><h4 id="å¹¶è¡Œæ‰§è¡Œ"><a href="#å¹¶è¡Œæ‰§è¡Œ" class="headerlink" title="å¹¶è¡Œæ‰§è¡Œ"></a>å¹¶è¡Œæ‰§è¡Œ</h4><p>æˆ‘ä»¬åˆ©ç”¨äº‹ä»¶å¾ªç¯å»éé˜»å¡å¹¶è¡Œåœ°æ‰§è¡Œè¿™äº›å¼‚æ­¥æ–¹æ³•ï¼Œ<strong>é€šå¸¸ä¼šç”¨çš„ä¸¤ä¸ªæ–¹æ³•å°±æ˜¯å°½æ—©çš„è¿”å› <code>Promise</code> å’Œä½¿ç”¨ <code>Promise.all()</code></strong></p><p>æˆ‘ä»¬ä¿®å¤ä¸€ä¸‹ä»£ç ï¼ŒæŠŠè¿™ä¸‰ä¸ªæ–¹æ³•åº”ç”¨åˆ°æˆ‘ä»¬çš„ä¾‹å­ä¸­å»ã€‚</p><h2 id="ä¿®æ”¹ä¸‹ä»£ç "><a href="#ä¿®æ”¹ä¸‹ä»£ç " class="headerlink" title="ä¿®æ”¹ä¸‹ä»£ç "></a>ä¿®æ”¹ä¸‹ä»£ç </h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">selectPizza</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> pizzaData = <span class="keyword">await</span> getPizzaData()    <span class="comment">// async call</span></span><br><span class="line">  <span class="keyword">const</span> chosenPizza = choosePizza()    <span class="comment">// sync call</span></span><br><span class="line">  <span class="keyword">await</span> addPizzaToCart(chosenPizza)    <span class="comment">// async call</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">selectDrink</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> drinkData = <span class="keyword">await</span> getDrinkData()    <span class="comment">// async call</span></span><br><span class="line">  <span class="keyword">const</span> chosenDrink = chooseDrink()    <span class="comment">// sync call</span></span><br><span class="line">  <span class="keyword">await</span> addDrinkToCart(chosenDrink)    <span class="comment">// async call</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> pizzaPromise = selectPizza()</span><br><span class="line">  <span class="keyword">const</span> drinkPromise = selectDrink()</span><br><span class="line">  <span class="keyword">await</span> pizzaPromise</span><br><span class="line">  <span class="keyword">await</span> drinkPromise</span><br><span class="line">  orderItems()    <span class="comment">// async call</span></span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="comment">// Although I prefer it this way </span></span><br><span class="line"></span><br><span class="line">(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="built_in">Promise</span>.all([selectPizza(), selectDrink()]).then(orderItems)   <span class="comment">// async call</span></span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æŠŠç›¸äº’ä¾èµ–çš„è¯­å¥å°è£…åœ¨å„è‡ªçš„å‡½æ•°é‡Œï¼Œç°åœ¨åŒæ—¶å»æ‰§è¡Œ <code>selectPizza()</code> å’Œ <code>selectDrink()</code></p><p>ç¬¬äºŒä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¤„ç†æœªçŸ¥æ•°é‡çš„ <code>Promise</code> ã€‚å¤„ç†è¿™ç§æƒ…å†µå¾ˆç®€å•ï¼Œæˆ‘ä»¬å…ˆæŠŠ Promises æ”¾è¿›æ•°ç»„ï¼Œç„¶åä½¿ç”¨ <code>Promise.all()</code> è®©ä»–ä»¬å¹¶è¡Œæ‰§è¡Œï¼Œä¹‹åç­‰å¾…ä»–ä»¬å…¨éƒ½æ‰§è¡Œå®Œæ¯•ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">orderItems</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> items = <span class="keyword">await</span> getCartItems()    <span class="comment">// async call</span></span><br><span class="line">  <span class="keyword">const</span> noOfItems = items.length</span><br><span class="line">  <span class="keyword">const</span> promises = []</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; noOfItems; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> orderPromise = sendRequest(items[i])    <span class="comment">// async call</span></span><br><span class="line">    promises.push(orderPromise)    <span class="comment">// sync call</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">await</span> <span class="built_in">Promise</span>.all(promises)    <span class="comment">// async call</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Although I prefer it this way</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">orderItems</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> items = <span class="keyword">await</span> getCartItems()    <span class="comment">// async call</span></span><br><span class="line">  <span class="keyword">const</span> promises = items.map(<span class="function">(<span class="params">item</span>) =&gt;</span> sendRequest(item))</span><br><span class="line">  <span class="keyword">await</span> <span class="built_in">Promise</span>.all(promises)    <span class="comment">// async call</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¸Œæœ›æœ¬æ–‡å¯ä»¥å¼•å‘ä½ å¯¹ async/await ä½¿ç”¨çš„æ€è€ƒï¼Œä¹Ÿå¸Œæœ›èƒ½å¸®åŠ©ä½ æå‡ç¨‹åºçš„æ€§èƒ½ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;/images/how-to-escape-async-await-hell/1.png&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åŸæ–‡åœ°å€ï¼š&lt;a href=&quot;https://medium.freecodecamp.org/avoi
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ES6 çš„ 7 ä¸ªå°æŠ€å·§</title>
    <link href="https://catwen.cn/2018/02/01/7-hacks-for-es6-developers/"/>
    <id>https://catwen.cn/2018/02/01/7-hacks-for-es6-developers/</id>
    <published>2018-02-01T11:19:06.000Z</published>
    <updated>2021-12-18T15:50:15.704Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-äº¤æ¢å€¼"><a href="#1-äº¤æ¢å€¼" class="headerlink" title="1. äº¤æ¢å€¼"></a>1. äº¤æ¢å€¼</h2><p>ä½¿ç”¨æ•°ç»„çš„è§£æ„äº¤æ¢å€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">'world'</span>, b = <span class="string">'hello'</span></span><br><span class="line">[a, b] = [b, a]</span><br><span class="line"><span class="built_in">console</span>.log(a) <span class="comment">// -&gt; hello</span></span><br><span class="line"><span class="built_in">console</span>.log(b) <span class="comment">// -&gt; world</span></span><br><span class="line"><span class="comment">// Yes, it's magic</span></span><br></pre></td></tr></table></figure><h2 id="2-è§£æ„-promises-all"><a href="#2-è§£æ„-promises-all" class="headerlink" title="2. è§£æ„ promises.all"></a>2. è§£æ„ promises.all</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [user, account] = <span class="keyword">await</span> <span class="built_in">Promise</span>.all([</span><br><span class="line">  fetch(<span class="string">'/user'</span>),</span><br><span class="line">  fetch(<span class="string">'/account'</span>)</span><br><span class="line">])</span><br></pre></td></tr></table></figure><h2 id="3-è°ƒè¯•"><a href="#3-è°ƒè¯•" class="headerlink" title="3. è°ƒè¯•"></a>3. è°ƒè¯•</h2><p>æˆ‘ä»¬éƒ½å–œæ¬¢ç”¨ <code>console.log</code> è°ƒè¯•ï¼Œè¿™é‡Œæœ‰ä¸ªå°æŠ€å·§ï¼ˆæˆ‘è¿˜å¬è¯´è¿‡ <code>console.table</code>ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">5</span>, b = <span class="number">6</span>, c = <span class="number">7</span></span><br><span class="line"><span class="built_in">console</span>.log(&#123; a, b, c &#125;)</span><br><span class="line"><span class="comment">// outputs this nice object:</span></span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//    a: 5,</span></span><br><span class="line"><span class="comment">//    b: 6,</span></span><br><span class="line"><span class="comment">//    c: 7</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure><h2 id="4-å°è£…"><a href="#4-å°è£…" class="headerlink" title="4. å°è£…"></a>4. å°è£…</h2><p>è¿™ä¹ˆå†™å¯ä»¥æ˜¾å¾—ä»£ç æ›´åŠ ç´§å‡‘</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Find max value</span></span><br><span class="line"><span class="keyword">const</span> max = <span class="function">(<span class="params">arr</span>) =&gt;</span> <span class="built_in">Math</span>.max(...arr);</span><br><span class="line">max([<span class="number">123</span>, <span class="number">321</span>, <span class="number">32</span>]) <span class="comment">// outputs: 321</span></span><br><span class="line"><span class="comment">// Sum array</span></span><br><span class="line"><span class="keyword">const</span> sum = <span class="function">(<span class="params">arr</span>) =&gt;</span> arr.reduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> (a + b), <span class="number">0</span>)</span><br><span class="line">sum([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]) <span class="comment">// output: 10</span></span><br></pre></td></tr></table></figure><h2 id="5-åˆå¹¶æ•°ç»„"><a href="#5-åˆå¹¶æ•°ç»„" class="headerlink" title="5. åˆå¹¶æ•°ç»„"></a>5. åˆå¹¶æ•°ç»„</h2><p>å¯ä»¥ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦ä»£æ›¿ <code>concat</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> one = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line"><span class="keyword">const</span> two = [<span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>]</span><br><span class="line"><span class="keyword">const</span> three = [<span class="string">'g'</span>, <span class="string">'h'</span>, <span class="string">'i'</span>]</span><br><span class="line"><span class="comment">// Old way #1</span></span><br><span class="line"><span class="keyword">const</span> result = one.concat(two, three)</span><br><span class="line"><span class="comment">// Old way #2</span></span><br><span class="line"><span class="keyword">const</span> result = [].concat(one, two, three)</span><br><span class="line"><span class="comment">// New</span></span><br><span class="line"><span class="keyword">const</span> result = [...one, ...two, ...three]</span><br></pre></td></tr></table></figure><h2 id="6-æ‹·è´"><a href="#6-æ‹·è´" class="headerlink" title="6. æ‹·è´"></a>6. æ‹·è´</h2><p>è½»æ¾åœ°æ‹·è´å¯¹è±¡å’Œæ•°ç»„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; ...oldObj &#125;</span><br><span class="line"><span class="keyword">const</span> arr = [ ...oldArr ]</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šè¿™ç§æ–¹å¼æ˜¯æµ…æ‹·è´</p><h2 id="7-å‘½åå‚æ•°"><a href="#7-å‘½åå‚æ•°" class="headerlink" title="7. å‘½åå‚æ•°"></a>7. å‘½åå‚æ•°</h2><p>ä½¿å‡½æ•°å’Œè°ƒç”¨å‡½æ•°æ›´åŠ å¯è¯»</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getStuffNotBad = <span class="function">(<span class="params">id, force, verbose</span>) =&gt;</span> &#123;</span><br><span class="line">  ...do stuff</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> getStuffAwesome = <span class="function">(<span class="params">&#123; id, name, force, verbose &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">  ...do stuff</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Somewhere else in the codebase... WTF is true, true?</span></span><br><span class="line">getStuffNotBad(<span class="number">150</span>, <span class="literal">true</span>, <span class="literal">true</span>)</span><br><span class="line"><span class="comment">// Somewhere else in the codebase... I â¤ JS!!!</span></span><br><span class="line">getStuffAwesome(&#123; <span class="attr">id</span>: <span class="number">150</span>, <span class="attr">force</span>: <span class="literal">true</span>, <span class="attr">verbose</span>: <span class="literal">true</span> &#125;)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;1-äº¤æ¢å€¼&quot;&gt;&lt;a href=&quot;#1-äº¤æ¢å€¼&quot; class=&quot;headerlink&quot; title=&quot;1. äº¤æ¢å€¼&quot;&gt;&lt;/a&gt;1. äº¤æ¢å€¼&lt;/h2&gt;&lt;p&gt;ä½¿ç”¨æ•°ç»„çš„è§£æ„äº¤æ¢å€¼&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>åˆ›å»ºä¸€ä¸ªç¦»çº¿ä¼˜å…ˆï¼Œæ•°æ®é©±åŠ¨çš„æ¸è¿›å¼ Web åº”ç”¨ç¨‹åº</title>
    <link href="https://catwen.cn/2018/01/30/build-an-offline-first-data-driven-pwa/"/>
    <id>https://catwen.cn/2018/01/30/build-an-offline-first-data-driven-pwa/</id>
    <published>2018-01-30T14:11:11.000Z</published>
    <updated>2021-12-18T15:50:15.704Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/build-an-offline-first-data-driven-pwa/2.png" alt="img"></p><blockquote><p>åŸæ–‡åœ°å€ï¼š<a href="https://codelabs.developers.google.com/codelabs/workbox-indexeddb/index.html?index=..%2F..%2Findex#0" target="_blank" rel="noopener">Build an offline-first, data-driven PWA</a><br>è¯‘æ–‡å‡ºè‡ªï¼š<a href="/2018/01/30/build-an-offline-first-data-driven-pwa/" title="å¤œè‰²é•‡æ­Œçš„ä¸ªäººåšå®¢">å¤œè‰²é•‡æ­Œçš„ä¸ªäººåšå®¢</a></p></blockquote><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨ Workbox å’Œ IndexedDB åˆ›å»ºç¦»çº¿ä¼˜å…ˆã€æ•°æ®é©±åŠ¨çš„æ¸è¿›å¼Webåº”ç”¨ç¨‹åºï¼ˆPWAï¼‰ã€‚åœ¨ç¦»çº¿çš„æƒ…å†µä¸‹ä¹Ÿå¯ä»¥ä½¿ç”¨åå°åŒæ­¥åŠŸèƒ½å°†åº”ç”¨ç¨‹åºä¸æœåŠ¡å™¨åŒæ­¥ã€‚</p><h2 id="å°†ä¼šå­¦ä¹ åˆ°"><a href="#å°†ä¼šå­¦ä¹ åˆ°" class="headerlink" title="å°†ä¼šå­¦ä¹ åˆ°"></a>å°†ä¼šå­¦ä¹ åˆ°</h2><ul><li>å¦‚ä½•ä½¿ç”¨ Workbox ç¼“å­˜åº”ç”¨ç¨‹åº</li><li>å¦‚ä½•ä½¿ç”¨ IndexedDB å­˜å‚¨æ•°æ®</li><li>å¦‚ä½•åœ¨ç”¨æˆ·è„±æœºæ—¶ä» IndexedDB ä¸­æ£€ç´¢å’Œæ˜¾ç¤ºæ•°æ®</li><li>è„±æœºæ—¶å¦‚ä½•ä¿å­˜æ•°æ®</li><li>å¦‚ä½•åœ¨è„±æœºæ—¶ä½¿ç”¨åå°åŒæ­¥æ›´æ–°åº”ç”¨ç¨‹åº</li></ul><h2 id="åº”è¯¥äº†è§£çš„"><a href="#åº”è¯¥äº†è§£çš„" class="headerlink" title="åº”è¯¥äº†è§£çš„"></a>åº”è¯¥äº†è§£çš„</h2><ul><li>HTML, CSS, å’Œ JavaScript</li><li>ES2015 Promises</li><li>å¦‚ä½•ä½¿ç”¨å‘½ä»¤è¡Œ</li><li>ç†Ÿæ‚‰ä¸€ä¸‹ Workbox </li><li>ç†Ÿæ‚‰ä¸€ä¸‹ Gulp </li><li>ç†Ÿæ‚‰ä¸€ä¸‹ IndexedDB</li></ul><h2 id="éœ€å…·å¤‡çš„æ¡ä»¶"><a href="#éœ€å…·å¤‡çš„æ¡ä»¶" class="headerlink" title="éœ€å…·å¤‡çš„æ¡ä»¶"></a>éœ€å…·å¤‡çš„æ¡ä»¶</h2><ul><li>æ‹¥æœ‰ terminal/shell è®¿é—®æƒé™çš„ç”µè„‘</li><li>Chrome 52 æˆ–æ›´é«˜ç‰ˆæœ¬</li><li>ç¼–è¾‘å™¨</li><li>Nodejs å’Œ npm</li></ul><h1 id="è®¾ç½®"><a href="#è®¾ç½®" class="headerlink" title="è®¾ç½®"></a>è®¾ç½®</h1><p>å¦‚æœä½ æ²¡æœ‰å®‰è£… <a href="https://nodejs.org/en/" target="_blank" rel="noopener">Nodejs</a> éœ€è¦å®‰è£…ä¸€ä¸‹</p><p>ä¹‹åé€šè¿‡ä¸‹é¢çš„æ–¹å¼ clone å¿«é€Ÿå¯åŠ¨ä»“åº“</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/googlecodelabs/workbox-indexeddb.git</span><br></pre></td></tr></table></figure><p>æˆ–è€…ç›´æ¥ä¸‹è½½ <a href="https://github.com/googlecodelabs/workbox-indexeddb/archive/master.zip" target="_blank" rel="noopener">å‹ç¼©åŒ…</a></p><h1 id="å®‰è£…ä¾èµ–å¹¶å¯åŠ¨æœåŠ¡"><a href="#å®‰è£…ä¾èµ–å¹¶å¯åŠ¨æœåŠ¡" class="headerlink" title="å®‰è£…ä¾èµ–å¹¶å¯åŠ¨æœåŠ¡"></a>å®‰è£…ä¾èµ–å¹¶å¯åŠ¨æœåŠ¡</h1><p>åˆ°ä¸‹è½½å¥½çš„ git ä»“åº“ç›®å½•ä¸­ï¼Œè½¬åˆ° <code>project</code> æ–‡ä»¶å¤¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> workbox-indexeddb/project/</span><br></pre></td></tr></table></figure><p>ç„¶åå®‰è£…ä¾èµ–å¹¶å¯åŠ¨æœåŠ¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br><span class="line">npm start</span><br></pre></td></tr></table></figure><h4 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h4><p>è¿™ä¸ªæ­¥éª¤ä¸­ä¼šæ ¹æ® <code>package.json</code> å®šä¹‰çš„ä¾èµ–å¹¶å®‰è£…ï¼Œæ‰“å¼€ <code>package.json</code> æ–‡ä»¶æŸ¥çœ‹ï¼Œæœ‰å¾ˆå¤šä¾èµ–ï¼Œå¤§éƒ¨åˆ†æ˜¯å¼€å‘ç¯å¢ƒéœ€è¦çš„ï¼ˆä½ å¯ä»¥å¿½ç•¥ï¼‰ï¼Œä¸»è¦çš„ä¾èµ–æ˜¯ï¼š</p><ul><li><a href="https://workboxjs.org/reference-docs/latest/module-workbox-sw.html" target="_blank" rel="noopener">workbox-sw</a> Workbox</li><li><a href="https://workboxjs.org/reference-docs/latest/module-workbox-background-sync.html" target="_blank" rel="noopener">workbox-background-sync</a> æ˜¯ Workbox ç”¨æ¥åå°åŒæ­¥çš„ï¼Œç¨åä¼šæåˆ°</li><li><a href="https://gulpjs.com/" target="_blank" rel="noopener">gulp</a> å’Œ <a href="https://workboxjs.org/reference-docs/latest/module-workbox-build.html" target="_blank" rel="noopener">workbox-build</a> æ˜¯æ„å»ºå·¥å…·</li></ul><p><code>npm start</code> ä¼šæ„å»ºå¹¶è¾“å‡ºåˆ° <code>build</code> æ–‡ä»¶å¤¹ï¼Œå¯åŠ¨ dev serverï¼Œå¹¶ä¸”ä¼šå¼€å¯ä¸€ä¸ª <code>gulp watch</code> ä»»åŠ¡ã€‚<code>gulp watch</code> ä¼šç›‘å¬æ–‡ä»¶çš„ä¿®æ”¹è‡ªåŠ¨æ„å»ºã€‚<code>concurrently</code> å¯ä»¥åŒæ—¶è·‘ <code>gulp</code> å’Œ dev server</p><h2 id="æ‰“å¼€åº”ç”¨"><a href="#æ‰“å¼€åº”ç”¨" class="headerlink" title="æ‰“å¼€åº”ç”¨"></a>æ‰“å¼€åº”ç”¨</h2><p>æ‰“å¼€ Chrome å¹¶ä¸”è·³è½¬åˆ° <code>localhost:8081</code> ä½ ä¼šçœ‹åˆ°ä¸€ä¸ªäº‹ä»¶åˆ—è¡¨çš„æ§åˆ¶å°ï¼Œåœ¨å¼¹å‡ºçš„æƒé™ç¡®è®¤èœå•ä¸­ç‚¹å‡»å…è®¸</p><p><img src="/images/build-an-offline-first-data-driven-pwa/1.png" alt="img"></p><p>æˆ‘ä»¬ä½¿ç”¨é€šçŸ¥ç³»ç»Ÿæ¥å‘ŠçŸ¥ç”¨æˆ· app çš„åå°åŒæ­¥å·²ç»æ›´æ–°ï¼Œè¯•ç€æµ‹è¯•ä¸€ä¸‹é¡µé¢åº•éƒ¨çš„æ·»åŠ åŠŸèƒ½</p><h4 id="è¯´æ˜-1"><a href="#è¯´æ˜-1" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h4><p>è¿™ä¸ªå°é¡¹ç›®çš„ç›®æ ‡æ˜¯ç¦»çº¿ä¿å­˜ç”¨æˆ·çš„äº‹ä»¶æ—¥å†ã€‚ä½ å¯ä»¥æŸ¥çœ‹ä¸€ä¸‹ <code>app/js/main.js</code> æ–‡ä»¶çš„ <code>loadContentNetworkFirst</code> æ–¹æ³•å½“å‰æ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Œé¦–å…ˆä¼šè¯·æ±‚ serverï¼ŒæˆåŠŸåˆ™æ›´æ–°é¡µé¢ï¼Œå¤±è´¥ä¼šåœ¨æ§åˆ¶å°æ‰“å°ä¸€ä¸ªä¿¡æ¯ï¼Œç›®å‰è„±æœºæ˜¯æ— æ³•ä½¿ç”¨çš„ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ·»åŠ ä¸€äº›æ–¹æ³•ä½¿å®ƒè„±æœºå¯ç”¨ã€‚</p><h1 id="ç¼“å­˜-app-shell"><a href="#ç¼“å­˜-app-shell" class="headerlink" title="ç¼“å­˜ app shell"></a>ç¼“å­˜ app shell</h1><h2 id="ç¼–å†™-service-worker"><a href="#ç¼–å†™-service-worker" class="headerlink" title="ç¼–å†™ service worker"></a>ç¼–å†™ service worker</h2><p>è¦æƒ³è„±æœºå·¥ä½œï¼Œå°±éœ€è¦ server workerï¼Œç°åœ¨å†™ä¸€ä¸ªã€‚</p><p>æŠŠä¸‹é¢çš„ä»£ç æ·»åŠ åˆ° <code>app/src/sw.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">importScripts(<span class="string">'workbox-sw.dev.v2.0.0.js'</span>);</span><br><span class="line">importScripts(<span class="string">'workbox-background-sync.dev.v2.0.0.js'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> workboxSW = <span class="keyword">new</span> WorkboxSW();</span><br><span class="line">workboxSW.precache([]);</span><br></pre></td></tr></table></figure><h4 id="è¯´æ˜-2"><a href="#è¯´æ˜-2" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h4><p>åœ¨å¼€å¤´æˆ‘ä»¬å¼•å…¥äº† <code>workbox-sw</code> å’Œ <code>workbox-background-sync</code></p><ul><li><code>workbox-sw</code> åŒ…å«äº† <code>precache</code> å’Œå‘ service worker æ·»åŠ è·¯ç”±çš„æ–¹æ³•</li><li><code>workbox-background-sync</code> æ˜¯åœ¨ service worker ä¸­åå°åŒæ­¥çš„åº“ï¼Œç¨åä¼šæåˆ°</li></ul><p><code>precache</code> æ–¹æ³•æ¥æ”¶ä¸€ä¸ªæ–‡ä»¶åˆ—è¡¨çš„æ•°ç»„ï¼Œå…ˆç”¨ä¸€ä¸ªç©ºçš„ï¼Œä¸‹ä¸€æ­¥æˆ‘ä»¬ä¼šç”¨ <code>workbox-build</code> å»è®¡ç®—å‡ºè¿™ä¸ªæ•°ç»„çš„ç»“æœã€‚</p><h2 id="æ„å»º-service-worker"><a href="#æ„å»º-service-worker" class="headerlink" title="æ„å»º service worker"></a>æ„å»º service worker</h2><p>æ¨èä½¿ç”¨ Workbox çš„æ„å»ºæ¨¡å—ï¼Œæ¯”å¦‚ <code>workbox-build</code></p><p>æŠŠä¸‹é¢çš„ä»£ç æ·»åŠ è¿› <code>project/gulpfile.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'build-sw'</span>, () =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> wbBuild.injectManifest(&#123;</span><br><span class="line">    swSrc: <span class="string">'app/src/sw.js'</span>,</span><br><span class="line">    swDest: <span class="string">'build/service-worker.js'</span>,</span><br><span class="line">    globDirectory: <span class="string">'build'</span>,</span><br><span class="line">    staticFileGlobs: [</span><br><span class="line">      <span class="string">'style/main.css'</span>,</span><br><span class="line">      <span class="string">'index.html'</span>,</span><br><span class="line">      <span class="string">'js/idb-promised.js'</span>,</span><br><span class="line">      <span class="string">'js/main.js'</span>,</span><br><span class="line">      <span class="string">'images/**/*.*'</span>,</span><br><span class="line">      <span class="string">'manifest.json'</span></span><br><span class="line">    ],</span><br><span class="line">    templatedUrls: &#123;</span><br><span class="line">      <span class="string">'/'</span>: [<span class="string">'index.html'</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;).catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'[ERROR] This happened: '</span> + err);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ç°åœ¨å–æ¶ˆä¸€äº›æ³¨é‡Šï¼š</p><p>gulpfile.js:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// uncomment the line below:</span></span><br><span class="line"><span class="keyword">const</span> wbBuild = <span class="built_in">require</span>(<span class="string">'workbox-build'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'default'</span>, [<span class="string">'clean'</span>], cb =&gt; &#123;</span><br><span class="line">  runSequence(</span><br><span class="line">    <span class="string">'copy'</span>,</span><br><span class="line">    <span class="comment">// uncomment the line below:</span></span><br><span class="line">    <span class="string">'build-sw'</span>,</span><br><span class="line">    cb</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p><p>ä¿å­˜ä¿®æ”¹ï¼Œå› ä¸ºä¿®æ”¹äº† gulpï¼Œæˆ‘ä»¬å¾—é‡æ–°è·‘ä¸€ä¸‹ï¼Œ<code>Ctrl + C</code> é€€å‡ºå½“å‰çš„è¿›ç¨‹ï¼Œé‡æ–°è¿è¡Œ <code>npm start</code>ï¼Œä¼šçœ‹åˆ° service worker çš„æ–‡ä»¶è¢«ç”Ÿæˆåœ¨äº† <code>build/service-worker.js</code></p><p>å–æ¶ˆ <code>app/index.html</code> ä¸­ service worker æ³¨å†Œä»£ç çš„æ³¨é‡Š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="string">'serviceWorker'</span> <span class="keyword">in</span> navigator) &#123;</span><br><span class="line">  navigator.serviceWorker.register(<span class="string">'service-worker.js'</span>)</span><br><span class="line">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">registration</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'Service Worker registration successful with scope: '</span>,</span><br><span class="line">      registration.scope);</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'Service Worker registration failed: '</span>, err);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿å­˜ä¿®æ”¹ï¼Œåˆ·æ–°æµè§ˆå™¨ service worker å°±ä¼šè¢«å®‰è£…ã€‚<code>Ctrl + C</code> å…³é—­ dev serverï¼Œå†è¿”å›åˆ°æµè§ˆå™¨ä¸­åˆ·æ–°é¡µé¢ï¼Œå·²ç»å¯ä»¥è„±æœºè¿è¡Œäº†ï¼</p><h3 id="è¯´æ˜-3"><a href="#è¯´æ˜-3" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h3><p>åœ¨è¿™ä¸€æ­¥ä¸­ï¼Œ<code>workbox-build</code> å’Œ <code>build-sw</code> ä»»åŠ¡è¢«åˆå¹¶åˆ°æˆ‘ä»¬çš„ gulp æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬çš„æ„å»ºè¿‡ç¨‹æ˜¯ä½¿ç”¨ <code>workbox-build</code> åº“æ¥ä» <code>swSrc(app/src/sw.js)</code> ä¸­ç”Ÿæˆ service work åˆ° <code>swDest(build/service-worker.js)</code>ï¼Œæ¥è‡ª <code>globDirectory(build)</code> çš„ <code>staticFileGlobs</code> æ–‡ä»¶è¢«æ³¨å…¥åˆ° <code>build/service-worker.js</code> ä»¥ä¾› <code>precache</code> è°ƒç”¨ï¼Œè¿˜æœ‰æ¯ä¸ªæ–‡ä»¶çš„ä¿®è®¢å“ˆå¸Œã€‚templatedUrls é€‰é¡¹å‘Šè¯‰ Workbox æˆ‘ä»¬çš„ç«™ç‚¹ä»¥ index.html çš„å†…å®¹å“åº”è¯·æ±‚ã€‚</p><p>é¡ºä¾¿è´´ä¸€ä¸ª <a href="https://developers.google.com/web/tools/workbox/reference-docs/latest/module-workbox-build#.injectManifest" target="_blank" rel="noopener">injectManifest</a> çš„é“¾æ¥</p><p>å®‰è£…ç”Ÿæˆå¥½çš„ service worker ç¼“å­˜ app shell çš„èµ„æºæ–‡ä»¶ï¼ŒWorkbox ä¼šè‡ªåŠ¨å»ï¼š</p><ul><li>ä¸ºç¼“å­˜èµ„æºè®¾ç½®ç¼“å­˜ä¼˜å…ˆç­–ç•¥ï¼Œå…è®¸åº”ç”¨ç¨‹åºç¦»çº¿åŠ è½½</li><li>service work æ›´æ–°æ—¶ï¼Œä½¿ç”¨ä¿®è®¢å“ˆå¸Œæ¥æ›´æ–°ç¼“å­˜çš„æ–‡ä»¶</li></ul><h1 id="åˆ›å»º-IndexedDB-æ•°æ®åº“"><a href="#åˆ›å»º-IndexedDB-æ•°æ®åº“" class="headerlink" title="åˆ›å»º IndexedDB æ•°æ®åº“"></a>åˆ›å»º IndexedDB æ•°æ®åº“</h1><p>ç›®å‰ä¸ºæ­¢è¿˜ä¸èƒ½ç¦»çº¿åŠ è½½æ•°æ®ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥åˆ›å»ºä¸€ä¸ª IndexDB æ¥ä¿å­˜ç¨‹åºçš„æ•°æ®ï¼Œæ•°æ®åº“å‘½åä¸º <code>dashboardr</code></p><p>æ·»åŠ ä¸‹é¢ä»£ç åˆ° <code>app/js/main.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createIndexedDB</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!(<span class="string">'indexedDB'</span> <span class="keyword">in</span> <span class="built_in">window</span>)) &#123;<span class="keyword">return</span> <span class="literal">null</span>;&#125;</span><br><span class="line">  <span class="keyword">return</span> idb.open(<span class="string">'dashboardr'</span>, <span class="number">1</span>, <span class="function"><span class="keyword">function</span>(<span class="params">upgradeDb</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!upgradeDb.objectStoreNames.contains(<span class="string">'events'</span>)) &#123;</span><br><span class="line">      <span class="keyword">const</span> eventsOS = upgradeDb.createObjectStore(<span class="string">'events'</span>, &#123;<span class="attr">keyPath</span>: <span class="string">'id'</span>&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å–æ¶ˆè°ƒç”¨ <code>createIndexedDB</code> çš„æ³¨é‡Šï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dbPromise = createIndexedDB();</span><br></pre></td></tr></table></figure><p>ä¿å­˜æ–‡ä»¶ï¼Œé‡å¯ serverï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm start</span><br></pre></td></tr></table></figure><p>å›åˆ°æµè§ˆå™¨åˆ·æ–°é¡µé¢ï¼Œæ¿€æ´» <a href="https://developers.google.com/web/ilt/pwa/tools-for-pwa-developers#chromeupdate" target="_blank" rel="noopener">skipWaiting</a> å¹¶å†æ¬¡åˆ·æ–°é¡µé¢ï¼Œåœ¨ Chrome ä¸­ï¼Œä½ å¯ä»¥åœ¨å¼€å‘è€…å·¥å…·ä¸­çš„ <code>Application</code> é¢æ¿ä¸­é€‰æ‹© <code>Service Workers</code> ç‚¹å‡» <code>skipWaiting</code>ï¼Œä¹‹åä½¿ç”¨ <a href="https://developers.google.com/web/ilt/pwa/tools-for-pwa-developers#indexeddb" target="_blank" rel="noopener">å¼€å‘è€…å·¥å…·</a> æ£€æŸ¥æ•°æ®åº“æ˜¯å¦å­˜åœ¨ã€‚åœ¨ Chrome ä¸­ä½ å¯ä»¥åœ¨ <code>Application</code> é¢æ¿ä¸­ç‚¹å‡» <code>IndexedDB</code> é€‰æ‹© <code>dashboardr</code> æŸ¥çœ‹ <code>events</code> å¯¹è±¡æ˜¯å¦å­˜åœ¨ã€‚</p><blockquote><p>æ³¨æ„ï¼šå¼€å‘è€…å·¥å…·çš„ IndexedDB UI å¯èƒ½ä¸ä¼šå‡†ç¡®çš„ååº”ä½ æ•°æ®åº“çš„æƒ…å†µï¼Œåœ¨ Chrome ä¸­ä½ å¯ä»¥åˆ·æ–°æ•°æ®åº“æŸ¥çœ‹ï¼Œæˆ–è€…é‡æ–°æ‰“å¼€å¼€å‘è€…å·¥å…·</p></blockquote><h4 id="è¯´æ˜-4"><a href="#è¯´æ˜-4" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h4><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ª dashboardr æ•°æ®åº“ï¼Œå¹¶æŠŠä»–çš„ç‰ˆæœ¬å·è®¾ç½®ä¸º <code>1</code> ï¼Œç„¶åæ£€æŸ¥ events å¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œè¿™ä¸ªæ£€æŸ¥æ˜¯ä¸ºäº†é¿å…æ½œåœ¨çš„é”™è¯¯ï¼Œæˆ‘ä»¬è¿˜ç»™ event æä¾›äº†ä¸€ä¸ªå”¯ä¸€çš„ key path <code>id</code>ã€‚</p><p>ç”±äºæˆ‘ä»¬ä¿®æ”¹äº† <code>app/main.js</code> æ–‡ä»¶ï¼Œgulp çš„ <code>watch</code> ä»»åŠ¡ä¼šè‡ªåŠ¨æ„å»ºï¼ŒWorkbox ä¼šè‡ªåŠ¨æ›´æ–°ä¿®è®¢å“ˆå¸Œï¼Œç„¶åæ™ºèƒ½æ›´æ–°ç¼“å­˜ä¸­çš„ <code>main.js</code>ã€‚</p><h1 id="ä¿å­˜æ•°æ®åˆ°-IndexedDB-ä¸­"><a href="#ä¿å­˜æ•°æ®åˆ°-IndexedDB-ä¸­" class="headerlink" title="ä¿å­˜æ•°æ®åˆ° IndexedDB ä¸­"></a>ä¿å­˜æ•°æ®åˆ° IndexedDB ä¸­</h1><p>ç°åœ¨æˆ‘ä»¬ä¿å­˜æ•°æ®åˆ°åˆšåˆ›å»ºçš„æ•°æ®åº“ <code>dashboardr</code> ä¸­çš„ <code>event</code> å¯¹è±¡ä¸­ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">saveEventDataLocally</span>(<span class="params">events</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!(<span class="string">'indexedDB'</span> <span class="keyword">in</span> <span class="built_in">window</span>)) &#123;<span class="keyword">return</span> <span class="literal">null</span>;&#125;</span><br><span class="line">  <span class="keyword">return</span> dbPromise.then(<span class="function"><span class="params">db</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> tx = db.transaction(<span class="string">'events'</span>, <span class="string">'readwrite'</span>);</span><br><span class="line">    <span class="keyword">const</span> store = tx.objectStore(<span class="string">'events'</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.all(events.map(<span class="function"><span class="params">event</span> =&gt;</span> store.put(event)))</span><br><span class="line">    .catch(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      tx.abort();</span><br><span class="line">      <span class="keyword">throw</span> <span class="built_in">Error</span>(<span class="string">'Events were not added to the store'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åæ›´æ–° <code>loadContentNetworkFirst</code> æ–¹æ³•ï¼Œç°åœ¨è¿™æ˜¯å®Œæ•´çš„æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadContentNetworkFirst</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  getServerData()</span><br><span class="line">  .then(<span class="function"><span class="params">dataFromNetwork</span> =&gt;</span> &#123;</span><br><span class="line">    updateUI(dataFromNetwork);</span><br><span class="line">    saveEventDataLocally(dataFromNetwork)</span><br><span class="line">    .then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      setLastUpdated(<span class="keyword">new</span> <span class="built_in">Date</span>());</span><br><span class="line">      messageDataSaved();</span><br><span class="line">    &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      messageSaveError(); </span><br><span class="line">      <span class="built_in">console</span>.warn(err);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123; <span class="comment">// if we can't connect to the server...</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Network requests have failed, this is expected if offline'</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å–æ¶ˆæ³¨é‡Š <code>addAndPostEvent</code> ä¸­çš„ <code>saveEventDataLocally</code> è°ƒç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addAndPostEvent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  saveEventDataLocally([data]);</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿å­˜æ–‡ä»¶ï¼Œåˆ·æ–°é¡µé¢é‡æ–°æ¿€æ´» service workerã€‚å†æ¬¡åˆ·æ–°é¡µé¢ï¼Œæ£€æŸ¥ä¸€ä¸‹æ¥è‡ªç½‘ç»œçš„æ•°æ®æ˜¯å¦è¢«ä¿å­˜åˆ° <code>events</code> ä¸­å»ï¼ˆä½ å¯èƒ½éœ€è¦åˆ·æ–°ä¸€ä¸‹å¼€å‘è€…å·¥å…·ä¸­çš„ <code>IndexedDB</code>ï¼‰</p><h4 id="è¯´æ˜-5"><a href="#è¯´æ˜-5" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h4><p><code>saveEventDataLocally</code> æ¥æ”¶ä¸€ä¸ªæ•°ç»„å¹¶ä¸€æ¡æ¡çš„ä¿å­˜åˆ° IndexedDB æ•°æ®åº“ä¸­ï¼Œæˆ‘ä»¬æŠŠ <code>store.put</code> å†™åœ¨äº† <code>Promise.all</code> ä¸­ï¼Œè¿™æ ·å¦‚æœæŸä¸€æ¡æ›´æ–°å‡ºé”™æˆ‘ä»¬å°±å¯ä»¥ç»ˆæ­¢äº‹åŠ¡ã€‚</p><p><code>loadContentNetworkFirst</code> æ–¹æ³•ä¸­ï¼Œä¸€æ—¦æ”¶åˆ°æ¥è‡ªæœåŠ¡å™¨çš„æ•°æ®ï¼Œå°±ä¼šæ›´æ–° IndexedDB å’Œé¡µé¢ã€‚ç„¶åï¼Œæ•°æ®æˆåŠŸä¿å­˜æ—¶ï¼Œå°†å­˜å‚¨æ—¶é—´æˆ³ï¼Œå¹¶é€šçŸ¥ç”¨æˆ·æ•°æ®å¯ä¾›ç¦»çº¿ä½¿ç”¨ã€‚</p><p>åœ¨<code>addAndPostEvent</code> ä¸­è°ƒç”¨ <code>saveEventDataLocally</code> æ–¹æ³•ä¿è¯äº†æ·»åŠ æ–°çš„ <code>event</code> æ—¶æœ¬åœ°ä¼šå­˜æœ‰æœ€æ–°çš„æ•°æ®ã€‚ </p><h1 id="ä»-IndexedDB-ä¸­è·å–æ•°æ®"><a href="#ä»-IndexedDB-ä¸­è·å–æ•°æ®" class="headerlink" title="ä» IndexedDB ä¸­è·å–æ•°æ®"></a>ä» IndexedDB ä¸­è·å–æ•°æ®</h1><p>ç¦»çº¿çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±è¦æŸ¥è¯¢æœ¬åœ°ç¼“å­˜çš„æ•°æ®ã€‚</p><p>æ·»åŠ ä¸‹é¢çš„ä»£ç åˆ° <code>app/js/main.js</code> ä¸­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getLocalEventData</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!(<span class="string">'indexedDB'</span> <span class="keyword">in</span> <span class="built_in">window</span>)) &#123;<span class="keyword">return</span> <span class="literal">null</span>;&#125;</span><br><span class="line">  <span class="keyword">return</span> dbPromise.then(<span class="function"><span class="params">db</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> tx = db.transaction(<span class="string">'events'</span>, <span class="string">'readonly'</span>);</span><br><span class="line">    <span class="keyword">const</span> store = tx.objectStore(<span class="string">'events'</span>);</span><br><span class="line">    <span class="keyword">return</span> store.getAll();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åæ›´æ–° <code>loadContentNetworkFirst</code> æ–¹æ³•ï¼Œå®Œæ•´çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadContentNetworkFirst</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  getServerData()</span><br><span class="line">  .then(<span class="function"><span class="params">dataFromNetwork</span> =&gt;</span> &#123;</span><br><span class="line">    updateUI(dataFromNetwork);</span><br><span class="line">    saveEventDataLocally(dataFromNetwork)</span><br><span class="line">    .then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      setLastUpdated(<span class="keyword">new</span> <span class="built_in">Date</span>());</span><br><span class="line">      messageDataSaved();</span><br><span class="line">    &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      messageSaveError();</span><br><span class="line">      <span class="built_in">console</span>.warn(err);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Network requests have failed, this is expected if offline'</span>);</span><br><span class="line">    getLocalEventData()</span><br><span class="line">    .then(<span class="function"><span class="params">offlineData</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (!offlineData.length) &#123;</span><br><span class="line">        messageNoData();</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        messageOffline();</span><br><span class="line">        updateUI(offlineData); </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿å­˜æ–‡ä»¶ï¼Œåˆ·æ–°æµè§ˆå™¨æ¿€æ´»æ›´æ–°çš„ service workerï¼Œç°åœ¨ <code>Ctrl + C</code> å…³é—­ dev serverï¼Œè¿”å›åˆ°æµè§ˆå™¨ä¸­åˆ·æ–°é¡µé¢ï¼Œç°åœ¨ app å’Œæ•°æ®éƒ½å¯ä»¥ç¦»çº¿åŠ è½½äº†ï¼</p><h4 id="è¯´æ˜-6"><a href="#è¯´æ˜-6" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h4><p><code>loadContentNetworkFirst</code> è¢«è°ƒç”¨çš„æ—¶å€™å¦‚æœæ²¡æœ‰ç½‘ç»œè¿æ¥ï¼Œ<code>getServerData</code> ä¼šè¢« rejectï¼Œä¹‹åä¾¿ä¼šè¿›å…¥åˆ° <code>catch</code> ä¸­å»ï¼Œç„¶å <code>getLocalEventData</code> ä¼šè°ƒç”¨æœ¬åœ°ç¼“å­˜çš„æ•°æ®ã€‚æœ‰ç½‘ç»œè¿æ¥çš„è¯ä¼šæ­£å¸¸çš„è¯·æ±‚ server å¹¶ä¸” <code>updateUI</code></p><h1 id="ä½¿ç”¨-workbox-background-sync"><a href="#ä½¿ç”¨-workbox-background-sync" class="headerlink" title="ä½¿ç”¨ workbox-background-sync"></a>ä½¿ç”¨ workbox-background-sync</h1><p>æˆ‘ä»¬çš„ app å·²ç»å¯ä»¥ç¦»çº¿ä¿å­˜å’Œæµè§ˆæ•°æ®ï¼Œç°åœ¨æˆ‘ä»¬æ¥ç”¨ <code>workbox-background-sync</code> æŠŠç¦»çº¿çŠ¶æ€ä¸‹ä¿å­˜çš„æ•°æ®åŒæ­¥åˆ°æœåŠ¡ç«¯å»ã€‚</p><p>æŠŠä¸‹é¢çš„çš„ä»£ç æ·»åŠ åˆ° <code>app/src/sw.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> bgQueue = <span class="keyword">new</span> workbox.backgroundSync.QueuePlugin(&#123;</span><br><span class="line">  callbacks: &#123;</span><br><span class="line">    replayDidSucceed: <span class="keyword">async</span>(hash, res) =&gt; &#123;</span><br><span class="line">      self.registration.showNotification(<span class="string">'Background sync demo'</span>, &#123;</span><br><span class="line">        body: <span class="string">'Events have been updated!'</span></span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">workboxSW.router.registerRoute(<span class="string">'/api/add'</span>,</span><br><span class="line">  workboxSW.strategies.networkOnly(&#123;<span class="attr">plugins</span>: [bgQueue]&#125;), <span class="string">'POST'</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>ä¿å­˜ï¼Œç°åœ¨è½¬åˆ°å‘½ä»¤è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run start</span><br></pre></td></tr></table></figure><p>åˆ·æ–°æµè§ˆå™¨ï¼Œæ¿€æ´»æ›´æ–°çš„ service worker</p><p><code>Ctrl + C</code> æŠŠ app å˜ä¸ºç¦»çº¿çŠ¶æ€ï¼Œæ·»åŠ ä¸€ä¸ª <code>event</code> ç¡®è®¤è¯·æ±‚ <code>/api/add</code> å·²ç»è¢«æ·»åŠ è¿› <code>bgQueueSyncDB</code> çš„ <code>QueueStore</code> å¯¹è±¡ã€‚</p><h4 id="è¯´æ˜-7"><a href="#è¯´æ˜-7" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h4><p>å½“ç”¨æˆ·è¯•å›¾åœ¨ç¦»çº¿æƒ…å†µä¸‹æ·»åŠ  <code>event</code> çš„æ—¶å€™ï¼Œ<code>workbox-background-sync</code> ä¼šæŠŠå¤±è´¥çš„è¯·æ±‚ä¿å­˜ä¸ºä¸€ä¸ªç¦»çº¿é˜Ÿåˆ—ï¼Œå½“ç”¨æˆ·é‡æ–°è”ç½‘ <code>backgroundSync</code> ä¼šé‡æ–°å‘é€è¿™äº›è¯·æ±‚ï¼Œç”šè‡³éƒ½ä¸éœ€è¦ç”¨æˆ·æ‰“å¼€ appï¼ä½†æ˜¯ï¼Œä»è”ç½‘åˆ°é‡æ–°å‘è¯·æ±‚çš„è¿™ä¸ªè¿‡ç¨‹å¤§æ¦‚éœ€è¦ 5 åˆ†é’Ÿï¼Œä¸‹ä¸€èŠ‚æˆ‘ä»¬å°†ä¼šä»‹ç»å¦‚ä½•åœ¨ app ä¸­ç«‹å³å‘é€è¿™äº›è¯·æ±‚ã€‚</p><h1 id="é‡å‘è¯·æ±‚"><a href="#é‡å‘è¯·æ±‚" class="headerlink" title="é‡å‘è¯·æ±‚"></a>é‡å‘è¯·æ±‚</h1><p>å› ä¸ºé‡å‘è¯·æ±‚ä¼šæœ‰å»¶è¿Ÿï¼Œæ‰€ä»¥ç”¨æˆ·å¯èƒ½å›åˆ° app ä¹‹åè¿˜æ²¡æœ‰åŒæ­¥æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ç”¨æˆ·è”ç½‘çš„æ—¶å€™ç«‹å³å‘é€è¿™äº›è¯·æ±‚ã€‚</p><p>æŠŠä¸‹é¢çš„ä»£ç æ·»åŠ åˆ° <code>app/src/sw.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">workboxSW.router.registerRoute(<span class="string">'/api/getAll'</span>, () =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> bgQueue.replayRequests().then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> fetch(<span class="string">'/api/getAll'</span>);</span><br><span class="line">  &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> err;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>åªè¦ç”¨æˆ·è¯·æ±‚æœåŠ¡ç«¯æ•°æ®ï¼ˆåŠ è½½æˆ–åˆ·æ–°é¡µé¢æ—¶ï¼‰ï¼Œè¯¥è·¯ç”±å°±ä¼š replay æ’é˜Ÿçš„è¯·æ±‚ï¼Œç„¶åè¿”å›æœ€æ–°çš„æœåŠ¡ç«¯æ•°æ®ã€‚è¿™å¾ˆå¥½ï¼Œä½†æ˜¯ç”¨æˆ·è¿˜æ˜¯å¾—åˆ·æ–°é¡µé¢å»é‡æ–°è·å–æ•°æ®ï¼Œæˆ‘ä»¬è¿˜æœ‰æ›´å¥½çš„åšæ³•ã€‚</p><p>æŠŠä¸‹é¢çš„ä»£ç æ·»åŠ è¿› <code>app/js/main.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'online'</span>, () =&gt; &#123;</span><br><span class="line">  container.innerHTML = <span class="string">''</span>;</span><br><span class="line">  loadContentNetworkFirst();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>é‡å¯ server</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm start</span><br></pre></td></tr></table></figure><p>åˆ·æ–°æµè§ˆå™¨æ¿€æ´»æ–°çš„ service workerï¼Œå¹¶å†æ¬¡åˆ·æ–°é¡µé¢ã€‚</p><p><code>Ctrl + C</code> æŠŠ app å˜ä¸ºç¦»çº¿çŠ¶æ€</p><p>æ·»åŠ ä¸€æ¡ <code>event</code></p><p>é‡å¯ server</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm start</span><br></pre></td></tr></table></figure><p>è¿™æ—¶ä½ åº”è¯¥èƒ½ç«‹å³æ”¶åˆ°ä¸€æ¡æ•°æ®æ›´æ–°çš„é€šçŸ¥ï¼Œæ£€æŸ¥ <code>server-data/events.json</code> ä¸­çš„æ•°æ®æ˜¯å¦å·²ç»æ›´æ–°ã€‚</p><h4 id="è¯´æ˜-8"><a href="#è¯´æ˜-8" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h4><p>é¡µé¢åŠ è½½çš„æ—¶å€™ä¼šè¯·æ±‚ <code>/api/getAll</code>ï¼Œæˆ‘ä»¬æ‹¦æˆªäº†è¿™ä¸ªè¯·æ±‚ï¼Œä¹‹åä¸»è¦åšäº†ä¸¤ä»¶äº‹ï¼š</p><ul><li>åŒæ­¥æœ¬åœ°çš„ç¦»çº¿æ•°æ®</li><li>é‡æ–°è¯·æ±‚ <code>/api/getAll</code></li></ul><p>ä¹Ÿå°±æ˜¯åœ¨é‡æ–°è·å–æœåŠ¡ç«¯çš„æ•°æ®ä¹‹å‰å…ˆåŒæ­¥</p><blockquote><p>æ³¨æ„ï¼šæœ¬ä¾‹ä¸­çš„ç½‘ç»œè¯·æ±‚è®¾è®¡çš„éå¸¸ç®€å•ï¼Œå®é™…æƒ…å†µä¸‹ä½ å¯èƒ½éœ€è¦è€ƒè™‘æ›´å¤šå› ç´ å»å‡å°‘è¯·æ±‚çš„æ•°é‡ã€‚</p></blockquote><h1 id="æ·»åŠ åˆ é™¤åŠŸèƒ½"><a href="#æ·»åŠ åˆ é™¤åŠŸèƒ½" class="headerlink" title="æ·»åŠ åˆ é™¤åŠŸèƒ½"></a>æ·»åŠ åˆ é™¤åŠŸèƒ½</h1><p>ä¸‹é¢çš„æ—¶é—´å°±äº¤ç»™ä½ äº†ï¼Œæ·»åŠ ä¸€ä¸ªåˆ é™¤çš„åŠŸèƒ½ï¼Œè®°å¾—åˆ é™¤ IndexedDB ä¸­çš„æ•°æ®ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;/images/build-an-offline-first-data-driven-pwa/2.png&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åŸæ–‡åœ°å€ï¼š&lt;a href=&quot;https://codelabs.developers.
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>æˆ‘ä»¬ç¼–å†™ React ç»„ä»¶çš„æœ€ä½³å®è·µ</title>
    <link href="https://catwen.cn/2018/01/18/best-practices-for-writing-react-components/"/>
    <id>https://catwen.cn/2018/01/18/best-practices-for-writing-react-components/</id>
    <published>2018-01-18T16:55:03.000Z</published>
    <updated>2021-12-18T15:50:15.704Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/best-practices-for-writing-react-components/1.png" alt="img"></p><p>åˆšæ¥è§¦ <code>React</code> çš„æ—¶å€™ï¼Œåœ¨ä¸€ä¸ªåˆä¸€ä¸ªçš„æ•™ç¨‹ä¸Šé¢çœ‹åˆ°å¾ˆå¤šç§ç¼–å†™ç»„ä»¶çš„æ–¹æ³•ï¼Œå°½ç®¡é‚£æ—¶å€™ <code>React</code> æ¡†æ¶å·²ç»ç›¸å½“æˆç†Ÿï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ä¸€ä¸ªå›ºå®šçš„è§„åˆ™å»è§„èŒƒæˆ‘ä»¬å»å†™ä»£ç ã€‚</p><p>åœ¨è¿‡å»çš„ä¸€å¹´é‡Œï¼Œæˆ‘ä»¬åœ¨ä¸æ–­çš„å®Œå–„æˆ‘ä»¬çš„åšæ³•ï¼Œç›´åˆ°æ»¡æ„ä¸ºæ­¢ã€‚</p><p>æœ¬æ–‡ä¼šåˆ—å‡ºæˆ‘ä»¬è‡ªå·±åœ¨ä½¿ç”¨çš„æœ€ä½³å®è·µï¼Œä¸ç®¡ä½ æ˜¯åˆšå…¥é—¨çš„æ–°æ‰‹è¿˜æ˜¯å¾ˆæœ‰ç»éªŒçš„å¼€å‘è€…ï¼Œæˆ‘ä»¬éƒ½å¸Œæœ›æœ¬æ–‡å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚</p><p>å¼€å§‹ä¹‹å‰ï¼Œå…ˆåˆ—å‡ æ¡ï¼š</p><ul><li>æˆ‘ä»¬ä½¿ç”¨ES6/ES7</li><li>å¦‚æœä½ æ— æ³•åŒºåˆ†é¡µé¢ç»„ä»¶å’Œå®¹å™¨ç»„ä»¶ï¼Œæ¨èé˜…è¯» <a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0#.kuvqndiqq" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>ï¼ˆéœ€è¦æ¢¯å­ï¼‰</li><li>å¦‚æœæœ‰æ›´å¥½çš„æ„è§æˆ–å»ºè®®ï¼Œè¯·åœ¨è¯„è®ºåŒºå‘Šè¯‰æˆ‘ï¼Œè°¢è°¢</li></ul><h1 id="åŸºäº-Class-çš„ç»„ä»¶"><a href="#åŸºäº-Class-çš„ç»„ä»¶" class="headerlink" title="åŸºäº Class çš„ç»„ä»¶"></a>åŸºäº Class çš„ç»„ä»¶</h1><p>åŸºäº Class çš„ç»„ä»¶æ˜¯æœ‰çŠ¶æ€çš„ï¼Œä¸ç®¡å®ƒåŒ…ä¸åŒ…å«å‡½æ•°ï¼Œæˆ‘ä»¬éƒ½ä¼šå°½é‡å°‘ç”¨ã€‚ä½†æ˜¯å®ƒä¹Ÿæœ‰å®ƒçš„ç”¨å¤„ã€‚</p><p>ç°åœ¨æ¥ä¸€è¡Œä¸€è¡Œçš„ç¼–å†™æˆ‘ä»¬çš„ç»„ä»¶ï¼š</p><h2 id="å¯¼å…¥-CSS"><a href="#å¯¼å…¥-CSS" class="headerlink" title="å¯¼å…¥ CSS"></a>å¯¼å…¥ CSS</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; observer &#125; <span class="keyword">from</span> <span class="string">'mobx-react'</span></span><br><span class="line"><span class="keyword">import</span> ExpandableForm <span class="keyword">from</span> <span class="string">'./ExpandableForm'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./styles/ProfileContainer.css'</span></span><br></pre></td></tr></table></figure><p>æˆ‘å–œæ¬¢ <code>CSS in Javascript</code>ï¼Œä½†æ˜¯è¿™ä¸ªæ¦‚å¿µè¿˜æ¯”è¾ƒæ–°ï¼Œç°åœ¨ä¹Ÿå¹¶æ²¡æœ‰æˆç†Ÿçš„è§£å†³æ–¹æ¡ˆï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æ¯ä¸ªç»„ä»¶é‡Œé¢å»å¼•ç”¨ CSS </p><h2 id="åˆå§‹åŒ–-State"><a href="#åˆå§‹åŒ–-State" class="headerlink" title="åˆå§‹åŒ– State"></a>åˆå§‹åŒ– State</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; observer &#125; <span class="keyword">from</span> <span class="string">'mobx-react'</span></span><br><span class="line"><span class="keyword">import</span> ExpandableForm <span class="keyword">from</span> <span class="string">'./ExpandableForm'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./styles/ProfileContainer.css'</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">ProfileContainer</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123; <span class="attr">expanded</span>: <span class="literal">false</span> &#125;</span><br></pre></td></tr></table></figure><p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥é€‰æ‹©åœ¨æ„é€ å‡½æ•°é‡Œé¢å»åˆå§‹åŒ–ï¼Œä½†æ˜¯æˆ‘ä»¬è§‰å¾—è¿™ç§æ–¹å¼æ›´åŠ æ¸…æ™°ã€‚</p><p>å½“ç„¶ä¹Ÿä¼šä¿è¯ Class æ˜¯é»˜è®¤å¯¼å‡ºçš„ã€‚</p><h2 id="propTypes-å’Œ-defaultProps"><a href="#propTypes-å’Œ-defaultProps" class="headerlink" title="propTypes å’Œ defaultProps"></a>propTypes å’Œ defaultProps</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; observer &#125; <span class="keyword">from</span> <span class="string">'mobx-react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; string, object &#125; <span class="keyword">from</span> <span class="string">'prop-types'</span></span><br><span class="line"><span class="keyword">import</span> ExpandableForm <span class="keyword">from</span> <span class="string">'./ExpandableForm'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./styles/ProfileContainer.css'</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">ProfileContainer</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123; <span class="attr">expanded</span>: <span class="literal">false</span> &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">static</span> propTypes = &#123;</span><br><span class="line">    model: object.isRequired,</span><br><span class="line">    title: string</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">static</span> defaultProps = &#123;</span><br><span class="line">    model: &#123;</span><br><span class="line">      id: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    title: <span class="string">'Your Name'</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>propTypes å’Œ defaultProps æ˜¯é™æ€å±æ€§ï¼Œå°½å¯èƒ½çš„æŠŠå®ƒä»¬å†™åœ¨ç»„ä»¶çš„æœ€ä¸Šæ–¹ï¼Œä»¥ä¾¿å…¶ä»–å¼€å‘è€…é˜…è¯»ã€‚</p><p>å¦‚æœä½¿ç”¨ <code>React 15.3.0</code> æˆ–æ›´é«˜çš„ç‰ˆæœ¬ï¼Œä½¿ç”¨ <a href="https://github.com/facebook/prop-types" target="_blank" rel="noopener">prop-types</a> ä»£æ›¿ <code>React.PropTypes</code></p><p>æ‰€æœ‰çš„ç»„ä»¶éƒ½å¿…é¡»å£°æ˜ propTypes</p><h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; observer &#125; <span class="keyword">from</span> <span class="string">'mobx-react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; string, object &#125; <span class="keyword">from</span> <span class="string">'prop-types'</span></span><br><span class="line"><span class="keyword">import</span> ExpandableForm <span class="keyword">from</span> <span class="string">'./ExpandableForm'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./styles/ProfileContainer.css'</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">ProfileContainer</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123; <span class="attr">expanded</span>: <span class="literal">false</span> &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">static</span> propTypes = &#123;</span><br><span class="line">    model: object.isRequired,</span><br><span class="line">    title: string</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">static</span> defaultProps = &#123;</span><br><span class="line">    model: &#123;</span><br><span class="line">      id: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    title: <span class="string">'Your Name'</span></span><br><span class="line">  &#125;</span><br><span class="line">  handleSubmit = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    e.preventDefault()</span><br><span class="line">    <span class="keyword">this</span>.props.model.save()</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  handleNameChange = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.props.model.changeName(e.target.value)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  handleExpand = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    e.preventDefault()</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123; <span class="attr">expanded</span>: !<span class="keyword">this</span>.state.expanded &#125;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨åŸºäº Class çš„ç»„ä»¶æ—¶ï¼Œå½“ä½ ä¼ é€’å‡½æ•°ç»™å­ç»„ä»¶çš„æ—¶å€™ï¼Œè¦ç¡®ä¿ä»–ä»¬æœ‰æ­£ç¡®çš„ <code>this</code>ï¼Œé€šå¸¸ç”¨è¿™ç§å½¢å¼å®ç° <code>this.handleSubmit.bind(this)</code></p><p>ä½†æ˜¯å¦‚æœä½ ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œå°±ä¸éœ€è¦ <code>bind(this)</code></p><h2 id="ä¸º-setState-ä¼ é€’å‡½æ•°"><a href="#ä¸º-setState-ä¼ é€’å‡½æ•°" class="headerlink" title="ä¸º setState ä¼ é€’å‡½æ•°"></a>ä¸º setState ä¼ é€’å‡½æ•°</h2><p>ä¸Šé¢çš„ä¾‹å­ä¸­æˆ‘ä»¬æ˜¯è¿™ä¹ˆåšçš„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.setState(&#123; <span class="attr">expanded</span>: !<span class="keyword">this</span>.state.expanded &#125;)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæœ‰ä¸ª setState çš„å°çŸ¥è¯† â€”â€” å®ƒæ˜¯å¼‚æ­¥çš„ï¼Œä¸ºäº†ä¿è¯æ€§èƒ½ï¼Œ<code>React</code> ä¼šåˆ†æ‰¹ä¿®æ”¹ stateï¼Œæ‰€ä»¥ state ä¸ä¼šåœ¨è°ƒç”¨ setState ä¹‹åç«‹å³æ”¹å˜</p><p>è¿™æ„å‘³ç€ä½ ä¸èƒ½ä¾èµ–å½“å‰çš„çŠ¶æ€ï¼Œå› ä¸ºä½ ä¸çŸ¥é“å½“å‰çš„çŠ¶æ€æ˜¯ä»€ä¹ˆçŠ¶æ€</p><p>è¿™é‡Œæœ‰ä¸ªè§£å†³æ–¹æ¡ˆ â€”â€” ä¼ é€’å‡½æ•°ç»™ setStateï¼Œ<code>React</code> ä¼šæŠŠä¸Šä¸€ä¸ªçŠ¶æ€ <code>prevState</code> ä¼ é€’ç»™ä½ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.setState(<span class="function"><span class="params">prevState</span> =&gt;</span> (&#123; <span class="attr">expanded</span>: !prevState.expanded &#125;))</span><br></pre></td></tr></table></figure><h2 id="è§£æ„-Props"><a href="#è§£æ„-Props" class="headerlink" title="è§£æ„ Props"></a>è§£æ„ Props</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; observer &#125; <span class="keyword">from</span> <span class="string">'mobx-react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; string, object &#125; <span class="keyword">from</span> <span class="string">'prop-types'</span></span><br><span class="line"><span class="keyword">import</span> ExpandableForm <span class="keyword">from</span> <span class="string">'./ExpandableForm'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./styles/ProfileContainer.css'</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">ProfileContainer</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123; <span class="attr">expanded</span>: <span class="literal">false</span> &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">static</span> propTypes = &#123;</span><br><span class="line">    model: object.isRequired,</span><br><span class="line">    title: string</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">static</span> defaultProps = &#123;</span><br><span class="line">    model: &#123;</span><br><span class="line">      id: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    title: <span class="string">'Your Name'</span></span><br><span class="line">  &#125;</span><br><span class="line">handleSubmit = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    e.preventDefault()</span><br><span class="line">    <span class="keyword">this</span>.props.model.save()</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  handleNameChange = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.props.model.changeName(e.target.value)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  handleExpand = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    e.preventDefault()</span><br><span class="line">    <span class="keyword">this</span>.setState(<span class="function"><span class="params">prevState</span> =&gt;</span> (&#123; <span class="attr">expanded</span>: !prevState.expanded &#125;))</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;</span><br><span class="line">      model,</span><br><span class="line">      title</span><br><span class="line">    &#125; = <span class="keyword">this</span>.props</span><br><span class="line">    <span class="keyword">return</span> ( </span><br><span class="line">      &lt;ExpandableForm </span><br><span class="line">        onSubmit=&#123;<span class="keyword">this</span>.handleSubmit&#125; </span><br><span class="line">        expanded=&#123;<span class="keyword">this</span>.state.expanded&#125; </span><br><span class="line">        onExpand=&#123;<span class="keyword">this</span>.handleExpand&#125;&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;h1&gt;&#123;title&#125;&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">          &lt;input</span></span><br><span class="line"><span class="regexp">            type="text"</span></span><br><span class="line"><span class="regexp">            value=&#123;model.name&#125;</span></span><br><span class="line"><span class="regexp">            onChange=&#123;this.handleNameChange&#125;</span></span><br><span class="line"><span class="regexp">            placeholder="Your Name"/</span>&gt;</span><br><span class="line">        &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>ExpandableForm&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åƒä¸Šé¢çš„ä¾‹å­ä¸€æ ·ï¼Œæ¯ä¸ª prop éƒ½ç‹¬å ä¸€è¡Œ</p><h2 id="è£…é¥°å™¨-Decorators"><a href="#è£…é¥°å™¨-Decorators" class="headerlink" title="è£…é¥°å™¨(Decorators)"></a>è£…é¥°å™¨(Decorators)</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@observer</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">ProfileContainer</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br></pre></td></tr></table></figure><p>å¦‚æœä½ ä½¿ç”¨äº†ç±»ä¼¼ <a href="https://github.com/mobxjs/mobx" target="_blank" rel="noopener">mobx</a> çš„åº“ï¼Œä½ å¯ä»¥è¿™æ ·å»è£…é¥°ä½ çš„ Class ç»„ä»¶</p><p>ä¿®æ”¹å‡½æ•°å¼ç»„ä»¶ä½¿ç”¨ <a href="http://javascript.info/tutorial/decorators" target="_blank" rel="noopener">decorators</a> å¾ˆçµæ´»å¹¶ä¸”å¯è¯»</p><p>å¦‚æœä½ ä¸æƒ³ä½¿ç”¨è£…é¥°å™¨ï¼Œå¯ä»¥è¿™ä¹ˆåšï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProfileContainer</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="comment">// Component code</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> observer(ProfileContainer)</span><br></pre></td></tr></table></figure><h2 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h2><p>é¿å…åƒä¸‹é¢æ³¨é‡Šçš„åœ°æ–¹ä¸€æ ·ä¼ é€’æ–°çš„é—­åŒ…ç»™å­ç»„ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;input</span><br><span class="line">  type=<span class="string">"text"</span></span><br><span class="line">  value=&#123;model.name&#125;</span><br><span class="line">  <span class="comment">// onChange=&#123;(e) =&gt; &#123; model.name = e.target.value &#125;&#125;</span></span><br><span class="line">  <span class="comment">// ^ Not this. Use the below:</span></span><br><span class="line">  onChange=&#123;<span class="keyword">this</span>.handleChange&#125;</span><br><span class="line">  placeholder=<span class="string">"Your Name"</span>/&gt;</span><br></pre></td></tr></table></figure><p>è¿™ç§æ–¹å¼çš„å¥½å¤„æ˜¯æ¯æ¬¡renderï¼Œä¸ä¼šé‡æ–°åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œæ²¡æœ‰é¢å¤–çš„æ€§èƒ½æŸå¤±ã€‚</p><p>è¿™é‡Œæ˜¯å®Œæ•´çš„ç»„ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; observer &#125; <span class="keyword">from</span> <span class="string">'mobx-react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; string, object &#125; <span class="keyword">from</span> <span class="string">'prop-types'</span></span><br><span class="line"><span class="comment">// Separate local imports from dependencies</span></span><br><span class="line"><span class="keyword">import</span> ExpandableForm <span class="keyword">from</span> <span class="string">'./ExpandableForm'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./styles/ProfileContainer.css'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Use decorators if needed</span></span><br><span class="line">@observer</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">ProfileContainer</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123; <span class="attr">expanded</span>: <span class="literal">false</span> &#125;</span><br><span class="line">  <span class="comment">// Initialize state here (ES7) or in a constructor method (ES6)</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">// Declare propTypes as static properties as early as possible</span></span><br><span class="line">  <span class="keyword">static</span> propTypes = &#123;</span><br><span class="line">    model: object.isRequired,</span><br><span class="line">    title: string</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Default props below propTypes</span></span><br><span class="line">  <span class="keyword">static</span> defaultProps = &#123;</span><br><span class="line">    model: &#123;</span><br><span class="line">      id: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    title: <span class="string">'Your Name'</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Use fat arrow functions for methods to preserve context (this will thus be the component instance)</span></span><br><span class="line">  handleSubmit = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    e.preventDefault()</span><br><span class="line">    <span class="keyword">this</span>.props.model.save()</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  handleNameChange = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.props.model.name = e.target.value</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  handleExpand = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    e.preventDefault()</span><br><span class="line">    <span class="keyword">this</span>.setState(<span class="function"><span class="params">prevState</span> =&gt;</span> (&#123; <span class="attr">expanded</span>: !prevState.expanded &#125;))</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="comment">// Destructure props for readability</span></span><br><span class="line">    <span class="keyword">const</span> &#123;</span><br><span class="line">      model,</span><br><span class="line">      title</span><br><span class="line">    &#125; = <span class="keyword">this</span>.props</span><br><span class="line">    <span class="keyword">return</span> ( </span><br><span class="line">      &lt;ExpandableForm </span><br><span class="line">        onSubmit=&#123;<span class="keyword">this</span>.handleSubmit&#125; </span><br><span class="line">        expanded=&#123;<span class="keyword">this</span>.state.expanded&#125; </span><br><span class="line">        onExpand=&#123;<span class="keyword">this</span>.handleExpand&#125;&gt;</span><br><span class="line">        <span class="comment">// Newline props if there are more than two</span></span><br><span class="line">        &lt;div&gt;</span><br><span class="line">          &lt;h1&gt;&#123;title&#125;&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">          &lt;input</span></span><br><span class="line"><span class="regexp">            type="text"</span></span><br><span class="line"><span class="regexp">            value=&#123;model.name&#125;</span></span><br><span class="line"><span class="regexp">            /</span><span class="regexp">/ onChange=&#123;(e) =&gt; &#123; model.name = e.target.value &#125;&#125;</span></span><br><span class="line"><span class="regexp">            /</span><span class="regexp">/ Avoid creating new closures in the render method- use methods like below</span></span><br><span class="line"><span class="regexp">            onChange=&#123;this.handleNameChange&#125;</span></span><br><span class="line"><span class="regexp">            placeholder="Your Name"/</span>&gt;</span><br><span class="line">        &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>ExpandableForm&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å‡½æ•°å¼ç»„ä»¶"><a href="#å‡½æ•°å¼ç»„ä»¶" class="headerlink" title="å‡½æ•°å¼ç»„ä»¶"></a>å‡½æ•°å¼ç»„ä»¶</h1><p>è¿™äº›ç»„ä»¶æ²¡æœ‰çŠ¶æ€å’Œå‡½æ•°ï¼Œä»–ä»¬å¾ˆçº¯ï¼Œéå¸¸å®¹æ˜“é˜…è¯»ï¼Œå°½é‡å¤šçš„ä½¿ç”¨ä»–ä»¬ã€‚</p><h2 id="propTypes"><a href="#propTypes" class="headerlink" title="propTypes"></a>propTypes</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; observer &#125; <span class="keyword">from</span> <span class="string">'mobx-react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; func, bool &#125; <span class="keyword">from</span> <span class="string">'prop-types'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./styles/Form.css'</span></span><br><span class="line">ExpandableForm.propTypes = &#123;</span><br><span class="line">  onSubmit: func.isRequired,</span><br><span class="line">  expanded: bool</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Component declaration</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬æŠŠ propTypes å†™åœ¨æœ€å‰é¢ï¼Œä»–ä¼šè¢«ç»„ä»¶ç«‹å³å¯è§ï¼Œè¿™è¦å½’åŠŸäºJavaScriptçš„ <code>å‡½æ•°æå‡</code></p><h2 id="è§£æ„-Props-å’Œ-defaultProps"><a href="#è§£æ„-Props-å’Œ-defaultProps" class="headerlink" title="è§£æ„ Props å’Œ defaultProps"></a>è§£æ„ Props å’Œ defaultProps</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; observer &#125; <span class="keyword">from</span> <span class="string">'mobx-react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; func, bool &#125; <span class="keyword">from</span> <span class="string">'prop-types'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./styles/Form.css'</span></span><br><span class="line">ExpandableForm.propTypes = &#123;</span><br><span class="line">  onSubmit: func.isRequired,</span><br><span class="line">  expanded: bool,</span><br><span class="line">  onExpand: func.isRequired</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ExpandableForm</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> formStyle = props.expanded ? &#123;<span class="attr">height</span>: <span class="string">'auto'</span>&#125; : &#123;<span class="attr">height</span>: <span class="number">0</span>&#125;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;form style=&#123;formStyle&#125; onSubmit=&#123;props.onSubmit&#125;&gt;</span><br><span class="line">      &#123;props.children&#125;</span><br><span class="line">      &lt;button onClick=&#123;props.onExpand&#125;&gt;Expand&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>form&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬çš„ç»„ä»¶æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬è·å–ä»–çš„ props å°±æ˜¯åœ¨è·å–å‡½æ•°çš„å‚æ•°å€¼ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨ <code>ES6</code> çš„è§£æ„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; observer &#125; <span class="keyword">from</span> <span class="string">'mobx-react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; func, bool &#125; <span class="keyword">from</span> <span class="string">'prop-types'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./styles/Form.css'</span></span><br><span class="line">ExpandableForm.propTypes = &#123;</span><br><span class="line">  onSubmit: func.isRequired,</span><br><span class="line">  expanded: bool,</span><br><span class="line">  onExpand: func.isRequired</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ExpandableForm</span>(<span class="params">&#123; onExpand, expanded = false, children, onSubmit &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> formStyle = expanded ? &#123;<span class="attr">height</span>: <span class="string">'auto'</span>&#125; : &#123;<span class="attr">height</span>: <span class="number">0</span>&#125;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;form style=&#123;formStyle&#125; onSubmit=&#123;onSubmit&#125;&gt;</span><br><span class="line">      &#123;children&#125;</span><br><span class="line">      &lt;button onClick=&#123;onExpand&#125;&gt;Expand&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>form&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤å‚æ•°å€¼å»è®¾ç½® <code>defaultProps</code>ï¼Œå°±åƒä¸Šé¢çš„ <code>expanded = false</code></p><p>é¿å…ä½¿ç”¨ä¸‹é¢çš„ ES6 è¯­æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ExpandableForm = <span class="function">(<span class="params">&#123; onExpand, expanded, children &#125;</span>) =&gt;</span> &#123;</span><br></pre></td></tr></table></figure><p>çœ‹èµ·æ¥å¾ˆå…ˆï¼ˆé€¼ï¼‰è¿›ï¼ˆæ ¼ï¼‰ï¼Œä½†è¿™ä¸ªå‡½æ•°æ˜¯åŒ¿åçš„ã€‚</p><p>å¦‚æœä½ çš„Babelè®¾ç½®æ­£ç¡®ï¼Œè¿™ä¸ªåŒ¿åå‡½æ•°ä¸ä¼šæˆä¸ºä¸€ä¸ªé—®é¢˜ â€”â€” ä½†æ˜¯å¦‚æœä¸æ˜¯çš„è¯ï¼Œä»»ä½•é”™è¯¯éƒ½ä¼šæ˜¾ç¤ºåœ¨ <code>&lt;&lt; anonymous &gt;&gt;</code> ä¸­ï¼Œè¿™å¯¹äºè°ƒè¯•æ¥è¯´æ˜¯éå¸¸ç³Ÿç³•çš„ã€‚</p><h2 id="Wrapping"><a href="#Wrapping" class="headerlink" title="Wrapping"></a>Wrapping</h2><p>å‡½æ•°å¼ç»„ä»¶ä¸­ä¸èƒ½ä½¿ç”¨ <code>decorators</code>ï¼Œä½ åªéœ€æŠŠå®ƒä½œä¸ºå‚æ•°ä¼ é€’ç»™è¿‡å»</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; observer &#125; <span class="keyword">from</span> <span class="string">'mobx-react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; func, bool &#125; <span class="keyword">from</span> <span class="string">'prop-types'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./styles/Form.css'</span></span><br><span class="line">ExpandableForm.propTypes = &#123;</span><br><span class="line">  onSubmit: func.isRequired,</span><br><span class="line">  expanded: bool,</span><br><span class="line">  onExpand: func.isRequired</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ExpandableForm</span>(<span class="params">&#123; onExpand, expanded = false, children, onSubmit &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> formStyle = expanded ? &#123;<span class="attr">height</span>: <span class="string">'auto'</span>&#125; : &#123;<span class="attr">height</span>: <span class="number">0</span>&#125;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;form style=&#123;formStyle&#125; onSubmit=&#123;onSubmit&#125;&gt;</span><br><span class="line">      &#123;children&#125;</span><br><span class="line">      &lt;button onClick=&#123;onExpand&#125;&gt;Expand&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>form&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> observer(ExpandableForm)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ˜¯å®Œæ•´çš„ç»„ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; observer &#125; <span class="keyword">from</span> <span class="string">'mobx-react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; func, bool &#125; <span class="keyword">from</span> <span class="string">'prop-types'</span></span><br><span class="line"><span class="comment">// Separate local imports from dependencies</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'./styles/Form.css'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Declare propTypes here, before the component (taking advantage of JS function hoisting)</span></span><br><span class="line"><span class="comment">// You want these to be as visible as possible</span></span><br><span class="line">ExpandableForm.propTypes = &#123;</span><br><span class="line">  onSubmit: func.isRequired,</span><br><span class="line">  expanded: bool,</span><br><span class="line">  onExpand: func.isRequired</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Destructure props like so, and use default arguments as a way of setting defaultProps</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ExpandableForm</span>(<span class="params">&#123; onExpand, expanded = false, children, onSubmit &#125;</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> formStyle = expanded ? &#123; <span class="attr">height</span>: <span class="string">'auto'</span> &#125; : &#123; <span class="attr">height</span>: <span class="number">0</span> &#125;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;form style=&#123;formStyle&#125; onSubmit=&#123;onSubmit&#125;&gt;</span><br><span class="line">      &#123;children&#125;</span><br><span class="line">      &lt;button onClick=&#123;onExpand&#125;&gt;Expand&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>form&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Wrap the component instead of decorating it</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> observer(ExpandableForm)</span><br></pre></td></tr></table></figure><h2 id="JSX-ä¸­çš„æ¡ä»¶åˆ¤æ–­"><a href="#JSX-ä¸­çš„æ¡ä»¶åˆ¤æ–­" class="headerlink" title="JSX ä¸­çš„æ¡ä»¶åˆ¤æ–­"></a>JSX ä¸­çš„æ¡ä»¶åˆ¤æ–­</h2><p>ä½ å¯èƒ½ä¼šæœ‰å¾ˆå¤æ‚çš„æ¡ä»¶åˆ¤æ–­è¯­å¥ï¼Œä½†æ˜¯ä½ è¦é¿å…ä¸‹é¢çš„å†™æ³•ï¼š</p><p><img src="/images/best-practices-for-writing-react-components/2.png" alt="img"></p><p>åµŒå¥—çš„ä¸‰å…ƒè¡¨è¾¾å¼ä¸æ˜¯ä¸€ä¸ªå¥½çš„æ–¹æ³•ï¼Œå¤ªéš¾é˜…è¯»äº†</p><p>æœ‰ä¸€äº›åº“å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜(<a href="https://github.com/AlexGilleran/jsx-control-statements" target="_blank" rel="noopener">jsx-control-statements</a>)ï¼Œä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰å¼•å…¥å…¶ä»–çš„åº“ï¼Œæˆ‘ä»¬æ˜¯è¿™ä¹ˆè§£å†³çš„ï¼š</p><p><img src="/images/best-practices-for-writing-react-components/3.png" alt="img"></p><p>æˆ‘ä»¬ä½¿ç”¨äº† <a href="https://stackoverflow.com/questions/8228281/what-is-the-function-construct-in-javascript" target="_blank" rel="noopener">ç«‹å³æ‰§è¡Œå‡½æ•°</a> æŠŠæ¡ä»¶è¯­å¥å†™åœ¨é‡Œé¢ï¼Œè™½ç„¶è¿™æ ·å¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™ï¼Œä½†æ˜¯åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå®ƒå¸¦æ¥çš„è´Ÿé¢å½±å“è¿˜æ˜¯å°äºç³Ÿç³•çš„å¯è¯»æ€§ã€‚</p><p>å½“ç„¶å¦‚æœç»„ä»¶åˆ†çš„è¶³å¤Ÿç»†ï¼Œä½ å¯èƒ½ä¸ä¼šç”¨åˆ°è¿™ä¹ˆå¤æ‚çš„æ¡ä»¶åˆ¤æ–­ã€‚</p><p>æ­¤å¤–ï¼Œå¦‚æœä½ åªåœ¨ä¸€ä¸ªè¡¨è¾¾å¼é‡Œé¢å»æ¸²æŸ“ç»„ä»¶ï¼Œé¿å…è¿™ä¹ˆåšï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  isTrue</span><br><span class="line">   ? &lt;p&gt;True!&lt;/p&gt;</span><br><span class="line">   : &lt;none/&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½ å¯ä»¥ä½¿ç”¨çŸ­è·¯è¯­æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  isTrue &amp;&amp; </span><br><span class="line">    &lt;p&gt;True!&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©å—ï¼Ÿè¯·åœ¨è¯„è®ºåŒºç»™å‡ºä½ çš„æ„è§å’Œå»ºè®®ï¼Œæ„Ÿè°¢é˜…è¯»ï¼</p><p><a href="https://engineering.musefind.com/our-best-practices-for-writing-react-components-dec3eb5c3fc8" target="_blank" rel="noopener">åŸæ–‡é“¾æ¥</a>ï¼Œå¦å¤–æ¨èä¸€ä¸ªæˆ‘å‰é˜µå­å†™çš„ä¸€ä¸ªè„šæ‰‹æ¶ <a href="https://github.com/wenpengfei/parcel-typescript-react-boilerplate" target="_blank" rel="noopener">parcel-typescript-react-boilerplate</a>ï¼Œè¯·ç»™å‡ºæ„è§å’Œå»ºè®®ï¼Œç›¸äº’å­¦ä¹ ã€‚é¡ºä¾¿ç»™ä¸ªæ˜Ÿï¼Œè°¢è°¢~~ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;/images/best-practices-for-writing-react-components/1.png&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;
&lt;p&gt;åˆšæ¥è§¦ &lt;code&gt;React&lt;/code&gt; çš„æ—¶å€™ï¼Œåœ¨ä¸€ä¸ªåˆä¸€ä¸ªçš„æ•™ç¨‹ä¸Šé¢çœ‹åˆ°å¾ˆå¤šç§ç¼–å†™ç»„ä»¶çš„æ–¹æ³•
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨Parcelã€Typescriptã€Mobxæ’¸ä¸€ä¸ªç®€å•çš„Reactè„šæ‰‹æ¶</title>
    <link href="https://catwen.cn/2018/01/15/typescript-parcel-react-mobx/"/>
    <id>https://catwen.cn/2018/01/15/typescript-parcel-react-mobx/</id>
    <published>2018-01-15T09:29:20.000Z</published>
    <updated>2021-12-18T15:50:15.704Z</updated>
    
    <content type="html"><![CDATA[<p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/wenpengfei/parcel-typescript-react-boilerplate" target="_blank" rel="noopener">parcel-typescript-react-boilerplate</a> æ¬¢è¿æ‰¹è¯„æŒ‡æ­£ï¼Œé¡ºæ‰‹ç‚¹ä¸ªæ˜Ÿå‘—ï¼Œå¦å¤–èµ é€ä¸€ä¸ªä»£ç ç”Ÿæˆå™¨ï¼Œæ ¹æ®è¡¨ç»“æ„ç”Ÿæˆ<code>å•è¡¨</code>çš„CURDé¡µé¢ï¼Œç„¶åæ ¹æ®å®é™…çš„ä¸šåŠ¡æ‰‹åŠ¨ä¿®æ”¹å³å¯ï¼š<a href="https://github.com/wenpengfei/react-admin-generator" target="_blank" rel="noopener">react-admin-generator</a></p><h2 id="Parcel"><a href="#Parcel" class="headerlink" title="Parcel"></a>Parcel</h2><p>2017å¹´åº•ç»™å¼€å‘è€…æœ€å¤§çš„æƒŠå–œé <code>Parcel</code> è«å±äº†ï¼Œä½¿ç”¨è¿‡ <code>Webpack</code> çš„åŒå­¦éƒ½ä¼šæœ‰é…ç½®å¤ªè¿‡å¤æ‚çš„æ„Ÿå—ï¼Œç”šè‡³ <code>Webpack</code> çš„ç»´æŠ¤è€…æœ‰æ—¶å€™åšé¡¹ç›®ä¹Ÿä¼š <code>copy</code> ä¸€äº›å¸¸ç”¨çš„é…ç½®ã€‚å¦‚æœä½¿ç”¨ <code>Parcel</code>ï¼Œä»…ä»…å®šä¹‰å¥½ index.htmlã€index.jså’Œindex.css å®ƒå°±ä¼šä¸ºæˆ‘ä»¬åšå¥½ä¸€åˆ‡çš„æ‰“åŒ…å·¥ä½œï¼Œå°±åƒæ²¡æœ‰ä½¿ç”¨è¿‡ä»»ä½•æ‰“åŒ…å·¥å…·ä¸€æ ·ï¼Œè¿™æ ·å°±å¾ˆèˆ’æœã€‚</p><p><code>Webpack</code> è™½ç„¶å¤æ‚ï¼Œä½†æ˜¯å¾ˆçµæ´»ï¼ŒåŠŸèƒ½å¾ˆå…¨ï¼Œ<code>Parcel</code> ä¹Ÿéœ€è¦ä¸ºé›¶é…ç½®ä»˜å‡ºå¾ˆå¤šä»£ä»·ï¼Œæˆ‘ä»¬æœŸå¾…å®ƒæ›´åŠ å®Œå–„ã€‚</p><h2 id="Mobx"><a href="#Mobx" class="headerlink" title="Mobx"></a>Mobx</h2><p>çŠ¶æ€ç®¡ç†æ˜¯å‰ç«¯å¼€å‘å¾ˆé‡è¦çš„ä¸€ä¸ªè¯é¢˜ï¼Œåœ¨å¼€å‘ <code>React</code> åº”ç”¨çš„æ—¶å€™é»˜è®¤çš„çŠ¶æ€ç®¡ç†è‚¯å®šä¼šé€‰æ‹© <code>Redux</code> äº†ï¼Œä½†æ˜¯æˆ‘é€‰æ‹©ä½¿ç”¨ <code>Mobx</code>ï¼Œ<code>Redux</code> å—åˆ°å‡½æ•°å¼ç¼–ç¨‹çš„å½±å“ï¼Œä½†å¾ˆå¤šäººéƒ½æœ‰é¢å‘å¯¹è±¡è¯­è¨€çš„èƒŒæ™¯ï¼Œåœ¨åˆšå¼€å§‹çš„æ—¶å€™å¾ˆéš¾é€‚åº”å‡½æ•°å¼ç¼–ç¨‹çš„åŸåˆ™ã€‚æ‰€ä»¥ <code>Mobx</code> å¯¹åˆå­¦è€…æ›´åŠ å‹å¥½ã€‚</p><p><code>Mobx</code> çš„åŸåˆ™å¾ˆç®€å•ï¼šä»»ä½•æºè‡ªåº”ç”¨çŠ¶æ€çš„ä¸œè¥¿éƒ½åº”è¯¥è‡ªåŠ¨åœ°è·å¾—ã€‚æ€ä¹ˆç†è§£ï¼Ÿæ¯”å¦‚æˆ‘æœ‰ä¸€ä¸ªå˜é‡ <code>a</code>ï¼Œæˆ‘çš„åº”ç”¨è®¢é˜…äº†è¿™ä¸ªå˜é‡ï¼Œå½“ <code>a</code> æ”¹å˜çš„æ—¶å€™æˆ‘çš„åº”ç”¨ä¼šè‡ªåŠ¨æ”¶åˆ°æœ€æ–°çš„å€¼ã€‚åœ¨ <code>React</code> ä¸­çš„è¿™ä¸ªå˜é‡å°±æ˜¯ <code>state</code>ï¼Œå½“ <code>state</code> æ”¹å˜ï¼Œ<code>mobx-react</code> å°±ä¼šé‡æ–°æ¸²æŸ“è§†å›¾ã€‚</p><h2 id="æŠ€æœ¯æ ˆ"><a href="#æŠ€æœ¯æ ˆ" class="headerlink" title="æŠ€æœ¯æ ˆ"></a>æŠ€æœ¯æ ˆ</h2><h3 id="æ ¸å¿ƒåº“"><a href="#æ ¸å¿ƒåº“" class="headerlink" title="æ ¸å¿ƒåº“"></a>æ ¸å¿ƒåº“</h3><ul><li><a href="https://www.typescriptlang.org/" target="_blank" rel="noopener">typescript</a></li><li><a href="https://reactjs.org/" target="_blank" rel="noopener">react@v16</a></li><li><a href="https://reacttraining.com/react-router/" target="_blank" rel="noopener">react-router@v4</a></li><li><a href="https://mobx.js.org/index.html" target="_blank" rel="noopener">mobx</a></li><li><a href="https://github.com/mobxjs/mobx-react" target="_blank" rel="noopener">mobx-react</a></li></ul><h3 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h3><ul><li><a href="https://parceljs.org" target="_blank" rel="noopener">parcel</a></li><li><a href="https://palantir.github.io/tslint/" target="_blank" rel="noopener">tslint</a></li><li><a href="https://stylelint.io/" target="_blank" rel="noopener">stylelint</a></li></ul><h2 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€â”€ src</span><br><span class="line">â”‚   â”œâ”€â”€ app.scss</span><br><span class="line">â”‚   â”œâ”€â”€ app.tsx                      # å…¥å£æ–‡ä»¶</span><br><span class="line">â”‚   â”œâ”€â”€ pages.tsx                    # æ¨¡æ¿é¡µ</span><br><span class="line">â”‚   â”œâ”€â”€ routes.ts                    # èœå•</span><br><span class="line">â”‚   â”œâ”€â”€ assets                       # èµ„æºæ–‡ä»¶</span><br><span class="line">â”‚   â”‚   â””â”€â”€ logo.svg</span><br><span class="line">â”‚   â”œâ”€â”€ components                   # ç»„ä»¶ç›®å½•</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ content-container        # é¡µé¢containerï¼Œå®šä¹‰äº†æ·¡å…¥åŠ¨ç”»</span><br><span class="line">â”‚   â”‚   â”‚   â””â”€â”€ index.tsx   </span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ index.tsx                # components å…¥å£æ–‡ä»¶</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ layout                   # å¸ƒå±€é¡µ</span><br><span class="line">â”‚   â”‚   â”‚   â”œâ”€â”€ index.scss</span><br><span class="line">â”‚   â”‚   â”‚   â””â”€â”€ index.tsx</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ login-form               # ç™»é™†ç»„ä»¶</span><br><span class="line">â”‚   â”‚   â”‚   â”œâ”€â”€ index.scss</span><br><span class="line">â”‚   â”‚   â”‚   â””â”€â”€ index.tsx</span><br><span class="line">â”‚   â”‚   â””â”€â”€ router-link</span><br><span class="line">â”‚   â”‚       â””â”€â”€ index.tsx</span><br><span class="line">â”‚   â”œâ”€â”€ service                      # api</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ base.ts</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ index.ts                 # api å…¥å£æ–‡ä»¶</span><br><span class="line">â”‚   â”‚   â””â”€â”€ user</span><br><span class="line">â”‚   â”‚       â””â”€â”€ index.ts</span><br><span class="line">â”‚   â”œâ”€â”€ stores                       # mobx store</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ app</span><br><span class="line">â”‚   â”‚   â”‚   â””â”€â”€ index.ts</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ base.ts</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ index.ts                 # store å…¥å£æ–‡ä»¶ </span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ member</span><br><span class="line">â”‚   â”‚   â”‚   â””â”€â”€ index.ts</span><br><span class="line">â”‚   â”‚   â””â”€â”€ user</span><br><span class="line">â”‚   â”‚       â””â”€â”€ index.ts</span><br><span class="line">â”‚   â”œâ”€â”€ utils                        # å·¥å…·ç±»</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ auth.ts</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ fetch.ts</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ index.ts                 # å·¥å…·ç±»å…¥å£æ–‡ä»¶</span><br><span class="line">â”‚   â”‚   â””â”€â”€ validator.ts</span><br><span class="line">â”‚   â””â”€â”€ views                        # é¡µé¢</span><br><span class="line">â”‚       â”œâ”€â”€ index.ts</span><br><span class="line">â”‚       â”œâ”€â”€ login</span><br><span class="line">â”‚       â”‚   â””â”€â”€ index.tsx</span><br><span class="line">â”‚       â”œâ”€â”€ member</span><br><span class="line">â”‚       â”‚   â””â”€â”€ index.tsx</span><br><span class="line">â”‚       â”œâ”€â”€ not-found</span><br><span class="line">â”‚       â”‚   â””â”€â”€ index.tsx</span><br><span class="line">â”‚       â””â”€â”€ user</span><br><span class="line">â”‚           â”œâ”€â”€ add.tsx</span><br><span class="line">â”‚           â”œâ”€â”€ edit.tsx</span><br><span class="line">â”‚           â”œâ”€â”€ form.tsx</span><br><span class="line">â”‚           â”œâ”€â”€ index.tsx</span><br><span class="line">â”‚           â”œâ”€â”€ list.tsx</span><br><span class="line">â”‚           â””â”€â”€ table.tsx</span><br><span class="line">â”œâ”€â”€ index.html</span><br><span class="line">â”œâ”€â”€ tsconfig.json</span><br><span class="line">â”œâ”€â”€ tslint.json</span><br><span class="line">â”œâ”€â”€ yarn-error.log</span><br><span class="line">â””â”€â”€ yarn.lock</span><br><span class="line">â”œâ”€â”€ README.md</span><br><span class="line">â”œâ”€â”€ package.json</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;é¡¹ç›®åœ°å€ï¼š&lt;a href=&quot;https://github.com/wenpengfei/parcel-typescript-react-boilerplate&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;parcel-typescript-react-b
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Javascriptä»£ç æ®µåˆé›†</title>
    <link href="https://catwen.cn/2017/12/19/30-seconds-of-code/"/>
    <id>https://catwen.cn/2017/12/19/30-seconds-of-code/</id>
    <published>2017-12-19T11:06:23.000Z</published>
    <updated>2021-12-18T15:50:15.704Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/30-seconds-of-code/1.png" alt="img"></p><blockquote><p>èŠ±30ç§’æˆ–è€…æ›´çŸ­çš„æ—¶é—´å°±èƒ½ç†è§£çš„Javascriptä»£ç æ®µ</p></blockquote><ul><li>å¯ä»¥ä½¿ç”¨<code>Ctrl + F</code> æˆ–è€… <code>command + F</code>æœç´¢</li><li>ä»£ç æ®µä½¿ç”¨ES6ç¼–å†™ï¼Œä½¿ç”¨ <a href="https://babeljs.io/" target="_blank" rel="noopener">Babel transpiler</a> ä¿è¯å…¼å®¹.</li><li>ä½œè€…åœ¨æŒç»­æ›´æ–°<a href="https://github.com/Chalarangelo/30-seconds-of-code" target="_blank" rel="noopener">ä¼ é€é—¨</a></li></ul><h2 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h2><h3 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h3><ul><li><a href="#arrayMax"><code>arrayMax</code></a></li><li><a href="#arrayMin"><code>arrayMin</code></a></li><li><a href="#chunk"><code>chunk</code></a></li><li><a href="#compact"><code>compact</code></a></li><li><a href="#countOccurrences"><code>countOccurrences</code></a></li><li><a href="#deepFlatten"><code>deepFlatten</code></a></li><li><a href="#difference"><code>difference</code></a></li><li><a href="#distinctValuesOfArray"><code>distinctValuesOfArray</code></a></li><li><a href="#dropElements"><code>dropElements</code></a></li><li><a href="#everyNth"><code>everyNth</code></a></li><li><a href="#filterNonUnique"><code>filterNonUnique</code></a></li><li><a href="#flatten"><code>flatten</code></a></li><li><a href="#flattenDepth"><code>flattenDepth</code></a></li><li><a href="#groupBy"><code>groupBy</code></a></li><li><a href="#head"><code>head</code></a></li><li><a href="#initial"><code>initial</code></a></li><li><a href="#initializeArrayWithRange"><code>initializeArrayWithRange</code></a></li><li><a href="#initializeArrayWithValues"><code>initializeArrayWithValues</code></a></li><li><a href="#intersection"><code>intersection</code></a></li><li><a href="#last"><code>last</code></a></li><li><a href="#mapObject"><code>mapObject</code></a></li><li><a href="#nthElement"><code>nthElement</code></a></li><li><a href="#pick"><code>pick</code></a></li><li><a href="#pull"><code>pull</code></a></li><li><a href="#remove"><code>remove</code></a></li><li><a href="#sample"><code>sample</code></a></li><li><a href="#shuffle"><code>shuffle</code></a></li><li><a href="#similarity"><code>similarity</code></a></li><li><a href="#symmetricDifference"><code>symmetricDifference</code></a></li><li><a href="#tail"><code>tail</code></a></li><li><a href="#take"><code>take</code></a></li><li><a href="#takeRight"><code>takeRight</code></a></li><li><a href="#union"><code>union</code></a></li><li><a href="#without"><code>without</code></a></li><li><a href="#zip"><code>zip</code></a></li></ul><h3 id="Browser"><a href="#Browser" class="headerlink" title="Browser"></a>Browser</h3><ul><li><a href="#bottomVisible"><code>bottomVisible</code></a></li><li><a href="#currentURL"><code>currentURL</code></a></li><li><a href="#elementIsVisibleInViewport"><code>elementIsVisibleInViewport</code></a></li><li><a href="#getScrollPosition"><code>getScrollPosition</code></a></li><li><a href="#getURLParameters"><code>getURLParameters</code></a></li><li><a href="#redirect"><code>redirect</code></a></li><li><a href="#scrollToTop"><code>scrollToTop</code></a></li></ul><h3 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h3><ul><li><a href="#getDaysDiffBetweenDates"><code>getDaysDiffBetweenDates</code></a></li><li><a href="#JSONToDate"><code>JSONToDate</code></a></li><li><a href="#toEnglishDate"><code>toEnglishDate</code></a></li></ul><h3 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h3><ul><li><a href="#chainAsync"><code>chainAsync</code></a></li><li><a href="#compose"><code>compose</code></a></li><li><a href="#curry"><code>curry</code></a></li><li><a href="#functionName"><code>functionName</code></a></li><li><a href="#pipe"><code>pipe</code></a></li><li><a href="#promisify"><code>promisify</code></a></li><li><a href="#runPromisesInSeries"><code>runPromisesInSeries</code></a></li><li><a href="#sleep"><code>sleep</code></a></li></ul><h3 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h3><ul><li><a href="#arrayAverage"><code>arrayAverage</code></a></li><li><a href="#arraySum"><code>arraySum</code></a></li><li><a href="#collatz"><code>collatz</code></a></li><li><a href="#digitize"><code>digitize</code></a></li><li><a href="#distance"><code>distance</code></a></li><li><a href="#factorial"><code>factorial</code></a></li><li><a href="#fibonacci"><code>fibonacci</code></a></li><li><a href="#gcd"><code>gcd</code></a></li><li><a href="#hammingDistance"><code>hammingDistance</code></a></li><li><a href="#isDivisible"><code>isDivisible</code></a></li><li><a href="#isEven"><code>isEven</code></a></li><li><a href="#lcm"><code>lcm</code></a></li><li><a href="#median"><code>median</code></a></li><li><a href="#palindrome"><code>palindrome</code></a></li><li><a href="#percentile"><code>percentile</code></a></li><li><a href="#powerset"><code>powerset</code></a></li><li><a href="#randomIntegerInRange"><code>randomIntegerInRange</code></a></li><li><a href="#randomNumberInRange"><code>randomNumberInRange</code></a></li><li><a href="#round"><code>round</code></a></li><li><a href="#standardDeviation"><code>standardDeviation</code></a></li></ul><h3 id="Media"><a href="#Media" class="headerlink" title="Media"></a>Media</h3><ul><li><a href="#speechSynthesis"><code>speechSynthesis</code></a></li></ul><h3 id="Node"><a href="#Node" class="headerlink" title="Node"></a>Node</h3><ul><li><a href="#JSONToFile"><code>JSONToFile</code></a></li><li><a href="#readFileLines"><code>readFileLines</code></a></li></ul><h3 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h3><ul><li><a href="#cleanObj"><code>cleanObj</code></a></li><li><a href="#objectFromPairs"><code>objectFromPairs</code></a></li><li><a href="#objectToPairs"><code>objectToPairs</code></a></li><li><a href="#shallowClone"><code>shallowClone</code></a></li><li><a href="#truthCheckCollection"><code>truthCheckCollection</code></a></li></ul><h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><ul><li><a href="#anagrams"><code>anagrams</code></a></li><li><a href="#capitalize"><code>capitalize</code></a></li><li><a href="#capitalizeEveryWord"><code>capitalizeEveryWord</code></a></li><li><a href="#escapeRegExp"><code>escapeRegExp</code></a></li><li><a href="#fromCamelCase"><code>fromCamelCase</code></a></li><li><a href="#reverseString"><code>reverseString</code></a></li><li><a href="#sortCharactersInString"><code>sortCharactersInString</code></a></li><li><a href="#toCamelCase"><code>toCamelCase</code></a></li><li><a href="#truncateString"><code>truncateString</code></a></li></ul><h3 id="Utility"><a href="#Utility" class="headerlink" title="Utility"></a>Utility</h3><ul><li><a href="#coalesce"><code>coalesce</code></a></li><li><a href="#coalesceFactory"><code>coalesceFactory</code></a></li><li><a href="#extendHex"><code>extendHex</code></a></li><li><a href="#getType"><code>getType</code></a></li><li><a href="#hexToRGB"><code>hexToRGB</code></a></li><li><a href="#isArray"><code>isArray</code></a></li><li><a href="#isBoolean"><code>isBoolean</code></a></li><li><a href="#isFunction"><code>isFunction</code></a></li><li><a href="#isNumber"><code>isNumber</code></a></li><li><a href="#isString"><code>isString</code></a></li><li><a href="#isSymbol"><code>isSymbol</code></a></li><li><a href="#RGBToHex"><code>RGBToHex</code></a></li><li><a href="#timeTaken"><code>timeTaken</code></a></li><li><a href="#toOrdinalSuffix"><code>toOrdinalSuffix</code></a></li><li><a href="#UUIDGenerator"><code>UUIDGenerator</code></a></li><li><a href="#validateEmail"><code>validateEmail</code></a></li><li><a href="#validateNumber"><code>validateNumber</code></a></li></ul><h2 id="Array-1"><a href="#Array-1" class="headerlink" title="Array"></a>Array</h2><h3 id="arrayMax"><a href="#arrayMax" class="headerlink" title="arrayMax"></a>arrayMax</h3><p>è¿”å›æ•°ç»„ä¸­çš„æœ€å¤§å€¼.</p><p>ä½¿ç”¨ <code>Math.max()</code> é…åˆå±•å¼€æ“ä½œç¬¦ (<code>...</code>) å¾—åˆ°æ•°ç»„ä¸­çš„æœ€å¤§å€¼.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arrayMax = <span class="function"><span class="params">arr</span> =&gt;</span> <span class="built_in">Math</span>.max(...arr);</span><br><span class="line"><span class="comment">// arrayMax([10, 1, 5]) -&gt; 10</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="arrayMin"><a href="#arrayMin" class="headerlink" title="arrayMin"></a>arrayMin</h3><p>è¿”å›æ•°ç»„ä¸­çš„æœ€å°å€¼.</p><p>ä½¿ç”¨ <code>Math.min()</code> é…åˆå±•å¼€æ“ä½œç¬¦ (<code>...</code>) å¾—åˆ°æ•°ç»„ä¸­çš„æœ€å°å€¼.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arrayMin = <span class="function"><span class="params">arr</span> =&gt;</span> <span class="built_in">Math</span>.min(...arr);</span><br><span class="line"><span class="comment">// arrayMin([10, 1, 5]) -&gt; 1</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="chunk"><a href="#chunk" class="headerlink" title="chunk"></a>chunk</h3><p>å°†ä¸€ä¸ªæ•°ç»„åˆ†å‰²æˆå‡ ä¸ªæ•°ç»„æ®µ.</p><p>ä½¿ç”¨ <code>Array.from()</code> åˆ›å»ºä¸€ä¸ªé€‚åˆå®ƒé•¿åº¦çš„æ–°çš„æ•°ç»„<br>ä½¿ç”¨ <code>Array.slice()</code> åˆ†å‰²ä¸ºæŒ‡å®š <code>size</code> é•¿åº¦çš„æ•°ç»„æ®µ<br>å¦‚æœæŒ‡å®šçš„æ•°ç»„ä¸èƒ½è¢«å¹³å‡åˆ†å‰²ï¼Œæœ€åçš„å—å°†åŒ…å«å‰©ä½™çš„å…ƒç´ ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> chunk = <span class="function">(<span class="params">arr, size</span>) =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="built_in">Math</span>.ceil(arr.length / size)&#125;, (v, i) =&gt; arr.slice(i * size, i * size + size));</span><br><span class="line"><span class="comment">// chunk([1,2,3,4,5], 2) -&gt; [[1,2],[3,4],[5]]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="compact"><a href="#compact" class="headerlink" title="compact"></a>compact</h3><p>ç§»é™¤æ•°ç»„ä¸­çš„éçœŸå€¼</p><p>ä½¿ç”¨ <code>Array.filter()</code> è¿‡æ»¤éçœŸå€¼ (<code>false</code>, <code>null</code>, <code>0</code>, <code>&quot;&quot;</code>, <code>undefined</code>, å’Œ <code>NaN</code>).</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> compact = <span class="function">(<span class="params">arr</span>) =&gt;</span> arr.filter(<span class="built_in">Boolean</span>);</span><br><span class="line"><span class="comment">// compact([0, 1, false, 2, '', 3, 'a', 'e'*23, NaN, 's', 34]) -&gt; [ 1, 2, 3, 'a', 's', 34 ]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="countOccurrences"><a href="#countOccurrences" class="headerlink" title="countOccurrences"></a>countOccurrences</h3><p>è®¡ç®—å…ƒç´ å‡ºç°çš„æ¬¡æ•°.</p><p>ä½¿ç”¨ <code>Array.reduce()</code> è®¡ç®—æŒ‡å®šå…ƒç´ åœ¨æ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> countOccurrences = <span class="function">(<span class="params">arr, value</span>) =&gt;</span> arr.reduce(<span class="function">(<span class="params">a, v</span>) =&gt;</span> v === value ? a + <span class="number">1</span> : a + <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line"><span class="comment">// countOccurrences([1,1,2,1,2,3], 1) -&gt; 3</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="deepFlatten"><a href="#deepFlatten" class="headerlink" title="deepFlatten"></a>deepFlatten</h3><p>æ·±åº¦é™ç»´</p><p>ä½¿ç”¨é€’å½’.<br>ä½¿ç”¨ <code>Array.concat()</code> å’Œä¸€ä¸ªç©ºæ•°ç»„ (<code>[]</code>) è¿˜æœ‰å±•å¼€è¿ç®—ç¬¦ (<code>...</code>) é™ç»´ä¸€ä¸ªå¤šç»´æ•°ç»„.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> deepFlatten = <span class="function"><span class="params">arr</span> =&gt;</span> [].concat(...arr.map(<span class="function"><span class="params">v</span> =&gt;</span> <span class="built_in">Array</span>.isArray(v) ? deepFlatten(v) : v));</span><br><span class="line"><span class="comment">// deepFlatten([1,[2],[[3],4],5]) -&gt; [1,2,3,4,5]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="difference"><a href="#difference" class="headerlink" title="difference"></a>difference</h3><p>è¿”å›ä¸¤ä¸ªæ•°ç»„çš„å·®é›†</p><p>åˆ›å»ºä¸€ä¸ª <code>b</code> çš„ <code>Set</code>, ç„¶åä½¿ç”¨ <code>Array.filter()</code> æŸ¥æ‰¾ <code>a</code> ä¸­ä¸åŒ…å« <code>b</code>çš„å…ƒç´ .</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> difference = <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123; <span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>(b); <span class="keyword">return</span> a.filter(<span class="function"><span class="params">x</span> =&gt;</span> !s.has(x)); &#125;;</span><br><span class="line"><span class="comment">// difference([1,2,3], [1,2,4]) -&gt; [3]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="distinctValuesOfArray"><a href="#distinctValuesOfArray" class="headerlink" title="distinctValuesOfArray"></a>distinctValuesOfArray</h3><p>è¿”å›æ•°ç»„ä¸­ä¸é‡å¤çš„å…ƒç´ </p><p>ä½¿ç”¨ ES6çš„ <code>Set</code> å’Œå±•å¼€è¿ç®—ç¬¦ <code>...rest</code> è¿‡æ»¤é‡å¤çš„å…ƒç´ .</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> distinctValuesOfArray = <span class="function"><span class="params">arr</span> =&gt;</span> [...new <span class="built_in">Set</span>(arr)];</span><br><span class="line"><span class="comment">// distinctValuesOfArray([1,2,2,3,4,4,5]) -&gt; [1,2,3,4,5]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="dropElements"><a href="#dropElements" class="headerlink" title="dropElements"></a>dropElements</h3><p>ç»™å‡½æ•°ä¼ é€’ä¸€ä¸ªè¡¨è¾¾å¼å’Œæ•°ç»„ï¼Œåªä¿ç•™è¡¨è¾¾å¼ä¸ºtrueçš„å…ƒç´ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dropElements = <span class="function">(<span class="params">arr, func</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">while</span> (arr.length &gt; <span class="number">0</span> &amp;&amp; !func(arr[<span class="number">0</span>])) arr.shift();</span><br><span class="line">  <span class="keyword">return</span> arr;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// dropElements([1, 2, 3, 4], n =&gt; n &gt;= 3) -&gt; [3,4]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="everyNth"><a href="#everyNth" class="headerlink" title="everyNth"></a>everyNth</h3><p>è¿”å›æ•°ç»„ä¸­æ¯ä¸€ä¸ªç¬¬nçš„å…ƒç´ .</p><p>ä½¿ç”¨ <code>Array.filter()</code> è¿”å›æ¯ä¸€ä¸ªç¬¬nçš„å…ƒç´ .</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> everyNth = <span class="function">(<span class="params">arr, nth</span>) =&gt;</span> arr.filter(<span class="function">(<span class="params">e, i</span>) =&gt;</span> i % nth === <span class="number">0</span>);</span><br><span class="line"><span class="comment">// everyNth([1,2,3,4,5,6], 2) -&gt; [ 1, 3, 5 ]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="filterNonUnique"><a href="#filterNonUnique" class="headerlink" title="filterNonUnique"></a>filterNonUnique</h3><p>è¿‡æ»¤ä¸å”¯ä¸€çš„å…ƒç´ .</p><p>ä½¿ç”¨ <code>Array.filter()</code> åªä¿ç•™å”¯ä¸€çš„å…ƒç´ .</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> filterNonUnique = <span class="function"><span class="params">arr</span> =&gt;</span> arr.filter(<span class="function"><span class="params">i</span> =&gt;</span> arr.indexOf(i) === arr.lastIndexOf(i));</span><br><span class="line"><span class="comment">// filterNonUnique([1,2,2,3,4,4,5]) -&gt; [1,3,5]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="flatten"><a href="#flatten" class="headerlink" title="flatten"></a>flatten</h3><p>é™ç»´æ•°ç»„.</p><p>ä½¿ç”¨ <code>Array.reduce()</code> è·å–åˆ°æ¯ä¸€ä¸ªå…ƒç´ ç„¶åä½¿ç”¨ <code>concat()</code> é™ç»´.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> flatten = <span class="function"><span class="params">arr</span> =&gt;</span> arr.reduce(<span class="function">(<span class="params">a, v</span>) =&gt;</span> a.concat(v), []);</span><br><span class="line"><span class="comment">// flatten([1,[2],3,4]) -&gt; [1,2,3,4]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="flattenDepth"><a href="#flattenDepth" class="headerlink" title="flattenDepth"></a>flattenDepth</h3><p>æ ¹æ®æŒ‡å®šçš„æ·±åº¦é™ç»´æ•°ç»„.</p><p>ä½¿ç”¨é€’å½’ï¼Œä¸ºæ‰€æœ‰ç»´åº¦çš„æ•°ç»„é™ä½ä¸€ç»´.<br>ä½¿ç”¨ <code>Array.reduce()</code> å’Œ <code>Array.concat()</code> åˆå¹¶é™ç»´åçš„æ•°ç»„æˆ–å…ƒç´ .<br>æ­¤æ—¶å¦‚æœ <code>depth</code> ä¸º <code>1</code> åœæ­¢é€’å½’.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> flattenDepth = <span class="function">(<span class="params">arr, depth = <span class="number">1</span></span>) =&gt;</span></span><br><span class="line">  depth != <span class="number">1</span> ? arr.reduce(<span class="function">(<span class="params">a, v</span>) =&gt;</span> a.concat(<span class="built_in">Array</span>.isArray(v) ? flattenDepth(v, depth - <span class="number">1</span>) : v), [])</span><br><span class="line">  : arr.reduce(<span class="function">(<span class="params">a, v</span>) =&gt;</span> a.concat(v), []);</span><br><span class="line"><span class="comment">// flattenDepth([1,[2],[[[3],4],5]], 2) -&gt; [1,2,[3],4,5]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="groupBy"><a href="#groupBy" class="headerlink" title="groupBy"></a>groupBy</h3><p>æ ¹æ®æŒ‡å®šçš„è¡¨è¾¾å¼ä¸ºæ•°ç»„åˆ†ç»„</p><p>ä½¿ç”¨ <code>Array.map()</code> æ˜ å°„ä¸ºæ ¹æ®è¡¨è¾¾å¼æˆ–å±æ€§åå€¼è®¡ç®—åçš„æ•°ç»„<br>ä½¿ç”¨ <code>Array.reduce()</code> åˆ›å»ºä¸€ä¸ªé”®å€¼æ˜¯ä¸Šä¸€æ­¥mapå‡ºæ¥çš„ç»“æœï¼Œå€¼æ˜¯ç›¸å¯¹åº”çš„æ•°ç»„çš„å¯¹è±¡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> groupBy = <span class="function">(<span class="params">arr, func</span>) =&gt;</span></span><br><span class="line">  arr.map(<span class="keyword">typeof</span> func === <span class="string">'function'</span> ? func : <span class="function"><span class="params">val</span> =&gt;</span> val[func])</span><br><span class="line">    .reduce(<span class="function">(<span class="params">acc, val, i</span>) =&gt;</span> &#123; acc[val] = (acc[val] || []).concat(arr[i]); <span class="keyword">return</span> acc; &#125;, &#123;&#125;);</span><br><span class="line"><span class="comment">// groupBy([6.1, 4.2, 6.3], Math.floor) -&gt; &#123;4: [4.2], 6: [6.1, 6.3]&#125;</span></span><br><span class="line"><span class="comment">// groupBy(['one', 'two', 'three'], 'length') -&gt; &#123;3: ['one', 'two'], 5: ['three']&#125;</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="head"><a href="#head" class="headerlink" title="head"></a>head</h3><p>è¿”å›é›†åˆçš„ç¬¬ä¸€ä¸ªå…ƒç´ </p><p>ä½¿ç”¨ <code>arr[0]</code> è¿”å›ç»™å®šæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ .</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> head = <span class="function"><span class="params">arr</span> =&gt;</span> arr[<span class="number">0</span>];</span><br><span class="line"><span class="comment">// head([1,2,3]) -&gt; 1</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="initial"><a href="#initial" class="headerlink" title="initial"></a>initial</h3><p>è¿”å›ä¸€ä¸ªæ•°ç»„ä¸­é™¤å»æœ€åä¸€ä¸ªå…ƒç´ çš„å…¶ä»–å…ƒç´ .</p><p>ä½¿ç”¨ <code>arr.slice(0,-1)</code> è¿”å›é™¤å»æœ€åä¸€ä¸ªå…ƒç´ çš„å…¶ä»–å…ƒç´ .</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initial = <span class="function"><span class="params">arr</span> =&gt;</span> arr.slice(<span class="number">0</span>, <span class="number">-1</span>);</span><br><span class="line"><span class="comment">// initial([1,2,3]) -&gt; [1,2]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="initializeArrayWithRange"><a href="#initializeArrayWithRange" class="headerlink" title="initializeArrayWithRange"></a>initializeArrayWithRange</h3><p>åˆå§‹åŒ–ä¸€ä¸ªæŒ‡å®šèŒƒå›´çš„æ•°ç»„</p><p>ä½¿ç”¨ <code>Array(end-start)</code> åˆ›å»ºä¸€ä¸ªæœŸæœ›é•¿åº¦çš„æ•°ç»„, æ ¹æ®ç»™å®šçš„èŒƒå›´ä½¿ç”¨<code>Array.map()</code>å¡«å……æ•°ç»„.<br>å‚æ•°<code>start</code> é»˜è®¤å€¼ä¸º <code>0</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initializeArrayWithRange = <span class="function">(<span class="params">end, start = <span class="number">0</span></span>) =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>.from(&#123; <span class="attr">length</span>: end - start &#125;).map(<span class="function">(<span class="params">v, i</span>) =&gt;</span> i + start);</span><br><span class="line"><span class="comment">// initializeArrayWithRange(5) -&gt; [0,1,2,3,4]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="initializeArrayWithValues"><a href="#initializeArrayWithValues" class="headerlink" title="initializeArrayWithValues"></a>initializeArrayWithValues</h3><p>åˆå§‹åŒ–å¹¶ä¸”æ ¹æ®ç»™å®šçš„å€¼å¡«å……æ•°ç»„.</p><p>ä½¿ç”¨ <code>Array(n)</code> åˆ›å»ºä¸€ä¸ªæœŸæœ›é•¿åº¦çš„æ•°ç»„, æ ¹æ®ç»™å®šçš„å€¼ä½¿ç”¨ <code>fill(v)</code> å¡«å……æ•°ç»„.<br>å‚æ•° <code>value</code> é»˜è®¤å€¼ä¸º <code>0</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initializeArrayWithValues = <span class="function">(<span class="params">n, value = <span class="number">0</span></span>) =&gt;</span> <span class="built_in">Array</span>(n).fill(value);</span><br><span class="line"><span class="comment">// initializeArrayWithValues(5, 2) -&gt; [2,2,2,2,2]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="intersection"><a href="#intersection" class="headerlink" title="intersection"></a>intersection</h3><p>è¿”å›ä¸¤ä¸ªæ•°ç»„çš„äº¤é›†.</p><p>åˆ›å»ºä¸€ä¸ª <code>b</code> çš„ <code>Set</code>, ç„¶åä½¿ç”¨ <code>a</code> çš„ <code>Array.filter()</code> æŸ¥æ‰¾å« <code>b</code> å…ƒç´ .</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> intersection = <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123; <span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>(b); <span class="keyword">return</span> a.filter(<span class="function"><span class="params">x</span> =&gt;</span> s.has(x)); &#125;;</span><br><span class="line"><span class="comment">// intersection([1,2,3], [4,3,2]) -&gt; [2,3]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="last"><a href="#last" class="headerlink" title="last"></a>last</h3><p>è¿”å›æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ .</p><p>ä½¿ç”¨ <code>arr.length - 1</code> è®¡ç®—å‡ºæœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œç„¶åè¿”å›å®ƒçš„å€¼.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> last = <span class="function"><span class="params">arr</span> =&gt;</span> arr[arr.length - <span class="number">1</span>];</span><br><span class="line"><span class="comment">// last([1,2,3]) -&gt; 3</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="mapObject"><a href="#mapObject" class="headerlink" title="mapObject"></a>mapObject</h3><p>æ˜ å°„ä¸€ä¸ªæ•°ç»„ï¼Œç»“æœæ˜¯é”®å€¼ä¸ºä»–çš„æ¯ä¸€ä¸ªå…ƒç´ çš„å€¼ï¼Œå€¼ä¸ºç»™å®šè¡¨è¾¾å¼ç»“æœçš„å¯¹è±¡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mapObject = <span class="function">(<span class="params">arr, fn</span>) =&gt;</span> </span><br><span class="line">  (<span class="function"><span class="params">a</span> =&gt;</span> <span class="function">(<span class="params">a = [arr, arr.map(fn</span>)], <span class="params">a</span>[0].<span class="params">reduce</span>(<span class="params"> (acc,val,ind</span>) =&gt;</span> (acc[val] = a[<span class="number">1</span>][ind], acc), &#123;&#125;) )) ( );</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">const squareIt = arr =&gt; mapObject(arr, a =&gt; a*a)</span></span><br><span class="line"><span class="comment">squareIt([1,2,3]) // &#123; 1: 1, 2: 4, 3: 9 &#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="nthElement"><a href="#nthElement" class="headerlink" title="nthElement"></a>nthElement</h3><p>è¿”å›æ•°ç»„çš„ç¬¬nä¸ªå¯¹è±¡.</p><p>ä½¿ç”¨ <code>Array.slice()</code> è·å–æ»¡è¶³ç»™å®šæ¡ä»¶çš„æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ <br>å¦‚æœç»™å®šçš„ç´¢å¼•è¶…å‡ºèŒƒå›´ï¼Œè¿”å› <code>[]</code>.<br>å‚æ•° <code>n</code> é»˜è®¤ä¸ºç¬¬ä¸€ä¸ªå…ƒç´ </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> nthElement = <span class="function">(<span class="params">arr, n=<span class="number">0</span></span>) =&gt;</span> (n&gt;<span class="number">0</span>? arr.slice(n,n+<span class="number">1</span>) : arr.slice(n))[<span class="number">0</span>];</span><br><span class="line"><span class="comment">// nthElement(['a','b','c'],1) -&gt; 'b'</span></span><br><span class="line"><span class="comment">// nthElement(['a','b','b'],-3) -&gt; 'a'</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="pick"><a href="#pick" class="headerlink" title="pick"></a>pick</h3><p>è¿”å›å¯¹è±¡çš„ä¸€ä¸ªæ‹·è´ï¼Œè¿”å›çš„å¯¹è±¡åªå«æœ‰ç»™å®šçš„é”®çš„é”®å€¼å¯¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pick = <span class="function">(<span class="params">obj, arr</span>) =&gt;</span></span><br><span class="line">  arr.reduce(<span class="function">(<span class="params">acc, curr</span>) =&gt;</span> (curr <span class="keyword">in</span> obj &amp;&amp; (acc[curr] = obj[curr]), acc), &#123;&#125;);</span><br><span class="line"><span class="comment">// pick(&#123; 'a': 1, 'b': '2', 'c': 3 &#125;, ['a', 'c']) -&gt; &#123; 'a': 1, 'c': 3 &#125;</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="pull"><a href="#pull" class="headerlink" title="pull"></a>pull</h3><p>æŠ½å–æ•°ç»„ä¸­æŒ‡å®šçš„å…ƒç´ </p><p>ä½¿ç”¨ <code>Array.filter()</code> å’Œ <code>Array.includes()</code> æŠ½å‡ºä¸éœ€è¦çš„å…ƒç´ .<br>ä½¿ç”¨ <code>Array.length = 0</code> é‡ç½®æ•°ç»„å¹¶ä¸”ä½¿ç”¨ <code>Array.push()</code> é‡æ–°å¡«å……æŠ½å–åçš„æ•°ç»„.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pull = <span class="function">(<span class="params">arr, ...args</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> pulled = arr.filter(<span class="function">(<span class="params">v, i</span>) =&gt;</span> !args.includes(v));</span><br><span class="line">  arr.length = <span class="number">0</span>; pulled.forEach(<span class="function"><span class="params">v</span> =&gt;</span> arr.push(v));</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// let myArray = ['a', 'b', 'c', 'a', 'b', 'c'];</span></span><br><span class="line"><span class="comment">// pull(myArray, 'a', 'c');</span></span><br><span class="line"><span class="comment">// console.log(myArray) -&gt; [ 'b', 'b' ]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="remove"><a href="#remove" class="headerlink" title="remove"></a>remove</h3><p>ç§»é™¤æ•°ç»„ä¸­ç»™å®šè¡¨è¾¾å¼ä¸º <code>false</code>. çš„å€¼</p><p>ä½¿ç”¨ <code>Array.filter()</code> æ‰¾åˆ°è¡¨è¾¾å¼ä¸º <code>true</code> çš„å€¼ï¼Œç„¶åé€šè¿‡ <code>Array.reduce()</code> ä½¿ç”¨ <code>Array.splice()</code> ç§»é™¤.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> remove = <span class="function">(<span class="params">arr, func</span>) =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>.isArray(arr) ? arr.filter(func).reduce(<span class="function">(<span class="params">acc, val</span>) =&gt;</span> &#123;</span><br><span class="line">    arr.splice(arr.indexOf(val), <span class="number">1</span>); <span class="keyword">return</span> acc.concat(val);</span><br><span class="line">    &#125;, [])</span><br><span class="line">  : [];</span><br><span class="line"><span class="comment">// remove([1, 2, 3, 4], n =&gt; n % 2 == 0) -&gt; [2, 4]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="sample"><a href="#sample" class="headerlink" title="sample"></a>sample</h3><p>è¿”å›æ•°ç»„çš„ä¸€ä¸ªéšæœºå…ƒç´ </p><p>ä½¿ç”¨ <code>Math.random()</code> åˆ›å»ºä¸€ä¸ªéšæœºæ•°ï¼Œç„¶åå’Œ <code>length</code> ç›¸ä¹˜ä¹‹åé€šè¿‡ <code>Math.floor()</code> æ‰¾åˆ°ä¸€ä¸ªæœ€æ¥è¿‘çš„æ•°.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sample = <span class="function"><span class="params">arr</span> =&gt;</span> arr[<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * arr.length)];</span><br><span class="line"><span class="comment">// sample([3, 7, 9, 11]) -&gt; 9</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="shuffle"><a href="#shuffle" class="headerlink" title="shuffle"></a>shuffle</h3><p>æ‰“ä¹±æ•°ç»„ä¸­å€¼çš„é¡ºåº</p><p>ä½¿ç”¨ <code>Array.sort()</code> é‡æ–°æ’åº, ä½¿ç”¨ <code>Math.random() - 0.5</code> ä½œä¸º<code>compareFunction</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> shuffle = <span class="function"><span class="params">arr</span> =&gt;</span> arr.sort(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">Math</span>.random() - <span class="number">0.5</span>);</span><br><span class="line"><span class="comment">// shuffle([1,2,3]) -&gt; [2,3,1]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="similarity"><a href="#similarity" class="headerlink" title="similarity"></a>similarity</h3><p>è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„å€¼ä¸¤ä¸ªæ•°ç»„é‡Œé¢éƒ½å­˜åœ¨.</p><p>ä½¿ç”¨ <code>includes()</code> æ‰¾å‡º<code>values</code>ä¸å«æœ‰çš„å…ƒç´ ï¼Œä½¿ç”¨<code>filter()</code>ç§»é™¤.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> similarity = <span class="function">(<span class="params">arr, values</span>) =&gt;</span> arr.filter(<span class="function"><span class="params">v</span> =&gt;</span> values.includes(v));</span><br><span class="line"><span class="comment">// similarity([1,2,3], [1,2,4]) -&gt; [1,2]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="symmetricDifference"><a href="#symmetricDifference" class="headerlink" title="symmetricDifference"></a>symmetricDifference</h3><p>è¿”å›ä¸¤ä¸ªæ•°ç»„çš„å¯¹ç§°å·®å¼‚.</p><p>é€šè¿‡ä¸¤ä¸ªæ•°ç»„åˆ†åˆ«åˆ›å»º <code>Set</code>, ç„¶åä½¿ç”¨ <code>Array.filter()</code> æ‰¾å‡ºä¸åœ¨å¦å¤–ä¸€ä¸ªé›†åˆä¸­çš„å…ƒç´ .</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> symmetricDifference = <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> sA = <span class="keyword">new</span> <span class="built_in">Set</span>(a), sB = <span class="keyword">new</span> <span class="built_in">Set</span>(b);</span><br><span class="line">  <span class="keyword">return</span> [...a.filter(<span class="function"><span class="params">x</span> =&gt;</span> !sB.has(x)), ...b.filter(<span class="function"><span class="params">x</span> =&gt;</span> !sA.has(x))];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// symmetricDifference([1,2,3], [1,2,4]) -&gt; [3,4]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="tail"><a href="#tail" class="headerlink" title="tail"></a>tail</h3><p>è¿”å›æ•°ç»„ä¸­é™¤å»ç¬¬ä¸€ä¸ªå…ƒç´ çš„é›†åˆ</p><p>å¦‚æœæ•°ç»„<code>length</code> å¤§äº <code>1</code>, è¿”å› <code>arr.slice(1)</code> å¦åˆ™å°±è¿”å›æ•´ä¸ªæ•°ç»„.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> tail = <span class="function"><span class="params">arr</span> =&gt;</span> arr.length &gt; <span class="number">1</span> ? arr.slice(<span class="number">1</span>) : arr;</span><br><span class="line"><span class="comment">// tail([1,2,3]) -&gt; [2,3]</span></span><br><span class="line"><span class="comment">// tail([1]) -&gt; [1]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="take"><a href="#take" class="headerlink" title="take"></a>take</h3><p>è¿”å›å‰nä¸ªå…ƒç´ .</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> take = <span class="function">(<span class="params">arr, n = <span class="number">1</span></span>) =&gt;</span> arr.slice(<span class="number">0</span>, n);</span><br><span class="line"><span class="comment">// take([1, 2, 3], 5) -&gt; [1, 2, 3]</span></span><br><span class="line"><span class="comment">// take([1, 2, 3], 0) -&gt; []</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="takeRight"><a href="#takeRight" class="headerlink" title="takeRight"></a>takeRight</h3><p>è¿”å›ånä¸ªå…ƒç´ .</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> takeRight = <span class="function">(<span class="params">arr, n = <span class="number">1</span></span>) =&gt;</span> arr.slice(arr.length - n, arr.length);</span><br><span class="line"><span class="comment">// takeRight([1, 2, 3], 2) -&gt; [ 2, 3 ]</span></span><br><span class="line"><span class="comment">// takeRight([1, 2, 3]) -&gt; [3]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="union"><a href="#union" class="headerlink" title="union"></a>union</h3><p>åˆå¹¶ä¸¤ä¸ªé›†åˆï¼ˆç»“æœä¸å«é‡å¤å…ƒç´ ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> union = <span class="function">(<span class="params">a, b</span>) =&gt;</span> <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>([...a, ...b]));</span><br><span class="line"><span class="comment">// union([1,2,3], [4,3,2]) -&gt; [1,2,3,4]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="without"><a href="#without" class="headerlink" title="without"></a>without</h3><p>æ ¹æ®æŒ‡å®šçš„å€¼è¿‡æ»¤æ•°ç»„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> without = <span class="function">(<span class="params">arr, ...args</span>) =&gt;</span> arr.filter(<span class="function"><span class="params">v</span> =&gt;</span> !args.includes(v));</span><br><span class="line"><span class="comment">// without([2, 1, 2, 3], 1, 2) -&gt; [3]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="zip"><a href="#zip" class="headerlink" title="zip"></a>zip</h3><p>æ ¹æ®åŸå§‹æ•°ç»„çš„ä½ç½®æŠŠå¤šä¸ªæ•°ç»„å‹ç¼©</p><p>ä½¿ç”¨ <code>Math.max.apply()</code> è·å–è¾“å…¥æ•°ç»„ä¸­æœ€å¤§çš„é•¿åº¦ï¼Œæ ¹æ®è¿™ä¸ªé•¿åº¦ä½¿ç”¨<code>Array.from()</code>åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œä¹‹åæŠŠè¾“å…¥æ•°ç»„çš„æ˜ å°„å‹ç¼©åˆ°é‡Œé¢ï¼Œå¦‚æœæŸä¸ªæ•°ç»„ç¼ºå°‘å…ƒç´ ä½¿ç”¨<code>undefined</code>ä»£æ›¿</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> zip = <span class="function">(<span class="params">...arrays</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> maxLength = <span class="built_in">Math</span>.max(...arrays.map(<span class="function"><span class="params">x</span> =&gt;</span> x.length));</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: maxLength&#125;).map(<span class="function">(<span class="params">_, i</span>) =&gt;</span> &#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: arrays.length&#125;, (_, k) =&gt; arrays[k][i]);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//zip(['a', 'b'], [1, 2], [true, false]); -&gt; [['a', 1, true], ['b', 2, false]]</span></span><br><span class="line"><span class="comment">//zip(['a'], [1, 2], [true, false]); -&gt; [['a', 1, true], [undefined, 2, false]]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h2 id="Browser-1"><a href="#Browser-1" class="headerlink" title="Browser"></a>Browser</h2><h3 id="bottomVisible"><a href="#bottomVisible" class="headerlink" title="bottomVisible"></a>bottomVisible</h3><p>å¦‚æœåˆ°è¾¾é¡µé¢åº•éƒ¨ï¼Œè¿”å›<code>true</code>å¦åˆ™è¿”å›<code>false</code></p><p>ä½¿ç”¨ <code>scrollY</code>, <code>scrollHeight</code> å’Œ <code>clientHeight</code> åˆ¤æ–­æ˜¯å¦åˆ°è¾¾é¡µé¢åº•éƒ¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> bottomVisible = <span class="function"><span class="params">()</span> =&gt;</span></span><br><span class="line">  <span class="built_in">document</span>.documentElement.clientHeight + <span class="built_in">window</span>.scrollY &gt;= <span class="built_in">document</span>.documentElement.scrollHeight || <span class="built_in">document</span>.documentElement.clientHeight;</span><br><span class="line"><span class="comment">// bottomVisible() -&gt; true</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="currentURL"><a href="#currentURL" class="headerlink" title="currentURL"></a>currentURL</h3><p>è¿”å›å½“å‰é¡µé¢çš„URL.</p><p>ä½¿ç”¨ <code>window.location.href</code> è·å–å½“å‰é¡µé¢URL.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> currentURL = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">window</span>.location.href;</span><br><span class="line"><span class="comment">// currentUrl() -&gt; 'https://google.com'</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="elementIsVisibleInViewport"><a href="#elementIsVisibleInViewport" class="headerlink" title="elementIsVisibleInViewport"></a>elementIsVisibleInViewport</h3><p>å¦‚æœä¸€ä¸ªå…ƒç´ åœ¨è§†å£å¯è§ï¼Œè¿”å›<code>true</code>å¦åˆ™è¿”å›<code>false</code></p><p>ä½¿ç”¨ <code>Element.getBoundingClientRect()</code> å’Œ <code>window.inner(Width|Height)</code> åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨è§†å£å¯è§ï¼Œç¬¬äºŒä¸ªå‚æ•°è®¾ç½®ä¸º<code>true</code>è¡¨ç¤ºæ˜¯å¦éƒ¨åˆ†å¯è§ï¼Œé»˜è®¤å€¼ä¸º<code>false</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> elementIsVisibleInViewport = <span class="function">(<span class="params">el, partiallyVisible = <span class="literal">false</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; top, left, bottom, right &#125; = el.getBoundingClientRect();</span><br><span class="line">  <span class="keyword">return</span> partiallyVisible</span><br><span class="line">    ? ((top &gt; <span class="number">0</span> &amp;&amp; top &lt; innerHeight) || (bottom &gt; <span class="number">0</span> &amp;&amp; bottom &lt; innerHeight)) &amp;&amp;</span><br><span class="line">      ((left &gt; <span class="number">0</span> &amp;&amp; left &lt; innerWidth) || (right &gt; <span class="number">0</span> &amp;&amp; right &lt; innerWidth))</span><br><span class="line">    : top &gt;= <span class="number">0</span> &amp;&amp; left &gt;= <span class="number">0</span> &amp;&amp; bottom &lt;= innerHeight &amp;&amp; right &lt;= innerWidth;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// e.g. 100x100 viewport and a 10x10px element at position &#123;top: -1, left: 0, bottom: 9, right: 10&#125;</span></span><br><span class="line"><span class="comment">// elementIsVisibleInViewport(el) -&gt; false (not fully visible)</span></span><br><span class="line"><span class="comment">// elementIsVisibleInViewport(el, true) -&gt; true (partially visible)</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="getScrollPosition"><a href="#getScrollPosition" class="headerlink" title="getScrollPosition"></a>getScrollPosition</h3><p>è¿”å›æ»šåŠ¨æ¡åœ¨å½“å‰é¡µé¢çš„ä½ç½®.</p><p>å¦‚æœ <code>pageXOffset</code> å’Œ <code>pageYOffset</code> æœªå®šä¹‰ï¼Œä½¿ç”¨ <code>scrollLeft</code> and <code>scrollTop</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getScrollPosition = <span class="function">(<span class="params">el = <span class="built_in">window</span></span>) =&gt;</span></span><br><span class="line">  (&#123;<span class="attr">x</span>: (el.pageXOffset !== <span class="literal">undefined</span>) ? el.pageXOffset : el.scrollLeft,</span><br><span class="line">    y: (el.pageYOffset !== <span class="literal">undefined</span>) ? el.pageYOffset : el.scrollTop&#125;);</span><br><span class="line"><span class="comment">// getScrollPosition() -&gt; &#123;x: 0, y: 200&#125;</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="getURLParameters"><a href="#getURLParameters" class="headerlink" title="getURLParameters"></a>getURLParameters</h3><p>è¿”å›URLæŸ¥è¯¢å­—ç¬¦ä¸²å¯¹è±¡.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getURLParameters = <span class="function"><span class="params">url</span> =&gt;</span></span><br><span class="line">  url.match(<span class="regexp">/([^?=&amp;]+)(=([^&amp;]*))/g</span>).reduce(</span><br><span class="line">    (a, v) =&gt; (a[v.slice(<span class="number">0</span>, v.indexOf(<span class="string">'='</span>))] = v.slice(v.indexOf(<span class="string">'='</span>) + <span class="number">1</span>), a), &#123;&#125;</span><br><span class="line">  );</span><br><span class="line"><span class="comment">// getURLParameters('http://url.com/page?name=Adam&amp;surname=Smith') -&gt; &#123;name: 'Adam', surname: 'Smith'&#125;</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="redirect"><a href="#redirect" class="headerlink" title="redirect"></a>redirect</h3><p>é‡å®šå‘åˆ°æŒ‡å®šçš„URL.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> redirect = <span class="function">(<span class="params">url, asLink = <span class="literal">true</span></span>) =&gt;</span></span><br><span class="line">  asLink ? <span class="built_in">window</span>.location.href = url : <span class="built_in">window</span>.location.replace(url);</span><br><span class="line"><span class="comment">// redirect('https://google.com')</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="scrollToTop"><a href="#scrollToTop" class="headerlink" title="scrollToTop"></a>scrollToTop</h3><p>å¹³æ»‘æ»šåŠ¨åˆ°é¡µé¢é¡¶éƒ¨.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> scrollToTop = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> c = <span class="built_in">document</span>.documentElement.scrollTop || <span class="built_in">document</span>.body.scrollTop;</span><br><span class="line">  <span class="keyword">if</span> (c &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">window</span>.requestAnimationFrame(scrollToTop);</span><br><span class="line">    <span class="built_in">window</span>.scrollTo(<span class="number">0</span>, c - c / <span class="number">8</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// scrollToTop()</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h2 id="Date-1"><a href="#Date-1" class="headerlink" title="Date"></a>Date</h2><h3 id="getDaysDiffBetweenDates"><a href="#getDaysDiffBetweenDates" class="headerlink" title="getDaysDiffBetweenDates"></a>getDaysDiffBetweenDates</h3><p>è¿”å›ä¸¤ä¸ªDateå¯¹è±¡çš„å¤©æ•°å·®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getDaysDiffBetweenDates = <span class="function">(<span class="params">dateInitial, dateFinal</span>) =&gt;</span> (dateFinal - dateInitial) / (<span class="number">1000</span> * <span class="number">3600</span> * <span class="number">24</span>);</span><br><span class="line"><span class="comment">// getDaysDiffBetweenDates(new Date("2017-12-13"), new Date("2017-12-22")) -&gt; 9</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="JSONToDate"><a href="#JSONToDate" class="headerlink" title="JSONToDate"></a>JSONToDate</h3><p>è½¬æ¢ä¸€ä¸ªJSONå¯¹è±¡ä¸ºæ—¶é—´.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> JSONToDate = <span class="function"><span class="params">arr</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> dt = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="built_in">parseInt</span>(arr.toString().substr(<span class="number">6</span>)));</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123; dt.getDate() &#125;</span>/<span class="subst">$&#123; dt.getMonth() + <span class="number">1</span> &#125;</span>/<span class="subst">$&#123; dt.getFullYear() &#125;</span>`</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// JSONToDate(/Date(1489525200000)/) -&gt; "14/3/2017"</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="toEnglishDate"><a href="#toEnglishDate" class="headerlink" title="toEnglishDate"></a>toEnglishDate</h3><p>æŠŠç¾å›½æ—¶é—´è½¬æ¢ä¸ºè‹±å›½æ—¶é—´.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> toEnglishDate  = <span class="function">(<span class="params">time</span>) =&gt;</span></span><br><span class="line">  &#123;<span class="keyword">try</span>&#123;<span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(time).toISOString().split(<span class="string">'T'</span>)[<span class="number">0</span>].replace(<span class="regexp">/-/g</span>, <span class="string">'/'</span>)&#125;<span class="keyword">catch</span>(e)&#123;<span class="keyword">return</span>&#125;&#125;;</span><br><span class="line"><span class="comment">// toEnglishDate('09/21/2010') -&gt; '21/09/2010'</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h2 id="Function-1"><a href="#Function-1" class="headerlink" title="Function"></a>Function</h2><h3 id="chainAsync"><a href="#chainAsync" class="headerlink" title="chainAsync"></a>chainAsync</h3><p>ä¸²è”å¼‚æ­¥æ–¹æ³•.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> chainAsync = <span class="function"><span class="params">fns</span> =&gt;</span> &#123; <span class="keyword">let</span> curr = <span class="number">0</span>; <span class="keyword">const</span> next = <span class="function"><span class="params">()</span> =&gt;</span> fns[curr++](next); next(); &#125;;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">chainAsync([</span></span><br><span class="line"><span class="comment">  next =&gt; &#123; console.log('0 seconds'); setTimeout(next, 1000); &#125;,</span></span><br><span class="line"><span class="comment">  next =&gt; &#123; console.log('1 second');  setTimeout(next, 1000); &#125;,</span></span><br><span class="line"><span class="comment">  next =&gt; &#123; console.log('2 seconds'); &#125;</span></span><br><span class="line"><span class="comment">])</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="compose"><a href="#compose" class="headerlink" title="compose"></a>compose</h3><p>ä»å³å¾€å·¦æ‰§è¡Œå‡½æ•°ç»„åˆ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> compose = <span class="function">(<span class="params">...fns</span>) =&gt;</span> fns.reduce(<span class="function">(<span class="params">f, g</span>) =&gt;</span> <span class="function">(<span class="params">...args</span>) =&gt;</span> f(g(...args)));</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">const add5 = x =&gt; x + 5</span></span><br><span class="line"><span class="comment">const multiply = (x, y) =&gt; x * y</span></span><br><span class="line"><span class="comment">const multiplyAndAdd5 = compose(add5, multiply)</span></span><br><span class="line"><span class="comment">multiplyAndAdd5(5, 2) -&gt; 15</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="curry"><a href="#curry" class="headerlink" title="curry"></a>curry</h3><p>å¯¹å‡½æ•°è¿›è¡ŒæŸ¯é‡ŒåŒ–</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> curry = <span class="function">(<span class="params">fn, arity = fn.length, ...args</span>) =&gt;</span></span><br><span class="line">  arity &lt;= args.length</span><br><span class="line">    ? fn(...args)</span><br><span class="line">    : curry.bind(<span class="literal">null</span>, fn, arity, ...args);</span><br><span class="line"><span class="comment">// curry(Math.pow)(2)(10) -&gt; 1024</span></span><br><span class="line"><span class="comment">// curry(Math.min, 3)(10)(50)(2) -&gt; 2</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="functionName"><a href="#functionName" class="headerlink" title="functionName"></a>functionName</h3><p>æ‰“å°å‡½æ•°åç§°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> functionName = <span class="function"><span class="params">fn</span> =&gt;</span> (<span class="built_in">console</span>.debug(fn.name), fn);</span><br><span class="line"><span class="comment">// functionName(Math.max) -&gt; max (logged in debug channel of console)</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="pipe"><a href="#pipe" class="headerlink" title="pipe"></a>pipe</h3><p>ä»å·¦å¾€å³æ‰§è¡Œå‡½æ•°ç»„åˆ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pipeFunctions = <span class="function">(<span class="params">...fns</span>) =&gt;</span> fns.reduce(<span class="function">(<span class="params">f, g</span>) =&gt;</span> <span class="function">(<span class="params">...args</span>) =&gt;</span> g(f(...args)));</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">const add5 = x =&gt; x + 5</span></span><br><span class="line"><span class="comment">const multiply = (x, y) =&gt; x * y</span></span><br><span class="line"><span class="comment">const multiplyAndAdd5 = pipeFunctions(multiply, add5)</span></span><br><span class="line"><span class="comment">multiplyAndAdd5(5, 2) -&gt; 15</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="promisify"><a href="#promisify" class="headerlink" title="promisify"></a>promisify</h3><p>æŠŠå¼‚æ­¥å‡½æ•°è½¬åŒ–ä¸ºpromise</p><p><em>In Node 8+, you can use <a href="https://nodejs.org/api/util.html#util_util_promisify_original" target="_blank" rel="noopener"><code>util.promisify</code></a></em></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promisify = <span class="function"><span class="params">func</span> =&gt;</span></span><br><span class="line">  (...args) =&gt;</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span></span><br><span class="line">      func(...args, (err, result) =&gt;</span><br><span class="line">        err ? reject(err) : resolve(result))</span><br><span class="line">    );</span><br><span class="line"><span class="comment">// const delay = promisify((d, cb) =&gt; setTimeout(cb, d))</span></span><br><span class="line"><span class="comment">// delay(2000).then(() =&gt; console.log('Hi!')) -&gt; Promise resolves after 2s</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="runPromisesInSeries"><a href="#runPromisesInSeries" class="headerlink" title="runPromisesInSeries"></a>runPromisesInSeries</h3><p>æ‰§è¡Œä¸€ç³»åˆ—promiseå‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> runPromisesInSeries = <span class="function"><span class="params">ps</span> =&gt;</span> ps.reduce(<span class="function">(<span class="params">p, next</span>) =&gt;</span> p.then(next), <span class="built_in">Promise</span>.resolve());</span><br><span class="line"><span class="comment">// const delay = (d) =&gt; new Promise(r =&gt; setTimeout(r, d))</span></span><br><span class="line"><span class="comment">// runPromisesInSeries([() =&gt; delay(1000), () =&gt; delay(2000)]) -&gt; executes each promise sequentially, taking a total of 3 seconds to complete</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="sleep"><a href="#sleep" class="headerlink" title="sleep"></a>sleep</h3><p>å»¶è¿Ÿæ‰§è¡Œå¼‚æ­¥å‡½æ•°</p><p>Delay executing part of an <code>async</code> function, by putting it to sleep, returning a <code>Promise</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sleep = <span class="function"><span class="params">ms</span> =&gt;</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> setTimeout(resolve, ms));</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">async function sleepyWork() &#123;</span></span><br><span class="line"><span class="comment">  console.log('I\'m going to sleep for 1 second.');</span></span><br><span class="line"><span class="comment">  await sleep(1000);</span></span><br><span class="line"><span class="comment">  console.log('I woke up after 1 second.');</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h2 id="Math-1"><a href="#Math-1" class="headerlink" title="Math"></a>Math</h2><h3 id="arrayAverage"><a href="#arrayAverage" class="headerlink" title="arrayAverage"></a>arrayAverage</h3><p>è¿”å›æ•°ç»„çš„å¹³å‡å€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arrayAverage = <span class="function"><span class="params">arr</span> =&gt;</span> arr.reduce(<span class="function">(<span class="params">acc, val</span>) =&gt;</span> acc + val, <span class="number">0</span>) / arr.length;</span><br><span class="line"><span class="comment">// arrayAverage([1,2,3]) -&gt; 2</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="arraySum"><a href="#arraySum" class="headerlink" title="arraySum"></a>arraySum</h3><p>è¿”å›æ•°ç»„çš„å’Œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arraySum = <span class="function"><span class="params">arr</span> =&gt;</span> arr.reduce(<span class="function">(<span class="params">acc, val</span>) =&gt;</span> acc + val, <span class="number">0</span>);</span><br><span class="line"><span class="comment">// arraySum([1,2,3,4]) -&gt; 10</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="collatz"><a href="#collatz" class="headerlink" title="collatz"></a>collatz</h3><p>å®ç°Collatzç®—æ³•.</p><p>å¦‚æœ <code>n</code> æ˜¯å¶æ•°, è¿”å› <code>n/2</code>. å¦åˆ™è¿”å› <code>3n+1</code>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> collatz = <span class="function"><span class="params">n</span> =&gt;</span> (n % <span class="number">2</span> == <span class="number">0</span>) ? (n / <span class="number">2</span>) : (<span class="number">3</span> * n + <span class="number">1</span>);</span><br><span class="line"><span class="comment">// collatz(8) --&gt; 4</span></span><br><span class="line"><span class="comment">// collatz(5) --&gt; 16</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="digitize"><a href="#digitize" class="headerlink" title="digitize"></a>digitize</h3><p>æŠŠæ•°å­—è½¬ä¸ºæ•°ç»„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> digitize = <span class="function"><span class="params">n</span> =&gt;</span> [...<span class="string">''</span>+n].map(<span class="function"><span class="params">i</span> =&gt;</span> <span class="built_in">parseInt</span>(i));</span><br><span class="line"><span class="comment">// digitize(2334) -&gt; [2, 3, 3, 4]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="distance"><a href="#distance" class="headerlink" title="distance"></a>distance</h3><p>è¿”å›ä¸¤ç‚¹è·ç¦».</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> distance = <span class="function">(<span class="params">x0, y0, x1, y1</span>) =&gt;</span> <span class="built_in">Math</span>.hypot(x1 - x0, y1 - y0);</span><br><span class="line"><span class="comment">// distance(1,1, 2,3) -&gt; 2.23606797749979</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="factorial"><a href="#factorial" class="headerlink" title="factorial"></a>factorial</h3><p>è®¡ç®—ä¸€ä¸ªæ•°å­—çš„é˜¶ä¹˜.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> factorial = <span class="function"><span class="params">n</span> =&gt;</span></span><br><span class="line">  n &lt; <span class="number">0</span> ? <span class="function">(<span class="params">(</span>) =&gt;</span> &#123; <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'Negative numbers are not allowed!'</span>) &#125;)()</span><br><span class="line">  : n &lt;= <span class="number">1</span> ? <span class="number">1</span> : n * factorial(n - <span class="number">1</span>);</span><br><span class="line"><span class="comment">// factorial(6) -&gt; 720</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="fibonacci"><a href="#fibonacci" class="headerlink" title="fibonacci"></a>fibonacci</h3><p>æŒ‡å®šä¸€ä¸ªé•¿åº¦ï¼Œè¾“å‡ºæ–æ³¢é‚£å¥‘æ•°åˆ—</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fibonacci = <span class="function"><span class="params">n</span> =&gt;</span></span><br><span class="line">  <span class="built_in">Array</span>(n).fill(<span class="number">0</span>).reduce(<span class="function">(<span class="params">acc, val, i</span>) =&gt;</span> acc.concat(i &gt; <span class="number">1</span> ? acc[i - <span class="number">1</span>] + acc[i - <span class="number">2</span>] : i), []);</span><br><span class="line"><span class="comment">// fibonacci(5) -&gt; [0,1,1,2,3]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="gcd"><a href="#gcd" class="headerlink" title="gcd"></a>gcd</h3><p>è®¡ç®—ä¸¤ä¸ªæ•°å­—ä¹‹é—´çš„æœ€å¤§å…¬çº¦æ•°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> gcd = <span class="function">(<span class="params">x, y</span>) =&gt;</span> !y ? x : gcd(y, x % y);</span><br><span class="line"><span class="comment">// gcd (8, 36) -&gt; 4</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="hammingDistance"><a href="#hammingDistance" class="headerlink" title="hammingDistance"></a>hammingDistance</h3><p>è®¡ç®—ä¸¤ä¸ªå€¼çš„Hammingè·ç¦».</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> hammingDistance = <span class="function">(<span class="params">num1, num2</span>) =&gt;</span></span><br><span class="line">  ((num1 ^ num2).toString(<span class="number">2</span>).match(<span class="regexp">/1/g</span>) || <span class="string">''</span>).length;</span><br><span class="line"><span class="comment">// hammingDistance(2,3) -&gt; 1</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="isDivisible"><a href="#isDivisible" class="headerlink" title="isDivisible"></a>isDivisible</h3><p>æ£€æŸ¥ç¬¬ä¸€ä¸ªæ•°å­—æ˜¯å¦å¯è¢«ç¬¬äºŒä¸ªæ•°å­—æ•´é™¤.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isDivisible = <span class="function">(<span class="params">dividend, divisor</span>) =&gt;</span> dividend % divisor === <span class="number">0</span>;</span><br><span class="line"><span class="comment">// isDivisible(6,3) -&gt; true</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="isEven"><a href="#isEven" class="headerlink" title="isEven"></a>isEven</h3><p>æ£€æŸ¥æ•°å­—æ˜¯å¦ä¸ºå¶æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isEven = <span class="function"><span class="params">num</span> =&gt;</span> num % <span class="number">2</span> === <span class="number">0</span>;</span><br><span class="line"><span class="comment">// isEven(3) -&gt; false</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="lcm"><a href="#lcm" class="headerlink" title="lcm"></a>lcm</h3><p>è®¡ç®—ä¸¤ä¸ªæ•°å­—çš„æœ€å°å…¬å€æ•°.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> lcm = <span class="function">(<span class="params">x,y</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> gcd = <span class="function">(<span class="params">x, y</span>) =&gt;</span> !y ? x : gcd(y, x % y);</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.abs(x*y)/(gcd(x,y));</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// lcm(12,7) -&gt; 84</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="median"><a href="#median" class="headerlink" title="median"></a>median</h3><p>è¿”å›æ•°ç»„çš„ä¸­ä½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> median = <span class="function"><span class="params">arr</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> mid = <span class="built_in">Math</span>.floor(arr.length / <span class="number">2</span>), nums = arr.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span><br><span class="line">  <span class="keyword">return</span> arr.length % <span class="number">2</span> !== <span class="number">0</span> ? nums[mid] : (nums[mid - <span class="number">1</span>] + nums[mid]) / <span class="number">2</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// median([5,6,50,1,-5]) -&gt; 5</span></span><br><span class="line"><span class="comment">// median([0,10,-2,7]) -&gt; 3.5</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="palindrome"><a href="#palindrome" class="headerlink" title="palindrome"></a>palindrome</h3><p>åˆ¤æ–­ç»™å®šå­—ç¬¦ä¸²æ˜¯å¦æ˜¯å›æ–‡å­—ç¬¦ä¸²ï¼ˆå›æ–‡å­—ç¬¦ä¸²æ˜¯æ­£è¯»å’Œåè¯»éƒ½ä¸€æ ·çš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚â€œlevelâ€æˆ–è€…â€œnoonâ€ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> palindrome = <span class="function"><span class="params">str</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> s = str.toLowerCase().replace(<span class="regexp">/[\W_]/g</span>,<span class="string">''</span>);</span><br><span class="line">  <span class="keyword">return</span> s === s.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// palindrome('taco cat') -&gt; true</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="percentile"><a href="#percentile" class="headerlink" title="percentile"></a>percentile</h3><p>ä½¿ç”¨ç™¾åˆ†ä½æ•°å…¬å¼æ¥è®¡ç®—ç»™å®šæ•°ç»„ä¸­æœ‰å¤šå°‘æ•°å­—å°äºæˆ–ç­‰äºç»™å®šå€¼ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> percentile = <span class="function">(<span class="params">arr, val</span>) =&gt;</span></span><br><span class="line">  <span class="number">100</span> * arr.reduce(<span class="function">(<span class="params">acc,v</span>) =&gt;</span> acc + (v &lt; val ? <span class="number">1</span> : <span class="number">0</span>) + (v === val ? <span class="number">0.5</span> : <span class="number">0</span>), <span class="number">0</span>) / arr.length;</span><br><span class="line"><span class="comment">// percentile([1,2,3,4,5,6,7,8,9,10], 6) -&gt; 55</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="powerset"><a href="#powerset" class="headerlink" title="powerset"></a>powerset</h3><p>è¾“å‡ºç»™å®šæ•°ç»„çš„æ‰€æœ‰å­é›†</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> powerset = <span class="function"><span class="params">arr</span> =&gt;</span></span><br><span class="line">  arr.reduce(<span class="function">(<span class="params">a, v</span>) =&gt;</span> a.concat(a.map(<span class="function"><span class="params">r</span> =&gt;</span> [v].concat(r))), [[]]);</span><br><span class="line"><span class="comment">// powerset([1,2]) -&gt; [[], [1], [2], [2,1]]</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="randomIntegerInRange"><a href="#randomIntegerInRange" class="headerlink" title="randomIntegerInRange"></a>randomIntegerInRange</h3><p>è¿”å›æŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•´æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> randomIntegerInRange = <span class="function">(<span class="params">min, max</span>) =&gt;</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (max - min + <span class="number">1</span>)) + min;</span><br><span class="line"><span class="comment">// randomIntegerInRange(0, 5) -&gt; 2</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="randomNumberInRange"><a href="#randomNumberInRange" class="headerlink" title="randomNumberInRange"></a>randomNumberInRange</h3><p>è¿”å›æŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> randomNumberInRange = <span class="function">(<span class="params">min, max</span>) =&gt;</span> <span class="built_in">Math</span>.random() * (max - min) + min;</span><br><span class="line"><span class="comment">// randomNumberInRange(2,10) -&gt; 6.0211363285087005</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="round"><a href="#round" class="headerlink" title="round"></a>round</h3><p>å°†æ•°å­—å››èˆäº”å…¥åˆ°æŒ‡å®šçš„æ•°å­—ä½æ•°.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> round = <span class="function">(<span class="params">n, decimals=<span class="number">0</span></span>) =&gt;</span> <span class="built_in">Number</span>(<span class="string">`<span class="subst">$&#123;<span class="built_in">Math</span>.round(<span class="string">`<span class="subst">$&#123;n&#125;</span>e<span class="subst">$&#123;decimals&#125;</span>`</span>)&#125;</span>e-<span class="subst">$&#123;decimals&#125;</span>`</span>);</span><br><span class="line"><span class="comment">// round(1.005, 2) -&gt; 1.01</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="standardDeviation"><a href="#standardDeviation" class="headerlink" title="standardDeviation"></a>standardDeviation</h3><p>è¿”å›æ•°ç»„çš„æ ‡å‡†å·®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> standardDeviation = <span class="function">(<span class="params">arr, usePopulation = <span class="literal">false</span></span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> mean = arr.reduce(<span class="function">(<span class="params">acc, val</span>) =&gt;</span> acc + val, <span class="number">0</span>) / arr.length;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.sqrt(</span><br><span class="line">    arr.reduce(<span class="function">(<span class="params">acc, val</span>) =&gt;</span> acc.concat(<span class="built_in">Math</span>.pow(val - mean, <span class="number">2</span>)), [])</span><br><span class="line">       .reduce(<span class="function">(<span class="params">acc, val</span>) =&gt;</span> acc + val, <span class="number">0</span>) / (arr.length - (usePopulation ? <span class="number">0</span> : <span class="number">1</span>))</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// standardDeviation([10,2,38,23,38,23,21]) -&gt; 13.284434142114991 (sample)</span></span><br><span class="line"><span class="comment">// standardDeviation([10,2,38,23,38,23,21], true) -&gt; 12.29899614287479 (population)</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h2 id="Media-1"><a href="#Media-1" class="headerlink" title="Media"></a>Media</h2><h3 id="speechSynthesis"><a href="#speechSynthesis" class="headerlink" title="speechSynthesis"></a>speechSynthesis</h3><p>è¯­éŸ³åˆæˆ (å®éªŒç‰¹æ€§).</p><p>è¯¦æƒ…æŸ¥çœ‹ <a href="https://developer.mozilla.org/en-US/docs/Web/API/SpeechSynthesisUtterance" target="_blank" rel="noopener">SpeechSynthesisUtterance interface of the Web Speech API</a>.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> speechSynthesis = <span class="function"><span class="params">message</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> msg = <span class="keyword">new</span> SpeechSynthesisUtterance(message);</span><br><span class="line">  msg.voice = <span class="built_in">window</span>.speechSynthesis.getVoices()[<span class="number">0</span>];</span><br><span class="line">  <span class="built_in">window</span>.speechSynthesis.speak(msg);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// speechSynthesis('Hello, World') -&gt; plays the message</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h2 id="Node-1"><a href="#Node-1" class="headerlink" title="Node"></a>Node</h2><h3 id="JSONToFile"><a href="#JSONToFile" class="headerlink" title="JSONToFile"></a>JSONToFile</h3><p>å°†ä¸€ä¸ªJSONå¯¹è±¡è½¬æ¢ä¸ºæ–‡ä»¶.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">const</span> JSONToFile = <span class="function">(<span class="params">obj, filename</span>) =&gt;</span> fs.writeFile(<span class="string">`<span class="subst">$&#123;filename&#125;</span>.json`</span>, <span class="built_in">JSON</span>.stringify(obj, <span class="literal">null</span>, <span class="number">2</span>))</span><br><span class="line"><span class="comment">// JSONToFile(&#123;test: "is passed"&#125;, 'testJsonFile') -&gt; writes the object to 'testJsonFile.json'</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="readFileLines"><a href="#readFileLines" class="headerlink" title="readFileLines"></a>readFileLines</h3><p>è¯»å–æŒ‡å®šçš„æ–‡ä»¶å¹¶ä¸”æ ¹æ®è¡Œç”Ÿæˆæ•°ç»„</p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">const</span> readFileLines = <span class="function"><span class="params">filename</span> =&gt;</span> fs.readFileSync(filename).toString(<span class="string">'UTF8'</span>).split(<span class="string">'\n'</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  contents of test.txt :</span></span><br><span class="line"><span class="comment">    line1</span></span><br><span class="line"><span class="comment">    line2</span></span><br><span class="line"><span class="comment">    line3</span></span><br><span class="line"><span class="comment">    ___________________________</span></span><br><span class="line"><span class="comment">  let arr = readFileLines('test.txt')</span></span><br><span class="line"><span class="comment">  console.log(arr) // -&gt; ['line1', 'line2', 'line3']</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h2 id="Object-1"><a href="#Object-1" class="headerlink" title="Object"></a>Object</h2><h3 id="cleanObj"><a href="#cleanObj" class="headerlink" title="cleanObj"></a>cleanObj</h3><p>ç§»é™¤å¯¹è±¡ä¸­é™¤å»ç»™å®šçš„å±æ€§åä¹‹å¤–çš„å±æ€§</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cleanObj = <span class="function">(<span class="params">obj, keysToKeep = [], childIndicator</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">Object</span>.keys(obj).forEach(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (key === childIndicator) &#123;</span><br><span class="line">      cleanObj(obj[key], keysToKeep, childIndicator);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!keysToKeep.includes(key)) &#123;</span><br><span class="line">      <span class="keyword">delete</span> obj[key];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  const testObj = &#123;a: 1, b: 2, children: &#123;a: 1, b: 2&#125;&#125;</span></span><br><span class="line"><span class="comment">  cleanObj(testObj, ["a"],"children")</span></span><br><span class="line"><span class="comment">  console.log(testObj)// &#123; a: 1, children : &#123; a: 1&#125;&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="objectFromPairs"><a href="#objectFromPairs" class="headerlink" title="objectFromPairs"></a>objectFromPairs</h3><p>æ ¹æ®ç»™å®šçš„é”®å€¼å¯¹ç”Ÿæˆå¯¹è±¡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> objectFromPairs = <span class="function"><span class="params">arr</span> =&gt;</span> arr.reduce(<span class="function">(<span class="params">a, v</span>) =&gt;</span> (a[v[<span class="number">0</span>]] = v[<span class="number">1</span>], a), &#123;&#125;);</span><br><span class="line"><span class="comment">// objectFromPairs([['a',1],['b',2]]) -&gt; &#123;a: 1, b: 2&#125;</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="objectToPairs"><a href="#objectToPairs" class="headerlink" title="objectToPairs"></a>objectToPairs</h3><p>è½¬æ¢ä¸€ä¸ªå¯¹è±¡ä¸ºæ•°ç»„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> objectToPairs = <span class="function"><span class="params">obj</span> =&gt;</span> <span class="built_in">Object</span>.keys(obj).map(<span class="function"><span class="params">k</span> =&gt;</span> [k, obj[k]]);</span><br><span class="line"><span class="comment">// objectToPairs(&#123;a: 1, b: 2&#125;) -&gt; [['a',1],['b',2]])</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="shallowClone"><a href="#shallowClone" class="headerlink" title="shallowClone"></a>shallowClone</h3><p>åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æµ…æ‹·è´.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> shallowClone = <span class="function"><span class="params">obj</span> =&gt;</span> <span class="built_in">Object</span>.assign(&#123;&#125;, obj);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">const a = &#123; x: true, y: 1 &#125;;</span></span><br><span class="line"><span class="comment">const b = shallowClone(a);</span></span><br><span class="line"><span class="comment">a === b -&gt; false</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="truthCheckCollection"><a href="#truthCheckCollection" class="headerlink" title="truthCheckCollection"></a>truthCheckCollection</h3><p>æ£€æŸ¥æŸä¸ªå±æ€§åæ˜¯å¦åœ¨ä¸€ä¸ªæ•°ç»„ä¸­éƒ½å­˜åœ¨</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">truthCheckCollection = <span class="function">(<span class="params">collection, pre</span>) =&gt;</span> (collection.every(<span class="function"><span class="params">obj</span> =&gt;</span> obj[pre]));</span><br><span class="line"><span class="comment">// truthCheckCollection([&#123;"user": "Tinky-Winky", "sex": "male"&#125;, &#123;"user": "Dipsy", "sex": "male"&#125;], "sex") -&gt; true</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h2 id="String-1"><a href="#String-1" class="headerlink" title="String"></a>String</h2><h3 id="anagrams"><a href="#anagrams" class="headerlink" title="anagrams"></a>anagrams</h3><p>ç”Ÿæˆä¸€ä¸ªå­—ç¬¦ä¸²çš„æ‰€æœ‰å­—ç¬¦æ’åˆ—ç»„åˆï¼ˆåŒ…å«é‡å¤ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> anagrams = <span class="function"><span class="params">str</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (str.length &lt;= <span class="number">2</span>) <span class="keyword">return</span> str.length === <span class="number">2</span> ? [str, str[<span class="number">1</span>] + str[<span class="number">0</span>]] : [str];</span><br><span class="line">  <span class="keyword">return</span> str.split(<span class="string">''</span>).reduce(<span class="function">(<span class="params">acc, letter, i</span>) =&gt;</span></span><br><span class="line">    acc.concat(anagrams(str.slice(<span class="number">0</span>, i) + str.slice(i + <span class="number">1</span>)).map(<span class="function"><span class="params">val</span> =&gt;</span> letter + val)), []);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// anagrams('abc') -&gt; ['abc','acb','bac','bca','cab','cba']</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="Capitalize"><a href="#Capitalize" class="headerlink" title="Capitalize"></a>Capitalize</h3><p>å°†ç»™å®šå­—ç¬¦ä¸²é¦–å­—æ¯å¤§å†™.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> capitalize = <span class="function">(<span class="params">[first,...rest], lowerRest = <span class="literal">false</span></span>) =&gt;</span></span><br><span class="line">  first.toUpperCase() + (lowerRest ? rest.join(<span class="string">''</span>).toLowerCase() : rest.join(<span class="string">''</span>));</span><br><span class="line"><span class="comment">// capitalize('myName') -&gt; 'MyName'</span></span><br><span class="line"><span class="comment">// capitalize('myName', true) -&gt; 'Myname'</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="capitalizeEveryWord"><a href="#capitalizeEveryWord" class="headerlink" title="capitalizeEveryWord"></a>capitalizeEveryWord</h3><p>å°†ç»™å®šå­—ç¬¦ä¸²çš„æ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> capitalizeEveryWord = <span class="function"><span class="params">str</span> =&gt;</span> str.replace(<span class="regexp">/\b[a-z]/g</span>, char =&gt; char.toUpperCase());</span><br><span class="line"><span class="comment">// capitalizeEveryWord('hello world!') -&gt; 'Hello World!'</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="escapeRegExp"><a href="#escapeRegExp" class="headerlink" title="escapeRegExp"></a>escapeRegExp</h3><p>è½¬ä¹‰å­—ç¬¦ä¸²ä»¥ä¾¿åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ä½¿ç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> escapeRegExp = <span class="function"><span class="params">str</span> =&gt;</span> str.replace(<span class="regexp">/[.*+?^$&#123;&#125;()|[\]\\]/g</span>, <span class="string">'\\$&amp;'</span>);</span><br><span class="line"><span class="comment">// escapeRegExp('(test)') -&gt; \\(test\\)</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="fromCamelCase"><a href="#fromCamelCase" class="headerlink" title="fromCamelCase"></a>fromCamelCase</h3><p>æŠŠcamelcaseå­—ç¬¦ä¸²è½¬æ¢æˆå…¶ä»–æ ¼å¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fromCamelCase = <span class="function">(<span class="params">str, separator = <span class="string">'_'</span></span>) =&gt;</span></span><br><span class="line">  str.replace(<span class="regexp">/([a-z\d])([A-Z])/g</span>, <span class="string">'$1'</span> + separator + <span class="string">'$2'</span>)</span><br><span class="line">    .replace(<span class="regexp">/([A-Z]+)([A-Z][a-z\d]+)/g</span>, <span class="string">'$1'</span> + separator + <span class="string">'$2'</span>).toLowerCase();</span><br><span class="line"><span class="comment">// fromCamelCase('someDatabaseFieldName', ' ') -&gt; 'some database field name'</span></span><br><span class="line"><span class="comment">// fromCamelCase('someLabelThatNeedsToBeCamelized', '-') -&gt; 'some-label-that-needs-to-be-camelized'</span></span><br><span class="line"><span class="comment">// fromCamelCase('someJavascriptProperty', '_') -&gt; 'some_javascript_property'</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="reverseString"><a href="#reverseString" class="headerlink" title="reverseString"></a>reverseString</h3><p>åè½¬å­—ç¬¦ä¸²</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reverseString = <span class="function"><span class="params">str</span> =&gt;</span> [...str].reverse().join(<span class="string">''</span>);</span><br><span class="line"><span class="comment">// reverseString('foobar') -&gt; 'raboof'</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="sortCharactersInString"><a href="#sortCharactersInString" class="headerlink" title="sortCharactersInString"></a>sortCharactersInString</h3><p>æŒ‰ç…§å­—æ¯é¡ºåºé‡æ–°æ’åˆ—å­—ç¬¦ä¸²</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sortCharactersInString = <span class="function"><span class="params">str</span> =&gt;</span></span><br><span class="line">  str.split(<span class="string">''</span>).sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a.localeCompare(b)).join(<span class="string">''</span>);</span><br><span class="line"><span class="comment">// sortCharactersInString('cabbage') -&gt; 'aabbceg'</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="toCamelCase"><a href="#toCamelCase" class="headerlink" title="toCamelCase"></a>toCamelCase</h3><p>æŠŠä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºcamelcase.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> toCamelCase = <span class="function"><span class="params">str</span> =&gt;</span></span><br><span class="line">  str.replace(<span class="regexp">/^([A-Z])|[\s-_]+(\w)/g</span>, (match, p1, p2, offset) =&gt;  p2 ? p2.toUpperCase() : p1.toLowerCase());</span><br><span class="line"><span class="comment">// toCamelCase("some_database_field_name") -&gt; 'someDatabaseFieldName'</span></span><br><span class="line"><span class="comment">// toCamelCase("Some label that needs to be camelized") -&gt; 'someLabelThatNeedsToBeCamelized'</span></span><br><span class="line"><span class="comment">// toCamelCase("some-javascript-property") -&gt; 'someJavascriptProperty'</span></span><br><span class="line"><span class="comment">// toCamelCase("some-mixed_string with spaces_underscores-and-hyphens") -&gt; 'someMixedStringWithSpacesUnderscoresAndHyphens'</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="truncateString"><a href="#truncateString" class="headerlink" title="truncateString"></a>truncateString</h3><p>æ ¹æ®æŒ‡å®šé•¿åº¦æˆªå–å­—ç¬¦ä¸²</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> truncateString = <span class="function">(<span class="params">str, num</span>) =&gt;</span></span><br><span class="line">  str.length &gt; num ? str.slice(<span class="number">0</span>, num &gt; <span class="number">3</span> ? num - <span class="number">3</span> : num) + <span class="string">'...'</span> : str;</span><br><span class="line"><span class="comment">// truncateString('boomerang', 7) -&gt; 'boom...'</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h2 id="Utility-1"><a href="#Utility-1" class="headerlink" title="Utility"></a>Utility</h2><h3 id="coalesce"><a href="#coalesce" class="headerlink" title="coalesce"></a>coalesce</h3><p>è¿”å›ç¬¬ä¸€ä¸ªä¸ä¸ºnull/undefinedçš„å‚æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> coalesce = <span class="function">(<span class="params">...args</span>) =&gt;</span> args.find(<span class="function"><span class="params">_</span> =&gt;</span> ![<span class="literal">undefined</span>, <span class="literal">null</span>].includes(_))</span><br><span class="line"><span class="comment">// coalesce(null,undefined,"",NaN, "Waldo") -&gt; ""</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="coalesceFactory"><a href="#coalesceFactory" class="headerlink" title="coalesceFactory"></a>coalesceFactory</h3><p>å®ç°è‡ªå®šä¹‰coalesceå‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> coalesceFactory = <span class="function"><span class="params">valid</span> =&gt;</span> <span class="function">(<span class="params">...args</span>) =&gt;</span> args.find(valid);</span><br><span class="line"><span class="comment">// const customCoalesce = coalesceFactory(_ =&gt; ![null, undefined, "", NaN].includes(_))</span></span><br><span class="line"><span class="comment">// customCoalesce(undefined, null, NaN, "", "Waldo") //-&gt; "Waldo"</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="extendHex"><a href="#extendHex" class="headerlink" title="extendHex"></a>extendHex</h3><p>å°†3ä½æ•°çš„é¢œè‰²ä»£ç æ‰©å±•ä¸º6ä½æ•°çš„é¢œè‰²ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> extendHex = <span class="function"><span class="params">shortHex</span> =&gt;</span></span><br><span class="line">  <span class="string">'#'</span> + shortHex.slice(shortHex.startsWith(<span class="string">'#'</span>) ? <span class="number">1</span> : <span class="number">0</span>).split(<span class="string">''</span>).map(<span class="function"><span class="params">x</span> =&gt;</span> x+x).join(<span class="string">''</span>)</span><br><span class="line"><span class="comment">// extendHex('#03f') -&gt; '#0033ff'</span></span><br><span class="line"><span class="comment">// extendHex('05a') -&gt; '#0055aa'</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="getType"><a href="#getType" class="headerlink" title="getType"></a>getType</h3><p>è·å–ä¸€ä¸ªå€¼çš„åŸç”Ÿç±»å‹.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getType = <span class="function"><span class="params">v</span> =&gt;</span></span><br><span class="line">  v === <span class="literal">undefined</span> ? <span class="string">'undefined'</span> : v === <span class="literal">null</span> ? <span class="string">'null'</span> : v.constructor.name.toLowerCase();</span><br><span class="line"><span class="comment">// getType(new Set([1,2,3])) -&gt; "set"</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="hexToRGB"><a href="#hexToRGB" class="headerlink" title="hexToRGB"></a>hexToRGB</h3><p>å°†hexè‰²å€¼è½¬æ¢ä¸ºRGB</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> hexToRgb = <span class="function"><span class="params">hex</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> extendHex = <span class="function"><span class="params">shortHex</span> =&gt;</span></span><br><span class="line">    <span class="string">'#'</span> + shortHex.slice(shortHex.startsWith(<span class="string">'#'</span>) ? <span class="number">1</span> : <span class="number">0</span>).split(<span class="string">''</span>).map(<span class="function"><span class="params">x</span> =&gt;</span> x+x).join(<span class="string">''</span>);</span><br><span class="line">  <span class="keyword">const</span> extendedHex = hex.slice(hex.startsWith(<span class="string">'#'</span>) ? <span class="number">1</span> : <span class="number">0</span>).length === <span class="number">3</span> ? extendHex(hex) : hex;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`rgb(<span class="subst">$&#123;<span class="built_in">parseInt</span>(extendedHex.slice(<span class="number">1</span>), <span class="number">16</span>) &gt;&gt; <span class="number">16</span>&#125;</span>, <span class="subst">$&#123;(<span class="built_in">parseInt</span>(extendedHex.slice(<span class="number">1</span>), <span class="number">16</span>) &amp; <span class="number">0x00ff00</span>) &gt;&gt; <span class="number">8</span>&#125;</span>, <span class="subst">$&#123;<span class="built_in">parseInt</span>(extendedHex.slice(<span class="number">1</span>), <span class="number">16</span>) &amp; <span class="number">0x0000ff</span>&#125;</span>)`</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// hexToRgb('#27ae60') -&gt; 'rgb(39, 174, 96)'</span></span><br><span class="line"><span class="comment">// hexToRgb('#acd') -&gt; 'rgb(170, 204, 221)'</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="isArray"><a href="#isArray" class="headerlink" title="isArray"></a>isArray</h3><p>æ£€æŸ¥ç»™å®šå¯¹è±¡æ˜¯å¦æ˜¯æ•°ç»„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isArray = <span class="function"><span class="params">val</span> =&gt;</span> !!val &amp;&amp; <span class="built_in">Array</span>.isArray(val);</span><br><span class="line"><span class="comment">// isArray(null) -&gt; false</span></span><br><span class="line"><span class="comment">// isArray([1]) -&gt; true</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="isBoolean"><a href="#isBoolean" class="headerlink" title="isBoolean"></a>isBoolean</h3><p>æ£€æŸ¥ç»™å®šå¯¹è±¡æ˜¯å¦æ˜¯å¸ƒå°”å€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isBoolean = <span class="function"><span class="params">val</span> =&gt;</span> <span class="keyword">typeof</span> val === <span class="string">'boolean'</span>;</span><br><span class="line"><span class="comment">// isBoolean(null) -&gt; false</span></span><br><span class="line"><span class="comment">// isBoolean(false) -&gt; true</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="isFunction"><a href="#isFunction" class="headerlink" title="isFunction"></a>isFunction</h3><p>æ£€æŸ¥ç»™å®šå¯¹è±¡æ˜¯å¦æ˜¯æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isFunction = <span class="function"><span class="params">val</span> =&gt;</span> val &amp;&amp; <span class="keyword">typeof</span> val === <span class="string">'function'</span>;</span><br><span class="line"><span class="comment">// isFunction('x') -&gt; false</span></span><br><span class="line"><span class="comment">// isFunction(x =&gt; x) -&gt; true</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="isNumber"><a href="#isNumber" class="headerlink" title="isNumber"></a>isNumber</h3><p>æ£€æŸ¥ç»™å®šå¯¹è±¡æ˜¯å¦æ˜¯æ•°å­—</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isNumber = <span class="function"><span class="params">val</span> =&gt;</span> <span class="keyword">typeof</span> val === <span class="string">'number'</span>;</span><br><span class="line"><span class="comment">// isNumber('1') -&gt; false</span></span><br><span class="line"><span class="comment">// isNumber(1) -&gt; true</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="isString"><a href="#isString" class="headerlink" title="isString"></a>isString</h3><p>æ£€æŸ¥ç»™å®šå¯¹è±¡æ˜¯å¦æ˜¯å­—ç¬¦ä¸²</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isString = <span class="function"><span class="params">val</span> =&gt;</span> <span class="keyword">typeof</span> val === <span class="string">'string'</span>;</span><br><span class="line"><span class="comment">// isString(10) -&gt; false</span></span><br><span class="line"><span class="comment">// isString('10') -&gt; true</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="isSymbol"><a href="#isSymbol" class="headerlink" title="isSymbol"></a>isSymbol</h3><p>æ£€æŸ¥ç»™å®šå¯¹è±¡æ˜¯å¦æ˜¯symbol.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isSymbol = <span class="function"><span class="params">val</span> =&gt;</span> <span class="keyword">typeof</span> val === <span class="string">'symbol'</span>;</span><br><span class="line"><span class="comment">// isSymbol('x') -&gt; false</span></span><br><span class="line"><span class="comment">// isSymbol(Symbol('x')) -&gt; true</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="RGBToHex"><a href="#RGBToHex" class="headerlink" title="RGBToHex"></a>RGBToHex</h3><p>å°†RGBè‰²å€¼è½¬æ¢ä¸ºHex</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> RGBToHex = <span class="function">(<span class="params">r, g, b</span>) =&gt;</span> ((r &lt;&lt; <span class="number">16</span>) + (g &lt;&lt; <span class="number">8</span>) + b).toString(<span class="number">16</span>).padStart(<span class="number">6</span>, <span class="string">'0'</span>);</span><br><span class="line"><span class="comment">// RGBToHex(255, 165, 1) -&gt; 'ffa501'</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="timeTaken"><a href="#timeTaken" class="headerlink" title="timeTaken"></a>timeTaken</h3><p>è®¡ç®—å‡½æ•°æ‰§è¡Œæ—¶é—´</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> timeTaken = <span class="function"><span class="params">callback</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.time(<span class="string">'timeTaken'</span>);  <span class="keyword">const</span> r = callback();</span><br><span class="line">  <span class="built_in">console</span>.timeEnd(<span class="string">'timeTaken'</span>);  <span class="keyword">return</span> r;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// timeTaken(() =&gt; Math.pow(2, 10)) -&gt; 1024</span></span><br><span class="line"><span class="comment">// (logged): timeTaken: 0.02099609375ms</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="toOrdinalSuffix"><a href="#toOrdinalSuffix" class="headerlink" title="toOrdinalSuffix"></a>toOrdinalSuffix</h3><p>Adds an ordinal suffix to a number.</p><p>Use the modulo operator (<code>%</code>) to find values of single and tens digits.<br>Find which ordinal pattern digits match.<br>If digit is found in teens pattern, use teens ordinal.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> toOrdinalSuffix = <span class="function"><span class="params">num</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> int = <span class="built_in">parseInt</span>(num), digits = [(int % <span class="number">10</span>), (int % <span class="number">100</span>)],</span><br><span class="line">    ordinals = [<span class="string">'st'</span>, <span class="string">'nd'</span>, <span class="string">'rd'</span>, <span class="string">'th'</span>], oPattern = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">    tPattern = [<span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>];</span><br><span class="line">  <span class="keyword">return</span> oPattern.includes(digits[<span class="number">0</span>]) &amp;&amp; !tPattern.includes(digits[<span class="number">1</span>]) ? int + ordinals[digits[<span class="number">0</span>] - <span class="number">1</span>] : int + ordinals[<span class="number">3</span>];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// toOrdinalSuffix("123") -&gt; "123rd"</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="UUIDGenerator"><a href="#UUIDGenerator" class="headerlink" title="UUIDGenerator"></a>UUIDGenerator</h3><p>ç”ŸæˆUUID.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> UUIDGenerator = <span class="function"><span class="params">()</span> =&gt;</span></span><br><span class="line">  ([<span class="number">1e7</span>] + <span class="number">-1e3</span> + <span class="number">-4e3</span> + <span class="number">-8e3</span> + <span class="number">-1e11</span>).replace(<span class="regexp">/[018]/g</span>, c =&gt;</span><br><span class="line">    (c ^ crypto.getRandomValues(<span class="keyword">new</span> <span class="built_in">Uint8Array</span>(<span class="number">1</span>))[<span class="number">0</span>] &amp; <span class="number">15</span> &gt;&gt; c / <span class="number">4</span>).toString(<span class="number">16</span>)</span><br><span class="line">  );</span><br><span class="line"><span class="comment">// UUIDGenerator() -&gt; '7982fcfe-5721-4632-bede-6000885be57d'</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="validateEmail"><a href="#validateEmail" class="headerlink" title="validateEmail"></a>validateEmail</h3><p>éªŒè¯æ˜¯å¦ä¸ºé‚®ç®±</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> validateEmail = <span class="function"><span class="params">str</span> =&gt;</span></span><br><span class="line">  /^(([^&lt;&gt;()\[\]\\.,;:\s@"]+(\.[^&lt;&gt;()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]&#123;2,&#125;))$/.test(str);</span><br><span class="line">// validateEmail(mymail@gmail.com) -&gt; true</span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h3 id="validateNumber"><a href="#validateNumber" class="headerlink" title="validateNumber"></a>validateNumber</h3><p>éªŒè¯æ˜¯å¦ä¸ºæ•°å­—</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> validateNumber = <span class="function"><span class="params">n</span> =&gt;</span> !<span class="built_in">isNaN</span>(<span class="built_in">parseFloat</span>(n)) &amp;&amp; <span class="built_in">isFinite</span>(n) &amp;&amp; <span class="built_in">Number</span>(n) == n;</span><br><span class="line"><span class="comment">// validateNumber('10') -&gt; true</span></span><br></pre></td></tr></table></figure><p><a href="#ç›®å½•">â¬† back to top</a></p><h2 id="Credits"><a href="#Credits" class="headerlink" title="Credits"></a>Credits</h2><p><em>Icons made by <a href="https://www.flaticon.com/authors/smashicons" target="_blank" rel="noopener">Smashicons</a> from <a href="https://www.flaticon.com/" target="_blank" rel="noopener">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" target="_blank" rel="noopener">CC 3.0 BY</a>.</em></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;/images/30-seconds-of-code/1.png&quot; alt=&quot;img&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;èŠ±30ç§’æˆ–è€…æ›´çŸ­çš„æ—¶é—´å°±èƒ½ç†è§£çš„Javascriptä»£ç æ®µ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;å¯ä»¥ä½¿ç”¨&lt;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>CSSç»ˆæä¹‹æˆ˜ï¼šGrid vs Flexbox</title>
    <link href="https://catwen.cn/2017/12/12/the-ultimate-css-battle-grid-vs-flexbox/"/>
    <id>https://catwen.cn/2017/12/12/the-ultimate-css-battle-grid-vs-flexbox/</id>
    <published>2017-12-12T02:19:06.000Z</published>
    <updated>2021-12-18T15:50:15.704Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨è¿‡å»å‡ å¹´é‡Œï¼Œ<code>Flexbox</code>å·²ç»æˆäº†å‰ç«¯æœ€æµè¡Œçš„å¸ƒå±€æ¡†æ¶ï¼Œè¿™å¹¶ä¸å¥‡æ€ªï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„ç”¨å®ƒå»å¯¹é½å…ƒç´ ã€‚</p><p>ç„¶è€Œï¼Œå‰ç«¯æ‘å„¿é‡Œé¢è¿˜æœ‰ä¸ªå«<code>Grid</code>çš„å°å­©å„¿ï¼Œä»–å’Œ<code>Flexbox</code>æœ‰å¾ˆå¤šåŠŸèƒ½ç›¸ä¼¼çš„åœ°æ–¹ï¼Œæœ‰äº›åœ°æ–¹ä»–æ¯”<code>Flexbox</code>è¦å¥½ï¼Œä½†æœ‰ä¹Ÿæœ‰ä¸è¶³ã€‚</p><p>è¿™ä¹Ÿä¼šå˜æˆè®©å¼€å‘è€…ä»¬çº ç»“çš„åœ°æ–¹ï¼Œåº”è¯¥ç”¨å“ªä¸ªï¼Ÿæœ¬æ–‡å°†ä¼šåœ¨å®è§‚å’Œå¾®è§‚ä¸Šé¢å¯¹æ¯”ä¸¤ä¸ªæ¨¡å—ã€‚</p><h2 id="ä¸€ç»´-vs-äºŒç»´"><a href="#ä¸€ç»´-vs-äºŒç»´" class="headerlink" title="ä¸€ç»´ vs äºŒç»´"></a>ä¸€ç»´ vs äºŒç»´</h2><blockquote><p><code>Flexbox</code>ç”¨æ¥åšä¸€ç»´å¸ƒå±€ï¼Œ<code>Grid</code>ç”¨æ¥åšäºŒç»´å¸ƒå±€</p></blockquote><p>æ„æ€æ˜¯å¦‚æœä½ åªåœ¨ä¸€ä¸ªæ–¹å‘ä¸Šå¸ƒå±€ï¼ˆæ¯”å¦‚åœ¨headeré‡Œé¢æ”¾ä¸‰ä¸ªbuttonï¼‰ï¼Œä½ éœ€è¦ä½¿ç”¨<code>Flexbox</code></p><p><img src="/images/the-ultimate-css-battle-grid-vs-flexbox/2.png" alt="img"></p><p>ä»–å°†ä¼šæ¯”<code>Grid</code>æ›´åŠ çµæ´»ï¼Œå¯ä»¥ç”¨æ›´å°‘çš„ä»£ç å»å®ç°å¹¶ä¸”æ›´åŠ å®¹æ˜“ç»´æŠ¤ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœä½ æ‰“ç®—åœ¨ä¸¤ä¸ªç»´åº¦ä¸Šåˆ›å»ºä¸€ä¸ªå®Œæ•´çš„å¸ƒå±€ï¼ŒåŒæ—¶ä½¿ç”¨è¡Œå’Œåˆ—ï¼Œé‚£ä¹ˆä½ åº”è¯¥ä½¿ç”¨<code>Grid</code></p><h2 id="äºŒç»´"><a href="#äºŒç»´" class="headerlink" title="äºŒç»´"></a>äºŒç»´</h2><p><img src="/images/the-ultimate-css-battle-grid-vs-flexbox/3.png" alt="img"></p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>Grid</code>ä¼šæ›´åŠ çµæ´»ï¼Œå¹¶ä¸”ä¼šä½¿ä½ çš„æ ‡ç­¾æ›´ç®€å•ï¼Œä»£ç æ›´å®¹æ˜“ç»´æŠ¤ã€‚</p><p>ä½ å¯ä»¥ç»“åˆä¸¤è€…ä¸€èµ·ä½¿ç”¨ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­æœ€å®Œç¾çš„åšæ³•æ˜¯ä½¿ç”¨<code>Grid</code>æ¥å¸ƒå±€é¡µé¢ï¼Œä½¿ç”¨<code>Flexbox</code>å»å¯¹é½headeré‡Œé¢çš„å†…å®¹ã€‚</p><h2 id="å†…å®¹ä¼˜å…ˆ-vs-å¸ƒå±€ä¼˜å…ˆ"><a href="#å†…å®¹ä¼˜å…ˆ-vs-å¸ƒå±€ä¼˜å…ˆ" class="headerlink" title="å†…å®¹ä¼˜å…ˆ vs å¸ƒå±€ä¼˜å…ˆ"></a>å†…å®¹ä¼˜å…ˆ vs å¸ƒå±€ä¼˜å…ˆ</h2><p>ä¸¤è€…çš„å¦ä¸€ä¸ªæ ¸å¿ƒåŒºåˆ«æ˜¯<code>Flexbox</code>ä»¥å†…å®¹ä¸ºåŸºç¡€ï¼Œ<code>Grid</code>ä»¥å¸ƒå±€ä¸ºåŸºç¡€ï¼Œå¬èµ·æ¥æœ‰äº›æŠ½è±¡ï¼Œæˆ‘ä»¬æ¥ç”¨ä¸€ä¸ªå®é™…çš„ä¾‹å­å»è§£é‡Šä¸€ä¸‹ã€‚</p><p>æˆ‘ä»¬ä¼šç”¨ä¸Šä¸€æ®µæåˆ°çš„headerï¼Œä»–çš„HTMLæ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>Search<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>Logout<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨ä½¿ç”¨<code>Flexbox</code>ä¹‹å‰ï¼Œé‡Œé¢çš„divä¼šå †å åœ¨å½¼æ­¤ä¹‹ä¸Šï¼š</p><p><img src="/images/the-ultimate-css-battle-grid-vs-flexbox/4.png" alt="img"></p><h2 id="Flexbox-header"><a href="#Flexbox-header" class="headerlink" title="Flexbox header"></a>Flexbox header</h2><p>å½“æˆ‘ä»¬åŠ äº†<code>display:flex</code>ä¹‹åï¼Œä»–ä»¬ä¼šæ¼‚äº®çš„åœ¨ä¸€æ¡çº¿ä¸Šã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">header</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>:flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/images/the-ultimate-css-battle-grid-vs-flexbox/5.png" alt="img"></p><p>ä¸ºäº†è®©logout button åœ¨æœ€å³è¾¹ï¼Œæˆ‘ä»¬ç®€å•çš„ç»™ä»–æŒ‡å®šä¸€ä¸ªmarginï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">header</span> &gt; <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child(3)</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="/images/the-ultimate-css-battle-grid-vs-flexbox/6.png" alt="img"></p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šè®©å…ƒç´ æœ¬èº«å†³å®šä»–æ”¾åœ¨å“ªé‡Œï¼Œæˆ‘ä»¬é™¤äº†<code>display: flex</code>ä¹‹å¤–ä¸æ·»åŠ ä»»ä½•ä¸œè¥¿ã€‚</p><p>è¿™æ˜¯<code>Flexbox</code>å’Œ<code>Grid</code>çš„æ ¸å¿ƒå·®åˆ«ï¼Œå½“æˆ‘ä»¬ç”¨<code>Grid</code>æ¥åˆ›å»ºè¿™ä¸ªheaderæ—¶ï¼Œè¿™ä¸ªå·®åˆ«ä¼šæ›´åŠ æ˜æ˜¾ã€‚</p><blockquote><p>å°½ç®¡ç”¨<code>Grid</code>åˆ›å»ºä¸€ç»´çš„headerä¸å¤ªåˆé€‚ï¼Œä½†åœ¨æœ¬æ–‡ä¸­å»å®ç°å®ƒå´æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç»ƒä¹ ï¼Œå› ä¸ºå®ƒæ•™ä¼šäº†æˆ‘ä»¬å…³äº<code>Flexbox</code>å’Œ<code>Grid</code>çš„æ ¸å¿ƒåŒºåˆ«</p></blockquote><h2 id="Grid-header"><a href="#Grid-header" class="headerlink" title="Grid header"></a>Grid header</h2><p>å¦‚æœä½¿ç”¨<code>Grid</code>ä¼šæœ‰å¤šç§æ–¹æ³•ã€‚æˆ‘å‡†å¤‡ç”¨éå¸¸ç®€å•çš„ä¸€ç§å»åšï¼Œæˆ‘ä»¬çš„<code>Grid</code>æœ‰ååˆ—ï¼Œæ¯ä¸€åˆ—éƒ½æ˜¯ä¸€ä¸ªå•ä½å®½åº¦ ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">header</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="number">10</span>, <span class="number">1</span>fr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»–çœ‹èµ·æ¥å’Œ<code>Flexbox</code>çš„è§£å†³æ–¹æ¡ˆä¸€æ ·</p><p><img src="/images/the-ultimate-css-battle-grid-vs-flexbox/7.png" alt="img"></p><p>ä½†æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸Šå¸è§†è§’å»çœ‹ä¸¤è€…æœ‰ä»€ä¹ˆä¸åŒï¼Œæˆ‘ä»¬æ¥ä½¿ç”¨chromeçš„å®¡æŸ¥å…ƒç´ å»çœ‹ä¸€ä¸‹ï¼š</p><p><img src="/images/the-ultimate-css-battle-grid-vs-flexbox/8.png" alt="img"></p><p>æœ€å…³é”®çš„åŒºåˆ«å°±æ˜¯ï¼Œè¿™ç§æ–¹å¼å¿…é¡»å…ˆå®šä¹‰å¸ƒå±€çš„åˆ—ã€‚ä»å®šä¹‰åˆ—çš„å®½åº¦å¼€å§‹ï¼Œç„¶åæˆ‘ä»¬æ‰èƒ½å°†å…ƒç´ æ”¾åœ¨å¯ç”¨çš„å•å…ƒæ ¼ä¸­ã€‚</p><blockquote><p>è¿™ç§æ–¹å¼å¼ºè¿«æˆ‘ä»¬å»åˆ†å‰²æˆ‘ä»¬çš„headeræœ‰å¤šå°‘åˆ—</p></blockquote><p>é™¤éæˆ‘ä»¬æ”¹å˜<code>Grid</code>ï¼Œå¦åˆ™æˆ‘ä»¬ä¼šè¢«å›°æ­»åœ¨10åˆ—ä¸­ï¼Œä½†æ˜¯åœ¨<code>Flexbox</code>ä¸­æˆ‘ä»¬ä¸ä¼šè¢«è¿™ä¸ªéº»çƒ¦å›°æ‰°ã€‚</p><p>ä¸ºäº†æŠŠlogoutæ”¾åœ¨æœ€å³è¾¹ï¼Œæˆ‘ä»¬ä¼šæŠŠä»–æ”¾åœ¨ç¬¬ååˆ—ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">header</span> &gt; <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child(3)</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column</span>: <span class="number">10</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¡æŸ¥å…ƒç´ æ—¶ï¼Œçœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š</p><p><img src="/images/the-ultimate-css-battle-grid-vs-flexbox/9.png" alt="img"></p><p>æˆ‘ä»¬ä¸èƒ½ç®€å•çš„æ·»åŠ ä¸€ä¸ª<code>margin-left: auto;</code>å› ä¸ºå®ƒå·²ç»è¢«æ”¾åœ¨äº†ç¬¬ä¸‰ä¸ªå•å…ƒæ ¼ä¸­ï¼Œæƒ³è¦ç§»åŠ¨å®ƒï¼Œæˆ‘ä»¬å¾—å†æ‰¾ä¸€ä¸ªå•å…ƒæ ¼æŠŠå®ƒæ”¾è¿›å»ã€‚</p><h2 id="ç»“åˆä¸¤è€…"><a href="#ç»“åˆä¸¤è€…" class="headerlink" title="ç»“åˆä¸¤è€…"></a>ç»“åˆä¸¤è€…</h2><p>ç°åœ¨æˆ‘ä»¬çœ‹ä¸‹å¦‚å¦‚ä½•åŒæ—¶ä½¿ç”¨<code>Grid</code>å’Œ<code>Flexbox</code>æ¥æŠŠheaderåˆå¹¶è¿›æˆ‘ä»¬çš„å¸ƒå±€ï¼Œæˆ‘ä»¬å…ˆæ¥åˆ›å»ºå¸ƒå±€ã€‚</p><p><img src="/images/the-ultimate-css-battle-grid-vs-flexbox/10.png" alt="img"></p><p>æ ‡ç­¾å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span>HEADER<span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">aside</span>&gt;</span>MENU<span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span>CONTENT<span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span>FOOTER<span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶åæ˜¯CSSï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="number">12</span>, <span class="number">1</span>fr);</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">50px</span> <span class="number">350px</span> <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŠŠå…ƒç´ æ”¾è¿›<code>Grid</code>ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">header</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column</span>: span <span class="number">12</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">aside</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column</span>: span <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">main</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column</span>: span <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">footer</span> &#123;</span><br><span class="line">  <span class="attribute">grid-column</span>: span <span class="number">12</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢ä»…éœ€è¦æ¥å¸ƒç½®å¥½headerï¼šæˆ‘ä»¬æŠŠå®ƒä»<code>Grid</code>ä¸­çš„å…ƒç´ è½¬æ¢ä¸º<code>Flexbox</code>å®¹å™¨ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">header</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬æŠŠlogoutæ”¾åœ¨å³è¾¹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">header</span> &gt; <span class="selector-tag">div</span><span class="selector-pseudo">:nth-child(3)</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬æœ‰äº†åŒæ—¶ä½¿ç”¨<code>Grid</code>å’Œ<code>Flexbox</code>çš„å®Œç¾å¸ƒå±€ã€‚ä¸‹é¢æ˜¯è¿™ä¸¤ä¸ªå®¹å™¨ï¼š</p><p><img src="/images/the-ultimate-css-battle-grid-vs-flexbox/11.png" alt="img"></p><p>æ‰€ä»¥ç°åœ¨ä½ åº”è¯¥ç†è§£äº†<code>Flexbox</code> å’Œ<code>Grid</code>çš„å·®åˆ«ï¼Œä¹ŸçŸ¥é“äº†å¦‚ä½•ç»“åˆä¸¤è€…ä½¿ç”¨ã€‚</p><h2 id="æµè§ˆå™¨æ”¯æŒ"><a href="#æµè§ˆå™¨æ”¯æŒ" class="headerlink" title="æµè§ˆå™¨æ”¯æŒ"></a>æµè§ˆå™¨æ”¯æŒ</h2><p>æœ¬æ–‡æˆªæ­¢å‰ï¼Œå…¨çƒ77%æµé‡çš„ç½‘ç«™æ”¯æŒ<code>Grid</code>ï¼Œè¿™ä¸ªæ•°å­—è¿˜åœ¨ä¸æ–­å¢é•¿ã€‚</p><blockquote><p>æˆ‘ç›¸ä¿¡2018å¹´å°†ä¼šæ˜¯<code>Grid</code>çš„ä¸€å¹´ï¼Œä»–å°†è·å¾—çªç ´ï¼Œå¹¶å°†æˆä¸ºå‰ç«¯å¼€å‘äººå‘˜çš„å¿…å¤‡æŠ€èƒ½ï¼Œå°±åƒè¿‡å»å‡ å¹´çš„<code>Flexbox</code>ä¸€æ ·ã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åœ¨è¿‡å»å‡ å¹´é‡Œï¼Œ&lt;code&gt;Flexbox&lt;/code&gt;å·²ç»æˆäº†å‰ç«¯æœ€æµè¡Œçš„å¸ƒå±€æ¡†æ¶ï¼Œè¿™å¹¶ä¸å¥‡æ€ªï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿çš„ç”¨å®ƒå»å¯¹é½å…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œå‰ç«¯æ‘å„¿é‡Œé¢è¿˜æœ‰ä¸ªå«&lt;code&gt;Grid&lt;/code&gt;çš„å°å­©å„¿ï¼Œä»–å’Œ&lt;code&gt;Flexbox&lt;/code&gt;æœ‰å¾ˆå¤šåŠŸèƒ½ç›¸
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>ä¸ºä»€ä¹ˆCSS Gridæ¯”Bootstrapæ›´é€‚åˆå¸ƒå±€</title>
    <link href="https://catwen.cn/2017/12/05/css-grid-is-better-than-bootstrap/"/>
    <id>https://catwen.cn/2017/12/05/css-grid-is-better-than-bootstrap/</id>
    <published>2017-12-05T12:42:49.000Z</published>
    <updated>2021-12-18T15:50:15.704Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/css-grid-is-better-than-bootstrap/1.png" alt="img"><br><code>CSS Grid</code>æ˜¯ä¸€ç§å…¨æ–°çš„åˆ›å»ºå¸ƒå±€æ–¹å¼ï¼Œè¿™æ˜¯æœ‰å²ä»¥æ¥ç¬¬ä¸€ä¸ªåˆé€‚çš„å¸ƒå±€ç³»ç»Ÿï¼Œå¹¶ä¸”æ˜¯æµè§ˆå™¨åŸç”Ÿçš„ï¼Œç»™æˆ‘ä»¬å¸¦æ¥äº†å¾ˆå¤šå¥½å¤„ã€‚</p><p>å½“ä½ å’Œå½“ä»Šæœ€æµè¡Œçš„<code>Bootstrap</code>æ¡†æ¶ç›¸æ¯”ï¼Œgridçš„å¥½å¤„å˜çš„å°¤ä¸ºæ¸…æ™°ï¼Œæ‚¨ä¸ä»…å¯ä»¥åˆ›å»ºåœ¨ä»¥å‰åœ¨ä¸å¼•å…¥JavaScriptçš„æƒ…å†µä¸‹æ— æ³•å®ç°çš„å¸ƒå±€ï¼Œè€Œä¸”æ‚¨çš„ä»£ç å°†æ›´æ˜“äºç»´æŠ¤å’Œç†è§£ã€‚</p><p>æœ¬æ–‡ä¸­æˆ‘ä¼šè§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆã€‚</p><h2 id="æ ‡ç­¾ä¼šæ›´åŠ ç®€æ´"><a href="#æ ‡ç­¾ä¼šæ›´åŠ ç®€æ´" class="headerlink" title="æ ‡ç­¾ä¼šæ›´åŠ ç®€æ´"></a>æ ‡ç­¾ä¼šæ›´åŠ ç®€æ´</h2><p>ç›¸æ¯”<code>Bootstrap</code>ï¼Œä½¿ç”¨gridä¼šä½¿ä½ çš„HTMLæ›´åŠ å¹²å‡€ï¼Œè™½ç„¶è¿™ä¸æ˜¯æœ€é‡è¦çš„å¥½å¤„ï¼Œä½†å®ƒå¯èƒ½ä¼šæ˜¯ä½ ç¬¬ä¸€ä¸ªæ³¨æ„åˆ°çš„ã€‚</p><p>ä¸ºäº†ä¸¾ä¾‹è¯´æ˜ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªå¸ƒå±€ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬æ‰€éœ€è¦çš„ä»£ç ã€‚</p><p><img src="/images/css-grid-is-better-than-bootstrap/2.png" alt="img"></p><blockquote><p>æ³¨æ„ï¼šæˆ‘åœ¨ç»™å‡ºçš„ä¾‹å­ä¸­ç¨å¾®è®¾è®¡äº†ä¸€ä¸‹ï¼Œä½†æ˜¯ä»–å’Œæˆ‘ä»¬æ¯”è¾ƒ<code>Bootstrap</code>æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œæ‰€ä»¥æˆ‘åªä¿ç•™å¸ƒå±€éƒ¨åˆ†çš„CSS</p></blockquote><h2 id="Bootstrap"><a href="#Bootstrap" class="headerlink" title="Bootstrap"></a>Bootstrap</h2><p>å…ˆçœ‹ä¸€ä¸‹<code>Bootstrap</code>éœ€è¦åˆ›å»ºçš„æ ‡ç­¾ã€‚<br><img src="/images/css-grid-is-better-than-bootstrap/3.png" alt="img"></p><p>è¿™é‡Œæœ‰ä¸¤ä»¶äº‹éœ€è¦æ³¨æ„ä¸€ä¸‹ï¼š</p><ul><li>æ¯ä¸ªrowéƒ½éœ€è¦ä¸€ä¸ª<code>&lt;div&gt;</code>æ ‡ç­¾</li><li>ä½¿ç”¨äº†class nameæ¥æŒ‡å®šå¸ƒå±€(<code>col-xs-2</code>)</li></ul><p>éšç€è¿™ç§å¸ƒå±€çš„å¤æ‚æ€§å¢é•¿ï¼ŒHTMLä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><p>å¦‚æœè¿™æ˜¯ä¸ªå“åº”å¼ç½‘ç«™ï¼Œå®ƒä¼šçœ‹èµ·æ¥æ›´å¤æ‚ï¼š<br><img src="/images/css-grid-is-better-than-bootstrap/4.png" alt="img"></p><p>ç°åœ¨æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ç”¨Gridå¸ƒå±€ï¼š<br><img src="/images/css-grid-is-better-than-bootstrap/5.png" alt="img"></p><p>æˆ‘å¯ä»¥åœ¨è¿™é‡Œä½¿ç”¨è¯­ä¹‰åŒ–å…ƒç´ ï¼Œä½†æˆ‘è¿˜æ˜¯ä½¿ç”¨divæ¥å’Œ<code>Bootstrap</code>å¯¹æ¯”ã€‚</p><p>æ˜¾ç„¶ï¼Œgridç”¨æ¥å¸ƒå±€çœ‹èµ·æ¥æ›´ç®€å•ï¼Œä¸‘é™‹çš„ç±»åå’Œæ¯è¡Œæ‰€éœ€çš„é¢å¤–çš„divæ ‡ç­¾ä¸€å»ä¸å¤è¿”äº†ï¼Œç®€ç®€å•å•ä¸€ä¸ªcontainerå’Œé‡Œé¢çš„itemã€‚</p><p>ä¸<code>Bootstrap</code>ä¸åŒçš„æ˜¯ï¼Œéšç€å¸ƒå±€å¤æ‚åº¦çš„å¢åŠ ï¼ŒGridå¸ƒå±€æ ‡ç­¾çš„å¤æ‚åº¦å°†ä¸ä¼šå¢åŠ å¤ªå¤šã€‚</p><p><code>Bootstrap</code>ç¤ºä¾‹ä¸éœ€è¦æ·»åŠ ä»»ä½•CSSï¼Œå¼•ç”¨ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚<code>CSS Grid</code>è‚¯å®šéœ€è¦æ·»åŠ ã€‚å…·ä½“æ¥è¯´ï¼Œæ˜¯è¿™æ ·çš„ï¼š<br><img src="/images/css-grid-is-better-than-bootstrap/6.png" alt="img"></p><p>è¿™å¯èƒ½æ˜¯ä¸€äº›äººèµæˆ<code>Bootstrap</code>çš„ä¸€ä¸ªè®ºç‚¹ï¼šä½ ä¸ç”¨å…³å¿ƒCSSï¼Œåªéœ€è¦åœ¨HTMLä¸­å®šä¹‰å¸ƒå±€ã€‚ä½†æ˜¯ï¼Œæ­£å¦‚ä½ å°†ä¼šæ˜ç™½çš„é‚£æ ·ï¼Œå½“æ¶‰åŠåˆ°çµæ´»æ€§çš„æ—¶å€™ï¼Œæ ‡ç­¾å’Œå¸ƒå±€ä¹‹é—´çš„è€¦åˆä¼šå˜æˆä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ã€‚</p><h2 id="æ›´çµæ´»"><a href="#æ›´çµæ´»" class="headerlink" title="æ›´çµæ´»"></a>æ›´çµæ´»</h2><p>å‡è®¾æ‚¨æƒ³è¦æ ¹æ®å±å¹•å¤§å°æ›´æ”¹å¸ƒå±€ã€‚ ä¾‹å¦‚ï¼Œå°†èœå•æ‹‰åˆ°æœ€ä¸Šé¢ä¸€è¡Œï¼Œåœ¨ç§»åŠ¨è®¾å¤‡ä¸ŠæŸ¥çœ‹ã€‚</p><p>æ¢å¥è¯è¯´ï¼Œå¸ƒå±€ä»è¿™æ ·ï¼š</p><p><img src="/images/css-grid-is-better-than-bootstrap/2.png" alt="img"></p><p>æ¢æˆè¿™æ ·ï¼š</p><p><img src="/images/css-grid-is-better-than-bootstrap/12.png" alt="img"></p><h2 id="CSS-Grid"><a href="#CSS-Grid" class="headerlink" title="CSS Grid"></a>CSS Grid</h2><p>ç”¨<code>CSS Grid</code>çš„è¯ä¼šéå¸¸ç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦æ·»åŠ ä¸€ä¸ª<code>media query</code>ï¼Œå¸ƒå±€å°±åƒå˜é­”æœ¯ä¸€æ ·å˜æˆäº†ä½ æƒ³è¦çš„ã€‚</p><p><img src="/images/css-grid-is-better-than-bootstrap/7.png" alt="img"></p><p>ä½ å¯ä»¥è¿™æ ·é‡æ–°æ’åˆ—å¸ƒå±€ï¼Œä¸ç”¨æ‹…å¿ƒHTMLæ ‡ç­¾ç¼–å†™çš„é¡ºåºï¼Œè¿™å¯¹å¼€å‘äººå‘˜å’Œè®¾è®¡å¸ˆéƒ½æ˜¯å¾ˆå¤§çš„ä¸€ä¸ªå¥½å¤„ï¼</p><h2 id="BootStrap"><a href="#BootStrap" class="headerlink" title="BootStrap"></a>BootStrap</h2><p>å¦‚æœæƒ³åœ¨<code>Bootstrap</code>ä¸­åšåŒæ ·çš„äº‹æƒ…ï¼Œå°±å¿…é¡»å¾—ä¿®æ”¹HTMLäº†ï¼Œéœ€è¦è°ƒæ•´æ ‡ç­¾çš„é¡ºåºã€‚</p><p><img src="/images/css-grid-is-better-than-bootstrap/8.png" alt="img"></p><p>è¿™ä¸ªéœ€æ±‚ä»…ä»…ä½¿ç”¨media queryæ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œä½ è¿˜å¾—ä½¿ç”¨JavaScriptã€‚</p><p>è¿™ä¸ªä¾‹å­æ˜¯æˆ‘ä½“ä¼šåˆ°çš„gridæœ€å¤§çš„å¥½å¤„</p><h2 id="ä¸å†é™æ­»12åˆ—"><a href="#ä¸å†é™æ­»12åˆ—" class="headerlink" title="ä¸å†é™æ­»12åˆ—"></a>ä¸å†é™æ­»12åˆ—</h2><p>è¿™ä¸ªä¸æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼Œä½†æ˜¯è¿™ä¸ªé—®é¢˜ä¹Ÿå›°æ‰°è¿‡æˆ‘å¤šæ¬¡ï¼Œå› ä¸º<code>Bootstrap</code>çš„gridç³»ç»Ÿåˆ†ä¸ºäº†12åˆ—ï¼Œå¦‚æœä½ æƒ³è¦ä¸€ä¸ª5åˆ—çš„å¸ƒå±€å°±ä¼šçº ç»“ï¼Œæˆ–æ˜¯7åˆ—ã€9åˆ—ã€ä»»ä½•ä¸ä¼šåˆä¸º12åˆ—çš„ã€‚</p><p><code>CSS Grid</code>å°±æ²¡æœ‰ä»»ä½•é™åˆ¶ï¼Œä½ å¯ä»¥è®©gridæ­£å¥½æœ‰ä½ æƒ³è¦çš„æ•°é‡ã€‚è¿™æ˜¯ä¸€ä¸ª7åˆ—çš„gridï¼š</p><p><img src="/images/css-grid-is-better-than-bootstrap/9.png" alt="img"></p><p>é€šè¿‡è®¾ç½®<code>grid-template-columns : repeat(7, 1fr)</code>å®ç°ï¼Œå°±åƒè¿™æ ·ï¼š</p><p><img src="/images/css-grid-is-better-than-bootstrap/10.png" alt="img"></p><h2 id="æµè§ˆå™¨æ”¯æŒ"><a href="#æµè§ˆå™¨æ”¯æŒ" class="headerlink" title="æµè§ˆå™¨æ”¯æŒ"></a>æµè§ˆå™¨æ”¯æŒ</h2><p>å½“ç„¶ä¹Ÿå¿…é¡»è®¨è®ºä¸€ä¸‹æµè§ˆå™¨æ”¯æŒï¼Œåœ¨æ’°å†™æœ¬æ–‡çš„æ—¶å€™ï¼Œå…¨çƒ75%çš„ç½‘ç«™æµé‡æ”¯æŒ<code>CSS Grid</code></p><p><img src="/images/css-grid-is-better-than-bootstrap/11.png" alt="img"></p><blockquote><p><code>CSS Grid</code>æ˜¯ä¸€ä¸ªå¸ƒå±€æ¨¡å—ï¼Œå®ƒå…è®¸æˆ‘ä»¬æ”¹å˜æ–‡æ¡£çš„å¸ƒå±€ï¼Œè€Œä¸ä¼šå¹²æ‰°æ ‡ç­¾é¡ºåºã€‚æ¢å¥è¯è¯´ï¼ŒCSSç½‘æ ¼æ˜¯ä¸€ä¸ªçº¯ç²¹çš„å¯è§†åŒ–å·¥å…·ï¼Œä½¿ç”¨å¾—å½“ï¼Œå¯¹æ–‡æ¡£å†…å®¹çš„è¡¨è¾¾åº”è¯¥æ²¡æœ‰å½±å“ã€‚æ‰€ä»¥ï¼šåœ¨æ—§çš„æµè§ˆå™¨ä¸­ç¼ºä¹å¯¹<code>CSS Grid</code>çš„æ”¯æŒä¸å½±å“è®¿é—®è€…çš„ä½“éªŒï¼Œåªæ˜¯è®©ä½“éªŒä¸åŒã€‚</p></blockquote><p><a href="https://hackernoon.com/how-css-grid-beats-bootstrap-85d5881cf163" target="_blank">åŸæ–‡é“¾æ¥</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;/images/css-grid-is-better-than-bootstrap/1.png&quot; alt=&quot;img&quot;&gt;&lt;br&gt;&lt;code&gt;CSS Grid&lt;/code&gt;æ˜¯ä¸€ç§å…¨æ–°çš„åˆ›å»ºå¸ƒå±€æ–¹å¼ï¼Œè¿™æ˜¯æœ‰å²ä»¥æ¥ç¬¬ä¸€ä¸ªåˆé€‚çš„å¸ƒå±€ç³»ç»Ÿï¼Œå¹¶ä¸”æ˜¯æµè§ˆå™¨åŸç”Ÿçš„ï¼Œç»™æˆ‘ä»¬
      
    
    </summary>
    
    
      <category term="css,grid,bootstrap" scheme="https://catwen.cn/tags/css-grid-bootstrap/"/>
    
  </entry>
  
  <entry>
    <title>Gitlab CIï¼Œä½ å€¼å¾—æ‹¥æœ‰</title>
    <link href="https://catwen.cn/2017/08/05/gitlab-ci-configuration/"/>
    <id>https://catwen.cn/2017/08/05/gitlab-ci-configuration/</id>
    <published>2017-08-05T14:46:20.000Z</published>
    <updated>2021-12-18T15:50:15.704Z</updated>
    
    <content type="html"><![CDATA[<p>å…ˆå” å¨ä¸€ä¸‹<code>æŒç»­é›†æˆ</code>çš„æ¦‚å¿µå’Œä¸ºä»€ä¹ˆè¦å»ç”¨å®ƒï¼Œå¦‚æœæœ‰ä¸€å®šäº†è§£çš„è¯å¯ä»¥è·³è¿‡ç›´æ¥å»çœ‹æ­£æ–‡</p><p><a href="https://zh.wikipedia.org/wiki/%E6%8C%81%E7%BA%8C%E6%95%B4%E5%90%88" target="_blank" rel="noopener">æŒç»­é›†æˆ(Continuous integrationç®€ç§°CI)</a>æ˜¯ä¸€ç§è½¯ä»¶å¼€å‘å®è·µï¼Œå³å›¢é˜Ÿå¼€å‘æˆå‘˜ç»å¸¸é›†æˆä»–ä»¬çš„å·¥ä½œï¼Œé€šè¿‡æ¯ä¸ªæˆå‘˜æ¯å¤©è‡³å°‘é›†æˆä¸€æ¬¡ï¼Œä¹Ÿå°±æ„å‘³ç€æ¯å¤©å¯èƒ½ä¼šå‘ç”Ÿå¤šæ¬¡é›†æˆã€‚æ¯æ¬¡é›†æˆéƒ½é€šè¿‡è‡ªåŠ¨åŒ–çš„æ„å»ºï¼ˆåŒ…æ‹¬ç¼–è¯‘ï¼Œå‘å¸ƒï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼‰æ¥éªŒè¯ï¼Œä»è€Œå°½æ—©åœ°å‘ç°é›†æˆé”™è¯¯ã€‚</p><p>ä¸Šé¢é‚£æ®µè¯æ€ä¹ˆå»ç†è§£å‘¢ï¼Ÿå…ˆå›æƒ³ä¸€ä¸‹æˆ‘ä»¬äº§å“å¼€å‘çš„åŸºæœ¬è¿‡ç¨‹ï¼Œä¼ ç»Ÿå¼€å‘æ¨¡å¼ä¸€èˆ¬æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¼€å‘ --&gt; ç¼–è¯‘ --&gt; éƒ¨ç½² --&gt; æµ‹è¯• --&gt; ä¸Šçº¿</span><br></pre></td></tr></table></figure><p>ä¸Šé¢æµç¨‹å†ç»†åˆ†å°±å˜æˆäº†ï¼š</p><ul><li>åˆ†é…ä»»åŠ¡ç»™å¼€å‘äººå‘˜</li><li>å¼€å‘</li><li>éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ</li><li>æµ‹è¯•å›¢é˜Ÿè¿›è¡Œæµ‹è¯•</li><li>å‡ºç°bugï¼Œè®°å½•åœ¨bugåˆ—è¡¨</li><li>åˆ†é…bugç»™å¼€å‘äººå‘˜</li><li>é‡å¤ å¼€å‘ -&gt; éƒ¨ç½² -&gt; æµ‹è¯•</li><li>ç›´åˆ°æ‰€æœ‰bugéƒ½è§£å†³ï¼Œéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ</li></ul><p>ä¸Šé¢çš„å¼€å‘è¿‡ç¨‹ä¸­æœ‰å¾ˆå¤šé—®é¢˜ï¼Œåˆæ˜¯æˆ‘ä»¬å¤§éƒ¨åˆ†äººéƒ½åœ¨é¢ä¸´çš„ï¼š</p><ul><li>å¤§é‡é‡å¤åŠ³åŠ¨</li><li>Bugæ€»æ˜¯åœ¨æœ€åæ‰å‘ç°</li><li>è¶Šåˆ°é¡¹ç›®åæœŸï¼Œé—®é¢˜è¶Šéš¾è§£å†³</li><li>ç¨‹åºç»å¸¸éœ€è¦å˜æ›´ï¼ˆæ— é™å¾ªç¯å¼€å‘ã€ç¼–è¯‘ã€æµ‹è¯•ã€éƒ¨ç½²ï¼‰</li><li>äº¤ä»˜æ—¶æœºæ— æ³•ä¿éšœ</li></ul><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦æŒç»­é›†æˆå»å°½æ—©å‘ç°æˆ‘ä»¬çš„é—®é¢˜ï¼Œå°½æ—©çš„å»è§£å†³ï¼Œå¹¶ä¸”å‡å°‘æˆ‘ä»¬å¼€å‘è¿‡ç¨‹ä¸­å„ä¸ªç¯èŠ‚çš„æ—¶é—´ï¼Œæå‡æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ï¼ŒæŒç»­é›†æˆçš„å·¥å…·æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ï¼šTravisã€Jenkinsã€Codeshipã€Striderè¿˜æœ‰ä»Šå¤©æˆ‘ä»¬è¦ä»‹ç»çš„GitLab CI</p><h1 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h1><blockquote><p>ä¸€ã€ä»‹ç»<br>äºŒã€æ¶æ„<br>ä¸‰ã€å®‰è£…<br>å››ã€é…ç½®</p></blockquote><h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>GitLab CIæ˜¯ä¸€å¥—é…åˆGitLabä½¿ç”¨çš„æŒç»­é›†æˆç³»ç»Ÿï¼Œä» GitLab 8.0 å¼€å§‹ï¼ŒGitLab CI å°±å·²ç»é›†æˆåœ¨ GitLab ä¸­ã€‚å·¥ä½œæµä¸€èˆ¬æ˜¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">åˆ†æ”¯å˜æ›´ --&gt; è‡ªåŠ¨ç¼–è¯‘ --&gt; è‡ªåŠ¨æµ‹è¯• --&gt; è‡ªåŠ¨éƒ¨ç½²</span><br></pre></td></tr></table></figure><h2 id="æ¶æ„"><a href="#æ¶æ„" class="headerlink" title="æ¶æ„"></a>æ¶æ„</h2><p>ä¸€å¼ æ¥è‡ªgitlabå®˜æ–¹çš„æ¶æ„å›¾ï¼š</p><p><img src="https://about.gitlab.com/images/ci/arch-1.jpg" alt="gitlab-ciæ¶æ„"></p><p>ä¸»è¦æœ‰ä¸¤éƒ¨åˆ†ç»„æˆï¼š</p><ul><li>Gitlab Server</li><li>Runner Server</li></ul><p>Gitlab Serveræ—¢å¯ä»¥æ˜¯å®˜æ–¹çš„ <a href="https://gitlab.com" target="_blank" rel="noopener">gitlab</a>ï¼Œä¹Ÿå¯ä»¥æ˜¯ä½ è‡ªå·±éƒ¨ç½²ï¼Œ8.0ä»¥ä¸Šå·²ç»é›†æˆGitlab CIã€‚<br>Runner Server æ—¢å¯ä»¥åœ¨vpsä¸Šè¿è¡Œï¼Œä¹Ÿå¯ä»¥åœ¨ä½ è‡ªå·±çš„ç”µè„‘ä¸Šè¿è¡Œã€‚</p><p><a href="https://docs.gitlab.com/runner/" target="_blank" rel="noopener">Runner</a>ä¼šè¿è¡Œä½ é¡¹ç›®ä¸­<code>.gitlab-ci.yml</code>å®šä¹‰çš„jobå¹¶ä¸”åé¦ˆç»™Gitlab Serverã€‚</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>ç°åœ¨æˆ‘ä»¬ä½¿ç”¨å®˜æ–¹çš„<a href="https://gitlab.com" target="_blank" rel="noopener">gitlab</a>ä½œä¸ºæˆ‘ä»¬çš„Gitlab Serverï¼Œä¸‹é¢æˆ‘ä»¬éœ€è¦å®‰è£…Gitlab Runneræ¥è¿è¡Œé¡¹ç›®ä¸­<code>.gitlab-ci.yml</code>å®šä¹‰çš„job</p><p>å®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo curl --output /usr/<span class="built_in">local</span>/bin/gitlab-runner https://gitlab-ci-multi-runner-downloads.s3.amazonaws.com/latest/binaries/gitlab-ci-multi-runner-darwin-amd64</span><br></pre></td></tr></table></figure><p>æ·»åŠ å¯æ‰§è¡Œæƒé™ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod +x /usr/<span class="built_in">local</span>/bin/gitlab-runner</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆä¹‹åæˆ‘ä»¬éœ€è¦æ³¨å†Œgitlab runneræ¥ç»‘å®šæˆ‘ä»¬çš„gitlabé¡¹ç›®</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gitlab-runner register</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ä¼šæœ‰å‡ ä¸ªæ­¥éª¤å»å®Œæˆæˆ‘ä»¬çš„æ³¨å†Œï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯æˆ‘ä»¬è¦æ‰¾åˆ°gitlab server urlå’Œé¡¹ç›®tokenå¹¶è®¾ç½®ï¼Œå‚è€ƒä¸‹å›¾çš„<code>How to setup  specific Runner for a new project</code>ï¼ˆ<code>Setting -&gt; Pipelines</code>ï¼‰ã€‚runneræ”¯æŒçš„æ‰§è¡Œæ–¹å¼æœ‰ssh, docker machine, docker-ssh machine, kubernetes, docker, parallels, virtualbox, docker-ssh, shellï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ssh</p><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p>å®‰è£…å®Œæˆä¹‹åæˆ‘ä»¬å»Gitlabé€‰æ‹©ä¸€ä¸ªé¡¹ç›® Setting -&gt; Pipelines:<br><img src="/images/gitlab-ci-configuration/1.png" alt="pipelines"><br>æˆ‘ä»¬ä¼šçœ‹åˆ°ä¸¤ç§Runnerï¼š</p><ul><li>Specific Runners</li><li>Shared Runners</li></ul><p>Specific Runnersæ˜¯æˆ‘ä»¬è‡ªå·±åˆ›å»ºçš„ï¼Œå¯ä»¥é’ˆå¯¹æˆ‘ä»¬è‡ªå·±çš„é¡¹ç›®ï¼ŒShared Runnersæ˜¯Gitlabç®¡ç†å‘˜åˆ›å»ºçš„ï¼Œé’ˆå¯¹æ‰€æœ‰çš„Gitlabé¡¹ç›®ã€‚å¯ä»¥çœ‹åˆ°å¯ç”¨çš„Specific Runnersä¸‹é¢æœ‰ä¸ª<code>17c17f05</code>ï¼Œè¿™ä¸ªå°±æ˜¯æˆ‘ä»¬åˆšæ‰æ³¨å†Œçš„Runnerã€‚</p><p>ç‚¹å‡»<code>Enable for this project</code>å¯ç”¨ï¼Œå¹¶ä¸”<code>Disable shared Runners</code>ç¦ç”¨Shared Runnersã€‚</p><p>ç°åœ¨Runnerå·²ç»å’Œæˆ‘ä»¬çš„é¡¹ç›®ç»‘å®šå¥½äº†ï¼Œä¸‹é¢å°±æ˜¯éœ€è¦å®šä¹‰æˆ‘ä»¬çš„å·¥ä½œæµå’Œè„šæœ¬äº†ã€‚</p><p>æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ª<code>.gitlab-ci.yml</code>æ–‡ä»¶æˆ–è€…åœ¨é¡¹ç›®é¦–é¡µç‚¹å‡»<code>Set up CI</code>ï¼Œä¸‹é¢æ˜¯æˆ‘åœ¨ç”¨çš„ä¸€ä¸ªNodejsé…ç½®ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">stages:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">build</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">test</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">deploy</span></span><br><span class="line"></span><br><span class="line"><span class="attr">cache:</span></span><br><span class="line">  <span class="attr">paths:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">node_modules/</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">dist/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">before_script:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">cp</span> <span class="string">.env.example</span> <span class="string">.env</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">yarn</span> <span class="string">install</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">yarn</span> <span class="string">build</span></span><br><span class="line"></span><br><span class="line"><span class="attr">build:</span></span><br><span class="line">  <span class="attr">stage:</span> <span class="string">build</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">yarn</span> <span class="string">build</span></span><br><span class="line"></span><br><span class="line"><span class="attr">test:</span></span><br><span class="line">  <span class="attr">stage:</span> <span class="string">test</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">yarn</span> <span class="string">test</span></span><br><span class="line"></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">stage:</span> <span class="string">deploy</span></span><br><span class="line">  <span class="attr">only:</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">master</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">pm2</span> <span class="string">delete</span> <span class="string">api</span> <span class="string">||</span> <span class="literal">true</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">pm2</span> <span class="string">start</span> <span class="string">dist/index.js</span> <span class="string">--name</span> <span class="string">api</span></span><br></pre></td></tr></table></figure><p>é…ç½®å®Œæˆï¼Œå½“åˆ†æ”¯å˜æ›´Gitlabå°±ä¼šé€šçŸ¥æˆ‘ä»¬æ³¨å†Œçš„Runnerå¼€å§‹å¹²æ´»ï¼Œé¦–å…ˆrunnerä¼šåœ¨æˆ‘ä»¬çš„vpsä¸Šç­¾å‡ºå˜æ›´çš„åˆ†æ”¯ï¼Œç„¶åè¿™ä¸ªä¾‹å­çš„pipelineåˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼š</p><ul><li>build</li><li>test</li><li>deploy</li></ul><p>ä»»ä½•ä¸€ä¸ªé˜¶æ®µå‡ºé”™ï¼Œéƒ½ä¸ä¼šç»§ç»­å¾€ä¸‹è¿›è¡Œï¼Œè¯¦ç»†çš„é…ç½®å‚è€ƒï¼š<a href="https://docs.gitlab.com/ce/ci/yaml/README.html" target="_blank" rel="noopener">.gitlab-ci.yml </a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å…ˆå” å¨ä¸€ä¸‹&lt;code&gt;æŒç»­é›†æˆ&lt;/code&gt;çš„æ¦‚å¿µå’Œä¸ºä»€ä¹ˆè¦å»ç”¨å®ƒï¼Œå¦‚æœæœ‰ä¸€å®šäº†è§£çš„è¯å¯ä»¥è·³è¿‡ç›´æ¥å»çœ‹æ­£æ–‡&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E6%8C%81%E7%BA%8C%E6%95%B4%E5%90%88&quot;
      
    
    </summary>
    
    
      <category term="gialab" scheme="https://catwen.cn/tags/gialab/"/>
    
  </entry>
  
</feed>
