<!DOCTYPE html><html lang="zh-cn"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> JavaScript 的各种简写和骚操作 · 夜色镇歌</title><meta name="description" content="JavaScript 的各种简写和骚操作 - 文鹏飞"><meta name="baidu_union_verify" content="72cef2f38e5e048b980ace9972697c53"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://catwen.cn/atom.xml" title="夜色镇歌"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">文章</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">归档</a></li><li class="nav-list-item"><a href="http://weibo.com/333241589" target="_blank" class="nav-list-link">微博</a></li><li class="nav-list-item"><a href="https://github.com/wenpengfei" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">JavaScript 的各种简写和骚操作</h1><div class="post-info">2021年12月24日</div><div class="post-content"><p><img src="/images/javascript-shorthand-techniques/1.png" alt></p>
<p>整理了一些 JavaScript 的算是小技巧的东西，不经常用的东西容易忘记，欢迎在留言区补充~</p>
<h2 id="三元表达式在-if…else-中的赋值操作"><a href="#三元表达式在-if…else-中的赋值操作" class="headerlink" title="三元表达式在 if…else 中的赋值操作"></a>三元表达式在 if…else 中的赋值操作</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> x = <span class="number">20</span></span><br><span class="line"><span class="keyword">let</span> answer</span><br><span class="line"></span><br><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="keyword">if</span> (x &gt; <span class="number">10</span>) &#123;</span><br><span class="line">  answer = <span class="string">'greater than 10'</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  answer = <span class="string">'less than 10'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//  简写</span></span><br><span class="line"><span class="keyword">const</span> answer = x &gt; <span class="number">10</span> ? <span class="string">"greater than 10"</span> : <span class="string">"less than 10"</span>;</span><br><span class="line"><span class="comment">// 也可以嵌套</span></span><br><span class="line"><span class="keyword">const</span> answer = x &gt; <span class="number">10</span> ? <span class="string">"greater than 10"</span> : x &lt; <span class="number">5</span> ? <span class="string">"less than 5"</span> : <span class="string">"between 5 and 10"</span>;</span><br></pre></td></tr></table></figure>
<h2 id="科学计数法"><a href="#科学计数法" class="headerlink" title="科学计数法"></a>科学计数法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">1e4</span>; i++) &#123;&#125;</span><br><span class="line"><span class="number">1e0</span> === <span class="number">1</span>;</span><br><span class="line"><span class="number">1e1</span> === <span class="number">10</span>;</span><br><span class="line"><span class="number">1e2</span> === <span class="number">100</span>;</span><br><span class="line"><span class="number">1e3</span> === <span class="number">1000</span>;</span><br><span class="line"><span class="number">1e4</span> === <span class="number">10000</span>;</span><br><span class="line"><span class="number">1e5</span> === <span class="number">100000</span>;</span><br></pre></td></tr></table></figure>
<h2 id="解构赋值简写"><a href="#解构赋值简写" class="headerlink" title="解构赋值简写"></a>解构赋值简写</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="keyword">const</span> observable = <span class="built_in">require</span>(<span class="string">'mobx/observable'</span>);</span><br><span class="line"><span class="keyword">const</span> action = <span class="built_in">require</span>(<span class="string">'mobx/action'</span>);</span><br><span class="line"><span class="keyword">const</span> runInAction = <span class="built_in">require</span>(<span class="string">'mobx/runInAction'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">this</span>.props.store;</span><br><span class="line"><span class="keyword">const</span> form = <span class="keyword">this</span>.props.form;</span><br><span class="line"><span class="keyword">const</span> loading = <span class="keyword">this</span>.props.loading;</span><br><span class="line"><span class="keyword">const</span> errors = <span class="keyword">this</span>.props.errors;</span><br><span class="line"><span class="keyword">const</span> entity = <span class="keyword">this</span>.props.entity;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="keyword">import</span> &#123; observable, action, runInAction &#125; <span class="keyword">from</span> <span class="string">'mobx'</span>;</span><br><span class="line"><span class="keyword">const</span> &#123; store, form, loading, errors, entity &#125; = <span class="keyword">this</span>.props;</span><br></pre></td></tr></table></figure>
<h2 id="必填参数"><a href="#必填参数" class="headerlink" title="必填参数"></a>必填参数</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">bar</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (bar === <span class="literal">undefined</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Missing parameter!'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> bar</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line">mandatory = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Missing parameter!'</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo = <span class="function">(<span class="params">bar = mandatory(</span>)) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> bar</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="合并对象"><a href="#合并对象" class="headerlink" title="合并对象"></a>合并对象</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fname = &#123; <span class="attr">firstName</span>: <span class="string">'Black'</span> &#125;</span><br><span class="line"><span class="keyword">let</span> lname = &#123; <span class="attr">lastName</span>: <span class="string">'Panther'</span> &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="keyword">let</span> full_names = <span class="built_in">Object</span>.assign(fname, lname)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 展开运算符写法</span></span><br><span class="line"><span class="keyword">let</span> full_names = &#123; ...fname, ...lname &#125;</span><br></pre></td></tr></table></figure>
<h2 id="检查-null、undefined-和空值"><a href="#检查-null、undefined-和空值" class="headerlink" title="检查 null、undefined 和空值"></a>检查 null、undefined 和空值</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="keyword">if</span> (variable1 !== <span class="literal">null</span> || variable1 !== <span class="literal">undefined</span> || variable1 !== <span class="string">''</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> variable2 = variable1</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="keyword">let</span> variable2 = variable1  || <span class="string">''</span>;</span><br></pre></td></tr></table></figure>
<h2 id="Array-find-多个条件"><a href="#Array-find-多个条件" class="headerlink" title="Array.find 多个条件"></a>Array.find 多个条件</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pets = [</span><br><span class="line">  &#123; <span class="attr">type</span>: <span class="string">'Dog'</span>, <span class="attr">name</span>: <span class="string">'Max'</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">type</span>: <span class="string">'Cat'</span>, <span class="attr">name</span>: <span class="string">'Karl'</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">type</span>: <span class="string">'Dog'</span>, <span class="attr">name</span>: <span class="string">'Tommy'</span> &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findDog</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; pets.length; ++i) &#123;</span><br><span class="line">    <span class="keyword">if</span> (pets[i].type === <span class="string">'Dog'</span> &amp;&amp; pets[i].name === name) &#123;</span><br><span class="line">      <span class="keyword">return</span> pets[i]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line">pet = pets.find(<span class="function">(<span class="params">pet</span>) =&gt;</span> pet.type === <span class="string">'Dog'</span> &amp;&amp; pet.name === <span class="string">'Tommy'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(pet) <span class="comment">// &#123; type: 'Dog', name: 'Tommy' &#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="Object-key"><a href="#Object-key" class="headerlink" title="Object[key]"></a>Object[key]</h2><p>我们都知道 <code>Foo.bar</code> 可以写成 <code>Foo[&#39;bar&#39;]</code> 的形式，利用好这两种写法可以写出易于阅读的代码</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 一般情况</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">validate</span>(<span class="params">values</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!values.first) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="keyword">if</span> (!values.last) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(validate(&#123; <span class="attr">first</span>: <span class="string">'Bruce'</span>, <span class="attr">last</span>: <span class="string">'Wayne'</span> &#125;)) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 复杂情况</span></span><br><span class="line"><span class="keyword">const</span> schema = &#123;</span><br><span class="line">  first: &#123;</span><br><span class="line">    required: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  last: &#123;</span><br><span class="line">    required: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// universal validation function</span></span><br><span class="line"><span class="keyword">const</span> validate = <span class="function">(<span class="params">schema, values</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (field <span class="keyword">in</span> schema) &#123;</span><br><span class="line">    <span class="keyword">if</span> (schema[field].required) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!values[field]) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(validate(schema, &#123; <span class="attr">first</span>: <span class="string">'Bruce'</span> &#125;)) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(validate(schema, &#123; <span class="attr">first</span>: <span class="string">'Bruce'</span>, <span class="attr">last</span>: <span class="string">'Wayne'</span> &#125;)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h2 id><a href="#" class="headerlink" title=" "></a> </h2><h2 id="声明多个变量"><a href="#声明多个变量" class="headerlink" title="声明多个变量"></a>声明多个变量</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="keyword">let</span> x</span><br><span class="line"><span class="keyword">let</span> y = <span class="number">20</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="keyword">let</span> x,</span><br><span class="line">  y = <span class="number">20</span></span><br></pre></td></tr></table></figure>
<h2 id="多个变量赋值"><a href="#多个变量赋值" class="headerlink" title="多个变量赋值"></a>多个变量赋值</h2><p>可以使用数组解构来为多个变量赋值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="keyword">let</span> a, b, c</span><br><span class="line">a = <span class="number">5</span></span><br><span class="line">b = <span class="number">8</span></span><br><span class="line">c = <span class="number">12</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="keyword">let</span> [a, b, c] = [<span class="number">5</span>, <span class="number">8</span>, <span class="number">12</span>]</span><br></pre></td></tr></table></figure>
<h2 id="三元运算符"><a href="#三元运算符" class="headerlink" title="三元运算符"></a>三元运算符</h2><p>三元运算符通常可以少些多行代码</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="keyword">let</span> marks = <span class="number">26</span></span><br><span class="line"><span class="keyword">let</span> result</span><br><span class="line"><span class="keyword">if</span> (marks &gt;= <span class="number">30</span>) &#123;</span><br><span class="line">  result = <span class="string">'Pass'</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  result = <span class="string">'Fail'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="keyword">let</span> result = marks &gt;= <span class="number">30</span> ? <span class="string">'Pass'</span> : <span class="string">'Fail'</span></span><br></pre></td></tr></table></figure>
<h2 id="设置默认值"><a href="#设置默认值" class="headerlink" title="设置默认值"></a>设置默认值</h2><p>我们可以使用 <code>||</code> 短路语法来设置默认值，防止抛异常</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="keyword">let</span> imagePath</span><br><span class="line"><span class="keyword">let</span> path = getImagePath()</span><br><span class="line"><span class="keyword">if</span> (path !== <span class="literal">null</span> &amp;&amp; path !== <span class="literal">undefined</span> &amp;&amp; path !== <span class="string">''</span>) &#123;</span><br><span class="line">  imagePath = path</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  imagePath = <span class="string">'default.jpg'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="keyword">let</span> imagePath = getImagePath() || <span class="string">'default.jpg'</span></span><br></pre></td></tr></table></figure>
<h2 id="AND（-amp-amp-）短路语法"><a href="#AND（-amp-amp-）短路语法" class="headerlink" title="AND（&amp;&amp;）短路语法"></a>AND（&amp;&amp;）短路语法</h2><p>当你需要判断一个表达式为 <code>True</code> 才进行下一步时可以使用 <code>&amp;&amp;</code> 短路语法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="keyword">if</span> (isLoggedIn) &#123;</span><br><span class="line">  goToHomepage()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line">isLoggedIn &amp;&amp; goToHomepage()</span><br></pre></td></tr></table></figure>
<p><code>&amp;&amp;</code> 短路语法在 <code>React</code> 条件渲染中用的很多，比如：</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt; &#123; <span class="keyword">this</span>.state.isLoading &amp;&amp; &lt;Loading /&gt; &#125; &lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="交换两个变量的值"><a href="#交换两个变量的值" class="headerlink" title="交换两个变量的值"></a>交换两个变量的值</h2><p>交换两个变量值的时候我们一般会引入第三个临时变量，但是现在我们可以用数组的解构去实现</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="string">'Hello'</span>,</span><br><span class="line">  y = <span class="number">55</span></span><br><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="keyword">const</span> temp = x</span><br><span class="line">x = y</span><br><span class="line">y = temp</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="keyword">const</span> [x, y] = [y, x]</span><br></pre></td></tr></table></figure>
<h2 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h2><p>这个不用多说了吧</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="keyword">const</span> add = <span class="function">(<span class="params">num1, num2</span>) =&gt;</span> num1 + num2</span><br></pre></td></tr></table></figure>
<h2 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h2><p>这个也不用多说，ES6 的常规操作</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'You got a missed call from '</span> + number + <span class="string">' at '</span> + time)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`You got a missed call from <span class="subst">$&#123;number&#125;</span> at <span class="subst">$&#123;time&#125;</span>`</span>)</span><br></pre></td></tr></table></figure>
<h2 id="多行字符串"><a href="#多行字符串" class="headerlink" title="多行字符串"></a>多行字符串</h2><p>同上</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="built_in">console</span>.log(</span><br><span class="line">  <span class="string">'JavaScript, often abbreviated as JS, is a\n'</span> +</span><br><span class="line">    <span class="string">'programming language that conforms to the \n'</span> +</span><br><span class="line">    <span class="string">'ECMAScript specification. JavaScript is high-level,\n'</span> +</span><br><span class="line">    <span class="string">'often just-in-time compiled, and multi-paradigm.'</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="built_in">console</span>.log(</span><br><span class="line">  <span class="string">`JavaScript, often abbreviated as JS, </span></span><br><span class="line"><span class="string">  is a programming language that conforms to the ECMAScript specification. </span></span><br><span class="line"><span class="string">  JavaScript is high-level, often just-in-time compiled, and multi-paradigm.`</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h2 id="多个条件判断"><a href="#多个条件判断" class="headerlink" title="多个条件判断"></a>多个条件判断</h2><p>当有多个值需要判断时，可以考虑使用 <code>indexOf()</code> 和 <code>includes()</code> 方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="keyword">if</span> (value === <span class="number">1</span> || value === <span class="string">'one'</span> || value === <span class="number">2</span> || value === <span class="string">'two'</span>) &#123;</span><br><span class="line">  <span class="comment">// 其他代码...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写 1</span></span><br><span class="line"><span class="keyword">if</span> ([<span class="number">1</span>, <span class="string">'one'</span>, <span class="number">2</span>, <span class="string">'two'</span>].indexOf(value) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">  <span class="comment">// 其他代码...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 简写 2</span></span><br><span class="line"><span class="keyword">if</span> ([<span class="number">1</span>, <span class="string">'one'</span>, <span class="number">2</span>, <span class="string">'two'</span>].includes(value)) &#123;</span><br><span class="line">  <span class="comment">// 其他代码...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="对象属性赋值"><a href="#对象属性赋值" class="headerlink" title="对象属性赋值"></a>对象属性赋值</h2><p>如果变量名和对象的属性名相同，就不用写<code>键：值</code>的形式，直接写变量名就行</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> firstName = <span class="string">'Amitav'</span></span><br><span class="line"><span class="keyword">let</span> lastName = <span class="string">'Mishra'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">firstName</span>: firstName, <span class="attr">lastName</span>: lastName &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123; firstName, lastName &#125;</span><br></pre></td></tr></table></figure>
<h2 id="字符串转数字"><a href="#字符串转数字" class="headerlink" title="字符串转数字"></a>字符串转数字</h2><p>虽然 JavaScript 内置了 <code>parseInt</code> 和 <code>parseFloat</code> 方法，但是我们也可以使用 <code>+</code> 操作符</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 常规写法 </span></span><br><span class="line"><span class="keyword">let</span> total = <span class="built_in">parseInt</span>(<span class="string">'453'</span>); </span><br><span class="line"><span class="keyword">let</span> average = <span class="built_in">parseFloat</span>(<span class="string">'42.6'</span>); </span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写 </span></span><br><span class="line"><span class="keyword">let</span> total = +<span class="string">'453'</span>; </span><br><span class="line"><span class="keyword">let</span> average = +<span class="string">'42.6'</span>;</span><br></pre></td></tr></table></figure>
<h2 id="重复字符串"><a href="#重复字符串" class="headerlink" title="重复字符串"></a>重复字符串</h2><p>要把字符串重复指定的次数，可以使用 <code>for</code> 循环，现在可以使用 <code>repeat()</code> 方法一行搞定</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">''</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">  str += <span class="string">'Hello '</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(str) <span class="comment">// Hello Hello Hello Hello Hello</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="string">'Hello '</span>.repeat(<span class="number">5</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>惹恼了女朋友需要说一百遍 sorry ？每次还得换行？结尾加个 <code>\n</code> 换行符就行</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'sorry\n'</span>.repeat(<span class="number">100</span>);</span><br></pre></td></tr></table></figure>
<h2 id="指数运算"><a href="#指数运算" class="headerlink" title="指数运算"></a>指数运算</h2><p>一般我们使用 <code>Math.pow()</code> 进行指数运算，现在我们可以使用双星号 <code>(**)</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="keyword">const</span> power = <span class="built_in">Math</span>.pow(<span class="number">4</span>, <span class="number">3</span>) <span class="comment">// 64</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="keyword">const</span> power = <span class="number">4</span> ** <span class="number">3</span> <span class="comment">// 64</span></span><br></pre></td></tr></table></figure>
<h2 id="双非位运算符（-）"><a href="#双非位运算符（-）" class="headerlink" title="双非位运算符（~~）"></a>双非位运算符（~~）</h2><p>双非位运算符是 <code>Math.floor()</code> 的替代品</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="keyword">const</span> floor = <span class="built_in">Math</span>.floor(<span class="number">6.8</span>) <span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="keyword">const</span> floor = ~~<span class="number">6.8</span> <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>
<h2 id="找到数组中的最大-最小值"><a href="#找到数组中的最大-最小值" class="headerlink" title="找到数组中的最大/最小值"></a>找到数组中的最大/最小值</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">2</span>, <span class="number">8</span>, <span class="number">15</span>, <span class="number">4</span>]</span><br><span class="line"><span class="built_in">Math</span>.max(...arr) <span class="comment">// 15</span></span><br><span class="line"><span class="built_in">Math</span>.min(...arr) <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<h2 id="for-循环"><a href="#for-循环" class="headerlink" title="for 循环"></a>for 循环</h2><p>我们一般都用 <code>for</code> 循环去遍历一个数组，现在我们可以用 <code>for...of</code> 遍历值，使用 <code>for...in</code> 遍历索引</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> element <span class="keyword">of</span> array1) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(element);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// expected output: "a"</span></span><br><span class="line"><span class="comment">// expected output: "b"</span></span><br><span class="line"><span class="comment">// expected output: "c"</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;<span class="attr">a</span>:<span class="number">1</span>, <span class="attr">b</span>:<span class="number">2</span>, <span class="attr">c</span>:<span class="number">3</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> prop <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"obj."</span> + prop + <span class="string">" = "</span> + obj[prop]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// "obj.a = 1"</span></span><br><span class="line"><span class="comment">// "obj.b = 2"</span></span><br><span class="line"><span class="comment">// "obj.c = 3"</span></span><br></pre></td></tr></table></figure>
<h2 id="合并数组"><a href="#合并数组" class="headerlink" title="合并数组"></a>合并数组</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="keyword">let</span> arr2 = arr1.concat([<span class="number">60</span>, <span class="number">80</span>])</span><br><span class="line"><span class="comment">// [20, 30, 60, 80]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="keyword">let</span> arr2 = [...arr1, <span class="number">60</span>, <span class="number">80</span>]</span><br><span class="line"><span class="comment">// [20, 30, 60, 80]</span></span><br></pre></td></tr></table></figure>
<h2 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">x</span>: <span class="number">20</span>, <span class="attr">y</span>: &#123; <span class="attr">z</span>: <span class="number">30</span> &#125; &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line"><span class="keyword">const</span> makeDeepClone = <span class="function">(<span class="params">obj</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> newObject = &#123;&#125;</span><br><span class="line">  <span class="built_in">Object</span>.keys(obj).map(<span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> obj[key] === <span class="string">'object'</span>) &#123;</span><br><span class="line">      newObject[key] = makeDeepClone(obj[key])</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      newObject[key] = obj[key]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> newObject</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> cloneObj = makeDeepClone(obj)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 属性值不含 function, undefined 或者 NaN 时</span></span><br><span class="line"><span class="keyword">const</span> cloneObj = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(obj))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 也可以用展开运算符</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">x</span>: <span class="number">20</span>, <span class="attr">y</span>: <span class="string">'hello'</span> &#125;</span><br><span class="line"><span class="keyword">const</span> cloneObj = &#123; ...obj &#125;</span><br></pre></td></tr></table></figure>
<h2 id="获取字符"><a href="#获取字符" class="headerlink" title="获取字符"></a>获取字符</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'jscurious.com'</span></span><br><span class="line"><span class="comment">// 常规写法</span></span><br><span class="line">str.charAt(<span class="number">2</span>) <span class="comment">// c</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line">str[<span class="number">2</span>] <span class="comment">// c</span></span><br></pre></td></tr></table></figure>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="https://JavaScript.plainenglish.io/20-JavaScript-shorthand-techniques-that-will-save-your-time-f1671aab405f" target="_blank" rel="noopener">[1] 20 JavaScript Shorthand Techniques that will save your time</a><br><a href="https://medium.com/hackernoon/12-amazing-JavaScript-shorthand-techniques-fef16cdbc7fe" target="_blank" rel="noopener">[2] 12 Good JavaScript Shorthand Techniques</a><br><a href="https://www.sitepoint.com/shorthand-JavaScript-techniques/" target="_blank" rel="noopener">[3] 25+ JavaScript Shorthand Coding Techniques</a></p>
</div></article></div></main><footer><div class="paginator"><a href="/2021/12/18/13-javascript-one-liners-thatll-make-you-look-like-a-pro/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2021 <a href="https://catwen.cn">文鹏飞</a></p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script data-ad-client="ca-pub-9719602535480843" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>var _hmt = _hmt || [];
(function() {
var hm = document.createElement("script");
hm.src = "https://hm.baidu.com/hm.js?508f12c140e77c01b9acd8055bcea5e2";
var s = document.getElementsByTagName("script")[0]; 
s.parentNode.insertBefore(hm, s);
})();</script></body></html>