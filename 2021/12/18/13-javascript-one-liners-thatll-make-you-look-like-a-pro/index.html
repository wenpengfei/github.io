<!DOCTYPE html><html lang="zh-cn"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 13 行 JavaScript 代码让你看起来像是高手 · 夜色镇歌</title><meta name="description" content="13 行 JavaScript 代码让你看起来像是高手 - 文鹏飞"><meta name="baidu_union_verify" content="72cef2f38e5e048b980ace9972697c53"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://catwen.cn/atom.xml" title="夜色镇歌"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">文章</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">归档</a></li><li class="nav-list-item"><a href="http://weibo.com/333241589" target="_blank" class="nav-list-link">微博</a></li><li class="nav-list-item"><a href="https://github.com/wenpengfei" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">13 行 JavaScript 代码让你看起来像是高手</h1><div class="post-info">2021年12月18日</div><div class="post-content"><p><code>Javascript</code> 可以做许多神奇的事情，也有很多东西需要学习，今天我们介绍几个短小精悍的代码段。</p>
<h2 id="获取随机布尔值（True-False）"><a href="#获取随机布尔值（True-False）" class="headerlink" title="获取随机布尔值（True/False）"></a>获取随机布尔值（True/False）</h2><p>使用 <code>Math.random()</code> 会返回 0 到 1 的随机数，之后判断它是否大于 0.5，将会得到一个 50% 概率为 <code>True</code> 或 <code>False</code> 的值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> randomBoolean = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">Math</span>.random() &gt;= <span class="number">0.5</span>;</span><br><span class="line"><span class="built_in">console</span>.log(randomBoolean());</span><br></pre></td></tr></table></figure>
<h2 id="判断一个日期是否是工作日"><a href="#判断一个日期是否是工作日" class="headerlink" title="判断一个日期是否是工作日"></a>判断一个日期是否是工作日</h2><p>判断给定的日期是否是工作日</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isWeekday = <span class="function">(<span class="params">date</span>) =&gt;</span> date.getDay() % <span class="number">6</span> !== <span class="number">0</span>;</span><br><span class="line"><span class="built_in">console</span>.log(isWeekday(<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2021</span>, <span class="number">0</span>, <span class="number">11</span>)));</span><br><span class="line"><span class="comment">// Result: true (周一)</span></span><br><span class="line"><span class="built_in">console</span>.log(isWeekday(<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2021</span>, <span class="number">0</span>, <span class="number">10</span>)));</span><br><span class="line"><span class="comment">// Result: false (周日)</span></span><br></pre></td></tr></table></figure>
<h2 id="反转字符串"><a href="#反转字符串" class="headerlink" title="反转字符串"></a>反转字符串</h2><p>有许多反转字符串的方法，这里使用一种最简单的，使用了 <code>split()</code>，<code>reverse()</code> 和 <code>join()</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reverse = <span class="function"><span class="params">str</span> =&gt;</span> str.split(<span class="string">''</span>).reverse().join(<span class="string">''</span>);</span><br><span class="line">reverse(<span class="string">'hello world'</span>);     </span><br><span class="line"><span class="comment">// Result: 'dlrow olleh'</span></span><br></pre></td></tr></table></figure>
<h2 id="判断当前标签页是否为可视状态"><a href="#判断当前标签页是否为可视状态" class="headerlink" title="判断当前标签页是否为可视状态"></a>判断当前标签页是否为可视状态</h2><p>浏览器可以打开很多标签页，下面 👇🏻 的代码段就是判断当前标签页是否是激活的标签页</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isBrowserTabInView = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">document</span>.hidden;</span><br><span class="line">isBrowserTabInView();</span><br></pre></td></tr></table></figure>
<h2 id="判断数字为奇数或者偶数"><a href="#判断数字为奇数或者偶数" class="headerlink" title="判断数字为奇数或者偶数"></a>判断数字为奇数或者偶数</h2><p>取模运算符 <code>%</code> 可以很好地完成这个任务</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isEven = <span class="function"><span class="params">num</span> =&gt;</span> num % <span class="number">2</span> === <span class="number">0</span>;</span><br><span class="line"><span class="built_in">console</span>.log(isEven(<span class="number">2</span>));</span><br><span class="line"><span class="comment">// Result: true</span></span><br><span class="line"><span class="built_in">console</span>.log(isEven(<span class="number">3</span>));</span><br><span class="line"><span class="comment">// Result: false</span></span><br></pre></td></tr></table></figure>
<h2 id="从-Date-对象中获取时间"><a href="#从-Date-对象中获取时间" class="headerlink" title="从 Date 对象中获取时间"></a>从 Date 对象中获取时间</h2><p>使用 <code>Date</code> 对象的 <code>.toTimeString()</code> 方法转换为时间字符串，之后截取字符串即可</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> timeFromDate = <span class="function"><span class="params">date</span> =&gt;</span> date.toTimeString().slice(<span class="number">0</span>, <span class="number">8</span>);</span><br><span class="line"><span class="built_in">console</span>.log(timeFromDate(<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2021</span>, <span class="number">0</span>, <span class="number">10</span>, <span class="number">17</span>, <span class="number">30</span>, <span class="number">0</span>))); </span><br><span class="line"><span class="comment">// Result: "17:30:00"</span></span><br><span class="line"><span class="built_in">console</span>.log(timeFromDate(<span class="keyword">new</span> <span class="built_in">Date</span>()));</span><br><span class="line"><span class="comment">// Result: 返回当前时间</span></span><br></pre></td></tr></table></figure>
<h2 id="保留指定的小数位"><a href="#保留指定的小数位" class="headerlink" title="保留指定的小数位"></a>保留指定的小数位</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> toFixed = <span class="function">(<span class="params">n, fixed</span>) =&gt;</span> ~~(<span class="built_in">Math</span>.pow(<span class="number">10</span>, fixed) * n) / <span class="built_in">Math</span>.pow(<span class="number">10</span>, fixed);</span><br><span class="line"><span class="comment">// Examples</span></span><br><span class="line">toFixed(<span class="number">25.198726354</span>, <span class="number">1</span>);       <span class="comment">// 25.1</span></span><br><span class="line">toFixed(<span class="number">25.198726354</span>, <span class="number">2</span>);       <span class="comment">// 25.19</span></span><br><span class="line">toFixed(<span class="number">25.198726354</span>, <span class="number">3</span>);       <span class="comment">// 25.198</span></span><br><span class="line">toFixed(<span class="number">25.198726354</span>, <span class="number">4</span>);       <span class="comment">// 25.1987</span></span><br><span class="line">toFixed(<span class="number">25.198726354</span>, <span class="number">5</span>);       <span class="comment">// 25.19872</span></span><br><span class="line">toFixed(<span class="number">25.198726354</span>, <span class="number">6</span>);       <span class="comment">// 25.198726</span></span><br></pre></td></tr></table></figure>
<h2 id="检查指定元素是否处于聚焦状态"><a href="#检查指定元素是否处于聚焦状态" class="headerlink" title="检查指定元素是否处于聚焦状态"></a>检查指定元素是否处于聚焦状态</h2><p>可以使用 <code>document.activeElement</code> 来判断元素是否处于聚焦状态</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> elementIsInFocus = <span class="function">(<span class="params">el</span>) =&gt;</span> (el === <span class="built_in">document</span>.activeElement);</span><br><span class="line">elementIsInFocus(anyElement)</span><br><span class="line"><span class="comment">// Result: 如果处于焦点状态会返回 True 否则返回 False</span></span><br></pre></td></tr></table></figure>
<h2 id="检查当前用户是否支持触摸事件"><a href="#检查当前用户是否支持触摸事件" class="headerlink" title="检查当前用户是否支持触摸事件"></a>检查当前用户是否支持触摸事件</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> touchSupported = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  (<span class="string">'ontouchstart'</span> <span class="keyword">in</span> <span class="built_in">window</span> || <span class="built_in">window</span>.DocumentTouch &amp;&amp; <span class="built_in">document</span> <span class="keyword">instanceof</span> <span class="built_in">window</span>.DocumentTouch);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(touchSupported());</span><br><span class="line"><span class="comment">// Result: 如果支持触摸事件会返回 True 否则返回 False</span></span><br></pre></td></tr></table></figure>
<h2 id="检查当前用户是否是苹果设备"><a href="#检查当前用户是否是苹果设备" class="headerlink" title="检查当前用户是否是苹果设备"></a>检查当前用户是否是苹果设备</h2><p>可以使用 <code>navigator.platform</code> 判断当前用户是否是苹果设备</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isAppleDevice = <span class="regexp">/Mac|iPod|iPhone|iPad/</span>.test(navigator.platform);</span><br><span class="line"><span class="built_in">console</span>.log(isAppleDevice);</span><br><span class="line"><span class="comment">// Result: 是苹果设备会返回 True</span></span><br></pre></td></tr></table></figure>
<h2 id="滚动至页面顶部"><a href="#滚动至页面顶部" class="headerlink" title="滚动至页面顶部"></a>滚动至页面顶部</h2><p><code>window.scrollTo()</code> 会滚动至指定的坐标，如果设置坐标为（0，0），就会回到页面顶部</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> goToTop = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">window</span>.scrollTo(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">goToTop();</span><br><span class="line"><span class="comment">// Result: 将会滚动至顶部</span></span><br></pre></td></tr></table></figure>
<h2 id="获取所有参数的平均值"><a href="#获取所有参数的平均值" class="headerlink" title="获取所有参数的平均值"></a>获取所有参数的平均值</h2><p>可以使用 <code>reduce()</code> 函数来计算所有参数的平均值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> average = <span class="function">(<span class="params">...args</span>) =&gt;</span> args.reduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b) / args.length;</span><br><span class="line">average(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line"><span class="comment">// Result: 2.5</span></span><br></pre></td></tr></table></figure>
<h2 id="转换华氏-摄氏"><a href="#转换华氏-摄氏" class="headerlink" title="转换华氏/摄氏"></a>转换华氏/摄氏</h2><p>再也不怕处理温度单位了，下面两个函数是两个温度单位的相互转换。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> celsiusToFahrenheit = <span class="function">(<span class="params">celsius</span>) =&gt;</span> celsius * <span class="number">9</span>/<span class="number">5</span> + <span class="number">32</span>;</span><br><span class="line"><span class="keyword">const</span> fahrenheitToCelsius = <span class="function">(<span class="params">fahrenheit</span>) =&gt;</span> (fahrenheit - <span class="number">32</span>) * <span class="number">5</span>/<span class="number">9</span>;</span><br><span class="line"><span class="comment">// Examples</span></span><br><span class="line">celsiusToFahrenheit(<span class="number">15</span>);    <span class="comment">// 59</span></span><br><span class="line">celsiusToFahrenheit(<span class="number">0</span>);     <span class="comment">// 32</span></span><br><span class="line">celsiusToFahrenheit(<span class="number">-20</span>);   <span class="comment">// -4</span></span><br><span class="line">fahrenheitToCelsius(<span class="number">59</span>);    <span class="comment">// 15</span></span><br><span class="line">fahrenheitToCelsius(<span class="number">32</span>);    <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>
<p>感谢阅读，希望你会有所收获😄</p>
</div></article></div></main><footer><div class="paginator"><a href="/2021/12/12/home-networking-and-service/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2021 <a href="https://catwen.cn">文鹏飞</a></p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script data-ad-client="ca-pub-9719602535480843" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>var _hmt = _hmt || [];
(function() {
var hm = document.createElement("script");
hm.src = "https://hm.baidu.com/hm.js?508f12c140e77c01b9acd8055bcea5e2";
var s = document.getElementsByTagName("script")[0]; 
s.parentNode.insertBefore(hm, s);
})();</script></body></html>